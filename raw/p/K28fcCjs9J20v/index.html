<!DOCTYPE html>
<!-- saved from url=(0014)about:internet -->
<html lang="en">
<head>
<title>--The Whole Board--</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
<meta http-equiv="Pragma" content="no-cache">
<meta name="http-equiv" content="Content-type: text/html; charset=ISO-88591"/>
<link rel="shortcut icon" href="favicon.ico">
<link rel="stylesheet" href="https://lo-th.github.io/lab/css/lab.css">
<link rel="stylesheet" href="css/style.css">
<!--<jQUery>-->
<script
src="https://code.jquery.com/jquery-3.6.0.min.js"
integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
crossorigin="anonymous"></script>

<!--<CODE / LAB>-->
<script src="./build/code.js"></script>
<script src="./build/lab.js"></script>

<!--<MAIN>-->
<script src="./build/shot.min.js"></script>
<script src="./js/main.js"></script>
</head>

<body>
<button disabled id= "Throw">Tirar los dados</button>
<display>
	<log></log>
	<img src="/" alt="">
	<div><button id="acquire">Adquirir</button><button id="refuse">Declinar</button></div>
</display>
<debuggers>
    <div class="burger"><span>...</span></div>
</debuggers>
<script>

window.onload = init;

$("#Throw").on("click", function(){
    if(!$("#Throw").attr("disabled")){
        if("undefined"!=typeof oldColor){
            oldColor.recT.material.color= oldColor.col;
            active_recTangle= null;
            delete oldColor
            info.clear()
        }
        dices.inform(dices.throw())
    	$("#Throw").blur()
        dices.disable_throw()
        chaR(activeChar).previys_posiTion= chaR(activeChar).posiTion
        while(chaR(activeChar).posiTion + (Throw[0] + Throw[1]) > 47 ){
        	chaR(activeChar).posiTion -= 48
        }
        chaR(activeChar).posiTion+= (Throw[0] + Throw[1])
    }
    $("#Throw").blur()
})
$("#acquire").on("click", function(){
    if(!!active_recTangle){
    	if("undefined"!=typeof recTangle_info[active_recTangle])chaR(activeChar).currencies -= recTangle_info[active_recTangle].price
        if("undefined"!=typeof recTangle_info[active_recTangle])recTangle_info[active_recTangle].funcTion()
        active_recTangle= null
        setTimeout(function(){
        	nextChar= activeChar + 1 <= 3? activeChar + 1: 0
            bReak= false
        	while(chaR(nextChar).skip && !bReak){
				chaR(nextChar).skip--
                if(!chaR(nextChar).skip){
                    chaR(nextChar).desterrado= true
                }
        		nextChar= nextChar + 1 <= 3? nextChar + 1: 0
        	}
            if("undefined"!=typeof chaR(nextChar).desterrado){
                physic.matrix( [ { name:CARS[nextChar].name, pos: [ 32.5, 1, -45.5], noVelocity:true } ] )
                delete chaR(nextChar).desterrado
            }
        	changeChar(nextChar)
            dices.setThrower(nextChar)
            activeChar= nextChar
            if(chaR(activeChar).hand==="of_God"){editor.extraMode== ""?editor.toggleExtraMode( 'picker' ):1;$("body").css({"cursor":"pointer"})}else{
                editor.extraMode== "picker"?editor.toggleExtraMode( 'picker' ):1;$("body").css({"cursor":"move"})
            }
        }, 3000)
    }
})
$("#refuse").on("click", function(){
    if(!!active_recTangle){
        if("undefined"!=typeof recTangle_info[active_recTangle] && "undefined"!=typeof recTangle_info[active_recTangle].re_fusTion)recTangle_info[active_recTangle].re_fusTion()
            active_recTangle= null
        setTimeout(function(){
        	nextChar= activeChar + 1 <= 3? activeChar + 1: 0
        	while(chaR(nextChar).skip){
				chaR(nextChar).skip--
                if(!chaR(nextChar).skip){
                    chaR(nextChar).desterrado= true
                }
        		nextChar= nextChar + 1 <= 3? nextChar + 1: 0
        	}
            if("undefined"!=typeof chaR(nextChar).desterrado){
                physic.matrix( [ { name:CARS[nextChar].name, pos: [ 32.5, 1, -45.5], noVelocity:true } ] )
                delete chaR(nextChar).desterrado
            }
        	changeChar(nextChar)
            dices.setThrower(nextChar)
            activeChar= nextChar
            if(chaR(activeChar).hand==="of_God"){editor.extraMode== ""?editor.toggleExtraMode( 'picker' ):1;$("body").css({"cursor":"pointer"})}else{
                editor.extraMode== "picker"?editor.toggleExtraMode( 'picker' ):1;$("body").css({"cursor":"move"})
            }
        }, 3000)
    }
})
window.display= {}
window.burger= {}
window.info= {}
window.dices= {}
window.Throw= []


</script>
</body>
</html>