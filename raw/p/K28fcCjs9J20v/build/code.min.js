var view,demos,user,UIL,exports,define,module,performance,CodeMirror,getComputedStyle,require,requirejs,esprima,global;(function(k,t){"object"===typeof exports&&"undefined"!==typeof module?t(exports):"function"===typeof define&&define.amd?define(["exports"],t):(k=k||self,t(k.UIL={}))})(this,function(k){function t(d,a){this.x=d||0;this.y=a||0}function y(d){d=d||{};this.css=z.css;this.colors=z.colors;this.defaultBorderColor=this.colors.border;this.svgs=z.svgs;this.zone={x:0,y:0,w:0,h:0};this.local=(new t).neg();this.isCanvasOnly=!1;this.main=d.main||null;this.isUI=d.isUI||!1;this.parentGroup=null;this.p=void 0!==d.p?
d.p:z.size.p;this.w=this.isUI?this.main.size.w:z.size.w;void 0!==d.w&&(this.w=d.w);this.h=this.isUI?this.main.size.h:z.size.h;void 0!==d.h&&(this.h=d.h);this.h=11>this.h?11:this.h;this.autoWidth=d.auto||!0;this.isOpen=!1;this.radius=d.radius||0;this.isEdit=this.mono=this.isNumber=!1;if(this.simple=d.simple||!1)this.sa=0;this.setSize(this.w);void 0!==d.sa&&(this.sa=d.sa);void 0!==d.sb&&(this.sb=d.sb);this.simple&&(this.sb=this.w-this.sa);this.sc=void 0===d.sc?47:d.sc;this.objectLink=null;this.isSend=
!1;this.val=null;this.bg=this.isUI?this.main.bg:z.colors.background;this.bgOver=z.colors.backgroundOver;void 0!==d.bg&&(this.bgOver=this.bg=d.bg);void 0!==d.bgOver&&(this.bgOver=d.bgOver);this.titleColor=d.titleColor||z.colors.text;this.fontColor=d.fontColor||z.colors.text;void 0!==d.color&&("n"===d.color&&(d.color="#ff0000"),"no"!==d.color&&(isNaN(d.color)?this.fontColor=d.color:this.fontColor=z.hexToHtml(d.color),this.titleColor=this.fontColor));this.colorPlus=z.ColorLuma(this.fontColor,.3);this.txt=
d.name||"Proto";this.rename=d.rename||"";this.target=d.target||null;this.callback=void 0===d.callback?null:d.callback;this.endCallback=null;null===this.callback&&this.isUI&&null!==this.main.callback&&(this.callback=this.main.callback);this.c=[];this.s=[];this.c[0]=z.dom("div",z.css.basic+"position:relative; height:20px; float:left; overflow:hidden;");this.s[0]=this.c[0].style;this.isUI&&(this.s[0].marginBottom="1px");this.simple||(this.c[1]=z.dom("div",z.css.txt),this.s[1]=this.c[1].style,this.c[1].textContent=
""===this.rename?this.txt:this.rename,this.s[1].color=this.titleColor);if(d.pos){this.s[0].position="absolute";for(var a in d.pos)this.s[0][a]=d.pos[a];this.mono=!0}d.css&&(this.s[0].cssText=d.css)}function r(d){y.call(this,d);this.value=d.value||!1;this.buttonColor=d.bColor||this.colors.button;this.inh=d.inh||this.h;d=Math.floor(.5*this.h)-.5*(this.inh-2);this.c[2]=this.dom("div",this.css.basic+"background:"+this.colors.boolbg+"; height:"+(this.inh-2)+"px; width:36px; top:"+d+"px; border-radius:10px; border:2px solid "+
this.boolbg);this.c[3]=this.dom("div",this.css.basic+"height:"+(this.inh-6)+"px; width:16px; top:"+(d+2)+"px; border-radius:10px; background:"+this.buttonColor+";");this.init();this.update()}function p(d){y.call(this,d);this.value=!1;this.values=d.value||this.txt;"string"===typeof this.values&&(this.values=[this.values]);this.isDown=!1;this.buttonColor=d.bColor||this.colors.button;this.isLoadButton=d.loader||!1;if(this.isDragButton=d.drag||!1)this.isLoadButton=!0;this.lng=this.values.length;this.tmp=
[];this.stat=[];for(d=0;d<this.lng;d++)this.c[d+2]=this.dom("div",this.css.txt+"text-align:center; top:1px; background:"+this.buttonColor+"; height:"+(this.h-2)+"px; border-radius:"+this.radius+"px; line-height:"+(this.h-4)+"px;"),this.c[d+2].style.color=this.fontColor,this.c[d+2].innerHTML=this.values[d],this.stat[d]=1;void 0!==this.c[1]&&(this.c[1].textContent="");this.isLoadButton&&this.initLoader();this.isDragButton&&(this.lng++,this.initDrager());this.init()}function n(d){y.call(this,d);this.autoWidth=
!1;this.buttonColor=this.colors.button;this.setTypeNumber(d);this.radius=.5*this.w;this.twoPi=2*Math.PI;this.pi90=.5*Math.PI;this.offset=new t;this.h=d.h||this.w+10;this.top=0;this.c[0].style.width=this.w+"px";void 0!==this.c[1]&&(this.c[1].style.width=this.w+"px",this.c[1].style.textAlign="center",this.top=10,this.h+=10);this.cmode=this.percent=0;this.c[2]=this.dom("div",this.css.txt+"text-align:center; top:"+(this.h-20)+"px; width:"+this.w+"px; color:"+this.fontColor);this.c[3]=this.getCircular();
this.setSvg(this.c[3],"d",this.makePath(),1);this.setSvg(this.c[3],"stroke",this.fontColor,1);this.setSvg(this.c[3],"viewBox","0 0 "+this.w+" "+this.w);this.setCss(this.c[3],{width:this.w,height:this.w,left:0,top:this.top});this.init();this.update()}function w(d){y.call(this,d);this.ctype=d.ctype||"array";this.wfixe=256<this.sb?256:this.sb;this.side=d.side||"down";this.up="down"===this.side?0:1;this.baseH=this.h;this.offset=new t;this.decal=new t;this.pi90=.5*Math.PI;this.c[2]=this.dom("div",this.css.txt+
"height:"+(this.h-4)+"px;border-radius:"+this.radius+"px; line-height:"+(this.h-8)+"px;");this.s[2]=this.c[2].style;this.up&&(this.s[2].top="auto",this.s[2].bottom="2px");this.c[3]=this.getColorRing();this.c[3].style.visibility="hidden";this.hsl=null;this.value="#ffffff";void 0!==d.value&&(d.value instanceof Array?this.value=z.rgbToHex(d.value):isNaN(d.value)?this.value=d.value:this.value=z.hexToHtml(d.value));this.bcolor=null;this.isDown=!1;this.setColor(this.value);this.init();void 0!==d.open&&
this.open()}function A(d){y.call(this,d);this.round=Math.round;this.autoHeight=!0;this.baseH=this.h;this.hplus=50;this.res=d.res||40;this.l=1;this.pa1=[];this.pa2=[];this.pa3=[];for(var a=this.res+1;a--;)this.pa1.push(50),this.pa2.push(50),this.pa3.push(50);a=Math.floor(.5*this.h)-6;this.c[1].textContent="FPS";this.c[0].style.cursor="pointer";this.c[0].style.pointerEvents="auto";this.c[2]=this.dom("path",this.css.basic+("display:none; left:10px; top:"+this.h+"px; height:"+(this.hplus-8)+"px; background: rgba(0, 0, 0, 0.2);border:1px solid rgba(255, 255, 255, 0.2); "),
{fill:"rgba(200,200,200,0.3)","stroke-width":1,stroke:this.fontColor,"vector-effect":"non-scaling-stroke"});this.c[2].setAttribute("viewBox","0 0 "+this.res+" 42");this.c[2].setAttribute("height","100%");this.c[2].setAttribute("width","100%");this.c[2].setAttribute("preserveAspectRatio","none");this.dom("path",null,{fill:"rgba(255,255,0,0.3)","stroke-width":1,stroke:"#FF0","vector-effect":"non-scaling-stroke"},this.c[2]);this.dom("path",null,{fill:"rgba(0,255,255,0.3)","stroke-width":1,stroke:"#0FF",
"vector-effect":"non-scaling-stroke"},this.c[2]);this.c[3]=this.dom("div",this.css.basic+"width:100%; bottom:0px; height:1px; background: rgba(255, 255, 255, 0.2);");this.c[4]=this.dom("path",this.css.basic+"position:absolute; width:10px; height:10px; left:4px; top:"+a+"px;",{d:"M 3 8 L 8 5 3 2 3 8 Z",fill:this.fontColor,stroke:"none"});this.isShow=d.show||!1;this.c[1].style.marginLeft="10px";this.now=self.performance&&self.performance.now?self.performance.now.bind(performance):Date.now;this.prevTime=
this.startTime=this.now();this.frames=0;this.isMem=!1;this.mm=this.mem=this.fps=this.ms=0;self.performance&&self.performance.memory&&(this.isMem=!0);this.init()}function l(d){y.call(this,d);this.value=void 0!==d.value?d.value:[0,0,0];this.lng=this.value.length;this.precision=void 0!==d.precision?d.precision:2;this.multiplicator=d.multiplicator||1;this.neg=d.neg||!1;this.autoWidth=void 0!==d.autoWidth?d.autoWidth:!0;this.isDown=this.isNumber=!1;this.h=d.h||138;this.rh=this.h-10;this.top=0;this.c[0].style.width=
this.w+"px";void 0!==this.c[1]&&(this.c[1].style.width=this.w+"px",this.top=10,this.h+=10);this.gh=this.rh-28;this.gw=this.w-28;this.c[2]=this.dom("div",this.css.txt+"text-align:center; top:"+(this.h-20)+"px; width:"+this.w+"px; color:"+this.fontColor);this.c[2].textContent=this.value;d=this.dom("svg",this.css.basic,{viewBox:"0 0 "+this.w+" "+this.rh,width:this.w,height:this.rh,preserveAspectRatio:"none"});this.setCss(d,{width:this.w,height:this.rh,left:0,top:this.top});this.dom("path","",{d:"",stroke:this.colors.text,
"stroke-width":2,fill:"none","stroke-linecap":"butt"},d);this.dom("rect","",{x:10,y:10,width:this.gw+8,height:this.gh+8,stroke:"rgba(0,0,0,0.3)","stroke-width":1,fill:"none"},d);this.iw=(this.gw-4*(this.lng-1))/this.lng;var a=[];this.cMode=[];this.v=[];for(var c=0;c<this.lng;c++)a[c]=[14+c*this.iw+4*c,this.iw],a[c][2]=a[c][0]+a[c][1],this.cMode[c]=0,this.v[c]=this.neg?.5*(1+this.value[c]/this.multiplicator):this.value[c]/this.multiplicator,this.dom("rect","",{x:a[c][0],y:14,width:a[c][1],height:1,
fill:this.fontColor,"fill-opacity":.3},d);this.tmp=a;this.c[3]=d;console.log(this.w);this.init();void 0!==this.c[1]&&(this.c[1].style.top="0px",this.c[1].style.height="20px",this.s[1].lineHeight="15px");this.update(!1)}function G(d){y.call(this,d);this.uis=[];this.autoHeight=!0;this.current=-1;this.target=null;this.decal=0;this.baseH=this.h;var a=Math.floor(.5*this.h)-6;this.isLine=void 0!==d.line?d.line:!1;this.c[2]=this.dom("div",this.css.basic+"width:100%; left:0; height:auto; overflow:hidden; top:"+
this.h+"px");this.c[3]=this.dom("path",this.css.basic+"position:absolute; width:10px; height:10px; left:0; top:"+a+"px;",{d:this.svgs.group,fill:this.fontColor,stroke:"none"});this.c[4]=this.dom("path",this.css.basic+"position:absolute; width:10px; height:10px; left:4px; top:"+a+"px;",{d:this.svgs.arrow,fill:this.fontColor,stroke:"none"});this.isLine&&(this.c[5]=this.dom("div",this.css.basic+"background:rgba(255, 255, 255, 0.2); width:100%; left:0; height:1px; bottom:0px"));a=this.s;a[0].height=this.h+
"px";a[1].height=this.h+"px";this.c[1].name="group";this.s[1].marginLeft="10px";this.s[1].lineHeight=this.h-4;this.s[1].color=this.fontColor;this.s[1].fontWeight="bold";this.init();void 0!==d.bg&&this.setBG(d.bg);void 0!==d.open&&this.open()}function g(d){y.call(this,d);this.autoWidth=!1;this.value=[0,0];this.joyType="analogique";this.model=void 0!==d.mode?d.mode:0;this.precision=d.precision||2;this.multiplicator=d.multiplicator||1;this.pos=new t;this.tmp=new t;this.interval=null;this.radius=.5*this.w;
this.distance=.25*this.radius;this.h=d.h||this.w+10;this.top=0;this.c[0].style.width=this.w+"px";void 0!==this.c[1]&&(this.c[1].style.width=this.w+"px",this.c[1].style.textAlign="center",this.top=10,this.h+=10);this.c[2]=this.dom("div",this.css.txt+"text-align:center; top:"+(this.h-20)+"px; width:"+this.w+"px; color:"+this.fontColor);this.c[2].textContent=this.value;this.c[3]=this.getJoystick(this.model);this.setSvg(this.c[3],"viewBox","0 0 "+this.w+" "+this.w);this.setCss(this.c[3],{width:this.w,
height:this.w,left:0,top:this.top});this.ratio=128/this.w;this.init();this.update(!1)}function a(d){y.call(this,d);this.autoWidth=!1;this.buttonColor=this.colors.button;this.setTypeNumber(d);this.mPI=.8*Math.PI;this.toDeg=180/Math.PI;this.cirRange=2*this.mPI;this.offset=new t;this.radius=.5*this.w;this.h=d.h||this.w+10;this.top=0;this.c[0].style.width=this.w+"px";void 0!==this.c[1]&&(this.c[1].style.width=this.w+"px",this.c[1].style.textAlign="center",this.top=10,this.h+=10);this.cmode=this.percent=
0;this.c[2]=this.dom("div",this.css.txt+"text-align:center; top:"+(this.h-20)+"px; width:"+this.w+"px; color:"+this.fontColor);this.c[3]=this.getKnob();this.setSvg(this.c[3],"stroke",this.fontColor,1);this.setSvg(this.c[3],"stroke",this.fontColor,3);this.setSvg(this.c[3],"d",this.makeGrad(),3);this.setSvg(this.c[3],"viewBox","0 0 "+this.ww+" "+this.ww);this.setCss(this.c[3],{width:this.w,height:this.w,left:0,top:this.top});this.r=0;this.init();this.update()}function c(d){y.call(this,d);this.path=
d.path||"";this.format=d.format||"";this.imageSize=d.imageSize||[20,20];this.isWithImage=""!==this.path?!0:!1;this.preLoadComplete=!1;this.tmpImage={};this.tmpUrl=[];this.autoHeight=!1;var a=d.align||"center";this.tMode=this.sMode=0;this.buttonColor=d.bColor||this.colors.button;var c=Math.floor(.5*this.h)-5;this.c[2]=this.dom("div",this.css.basic+"top:0; display:none;");this.c[3]=this.dom("div",this.css.txt+"text-align:"+a+"; line-height:"+(this.h-4)+"px; top:1px; background:"+this.buttonColor+"; height:"+
(this.h-2)+"px; border-radius:"+this.radius+"px;");this.c[4]=this.dom("path",this.css.basic+"position:absolute; width:10px; height:10px; top:"+c+"px;",{d:this.svgs.arrow,fill:this.fontColor,stroke:"none"});this.scroller=this.dom("div",this.css.basic+"right:5px;  width:10px; background:#666; display:none;");this.c[3].style.color=this.fontColor;this.list=d.list||[];this.items=[];this.prevName="";this.baseH=this.h;this.itemHeight=d.itemHeight||this.h-3;this.full=d.full||!1;this.py=0;this.ww=this.sb;
this.isDown=this.scroll=!1;this.current=null;this.side=d.side||"down";(this.up="down"===this.side?0:1)?(this.c[2].style.top="auto",this.c[3].style.top="auto",this.c[4].style.top="auto",this.c[2].style.bottom=this.h-2+"px",this.c[3].style.bottom="1px",this.c[4].style.bottom=c+"px"):this.c[2].style.top=this.baseH+"px";this.listIn=this.dom("div",this.css.basic+"left:0; top:0; width:100%; background:rgba(0,0,0,0.2);");this.listIn.name="list";this.topList=0;this.c[2].appendChild(this.listIn);this.c[2].appendChild(this.scroller);
void 0!==d.value?isNaN(d.value)?this.value=d.value:this.value=this.list[d.value]:this.value=this.list[0];this.isOpenOnStart=d.open||!1;this.isWithImage&&this.preloadImage();this.setList(this.list);this.init();this.isOpenOnStart&&this.open()}function f(d){y.call(this,d);this.setTypeNumber(d);this.isDown=!1;this.value=[0];this.toRad=1;this.isNumber=!0;this.isVector=this.isAngle=!1;void 0!==d.value&&(isNaN(d.value)?d.value instanceof Array?(this.value=d.value,this.isNumber=!1):d.value instanceof Object&&
(this.value=[],d.value.x&&(this.value[0]=d.value.x),d.value.y&&(this.value[1]=d.value.y),d.value.z&&(this.value[2]=d.value.z),d.value.w&&(this.value[3]=d.value.w),this.isVector=!0):this.value=[d.value]);this.lng=this.value.length;this.tmp=[];d.isAngle&&(this.isAngle=!0,this.toRad=Math.PI/180);this.current=-1;this.prev={x:0,y:0,d:0,v:0};this.cMode=[];for(var a=this.lng;a--;)this.isAngle&&(this.value[a]=(180*this.value[a]/Math.PI).toFixed(this.precision)),this.c[2+a]=this.dom("div",this.css.txtselect+
"letter-spacing:-1px; height:"+(this.h-4)+"px; line-height:"+(this.h-8)+"px;"),d.center&&(this.c[2+a].style.textAlign="center"),this.c[2+a].textContent=this.value[a],this.c[2+a].style.color=this.fontColor,this.c[2+a].isNum=!0,this.cMode[a]=0;this.init()}function m(d){y.call(this,d);this.setTypeNumber(d);this.model=d.stype||0;void 0!==d.mode&&(this.model=d.mode);this.buttonColor=d.bColor||this.colors.button;this.defaultBorderColor=this.colors.hide;this.isOver=this.isDown=!1;this.allway=d.allway||!1;
this.firstImput=!1;this.c[2]=this.dom("div",this.css.txtselect+"text-align:right; width:47px; border:1px dashed "+this.defaultBorderColor+"; color:"+this.fontColor);this.c[3]=this.dom("div",this.css.basic+" top:0; height:"+this.h+"px;");this.c[4]=this.dom("div",this.css.basic+"background:"+this.colors.scrollback+"; top:2px; height:"+(this.h-4)+"px;");this.c[5]=this.dom("div",this.css.basic+"left:4px; top:5px; height:"+(this.h-10)+"px; background:"+this.fontColor+";");this.c[2].isNum=!0;this.c[2].style.height=
this.h-2+"px";this.c[2].style.lineHeight=this.h-10+"px";if(0!==this.model){if(1===this.model||3===this.model)var a=4,c=8,f=this.h-4,m=20;2===this.model&&(a=4,c=8,m=2,f=.5*(this.h-4));3===this.model&&(this.c[5].style.visible="none");this.c[4].style.borderRadius=a+"px";this.c[4].style.height=c+"px";this.c[4].style.top=.5*this.h-a+"px";this.c[5].style.borderRadius=.5*a+"px";this.c[5].style.height=a+"px";this.c[5].style.top=.5*this.h-.5*a+"px";this.c[6]=this.dom("div",this.css.basic+"border-radius:"+
m+"px; margin-left:"+.5*-f+"px; border:1px solid "+this.colors.border+"; background:"+this.buttonColor+"; left:4px; top:2px; height:"+(this.h-4)+"px; width:"+f+"px;")}this.init()}function L(d){y.call(this,d);this.cmode=0;this.value=d.value||"";this.allway=d.allway||!1;this.firstImput=!1;this.c[2]=this.dom("div",this.css.txtselect);this.c[2].textContent=this.value;this.init()}function O(d){y.call(this,d);d=d.prefix||"";this.c[2]=this.dom("div",this.css.txt+"text-align:right; width:60px; line-height:"+
(this.h-8)+"px; color:"+this.fontColor);31===this.h&&(this.s[0].height=this.h+"px",this.s[1].top="8px",this.c[2].style.top="8px");this.c[1].textContent=this.txt.substring(0,1).toUpperCase()+this.txt.substring(1).replace("-"," ");this.c[2].textContent=d;this.init()}function Q(){var d=arguments,H=!1,U=null;if("string"===typeof d[0]){var k=d[0];var u=d[1]||{}}else"object"===typeof d[0]&&(H=!0,void 0===d[2]&&[].push.call(d,{}),k=d[2].type?d[2].type:"slide",u=d[2],u.name=d[1],u.value=d[0][d[1]]);switch(k.toLowerCase()){case "bool":U=
new r(u);break;case "button":U=new p(u);break;case "circular":U=new n(u);break;case "color":U=new w(u);break;case "fps":U=new A(u);break;case "graph":U=new l(u);break;case "group":U=new G(u);break;case "joystick":U=new g(u);break;case "knob":U=new a(u);break;case "list":U=new c(u);break;case "numeric":case "number":U=new f(u);break;case "slide":U=new m(u);break;case "textInput":case "string":U=new L(u);break;case "title":U=new O(u)}if(null!==U)return H&&U.setReferency(d[0],d[1]),U}function ea(d){this.canvas=
null;d=d||{};void 0!==d.transparent&&(z.colors.background="none",z.colors.backgroundOver="none");this.isReset=!0;this.tmpAdd=null;this.tmpH=0;this.isCanvas=d.isCanvas||!1;this.isCanvasOnly=!1;this.css=void 0!==d.css?d.css:"";this.callback=void 0===d.callback?null:d.callback;this.forceHeight=d.maxHeight||0;this.cn="";this.size=z.size;void 0!==d.p&&(this.size.p=d.p);void 0!==d.w&&(this.size.w=d.w);void 0!==d.h&&(this.size.h=d.h);void 0!==d.s&&(this.size.s=d.s);this.size.h=11>this.size.h?11:this.size.h;
this.local=(new t).neg();this.zone={x:0,y:0,w:this.size.w,h:0};this.mouse=(new t).neg();this.h=0;this.prevY=-1;this.sw=0;this.colors=z.colors;this.bg=d.bg||z.colors.background;this.bh=(this.isWithClose=void 0!==d.close?d.close:!0)?this.size.h:0;this.autoResize=void 0===d.autoResize?!0:d.autoResize;this.isCenter=d.center||!1;this.isOpen=!0;this.isScroll=this.isDown=!1;this.uis=[];this.current=-1;this.target=null;this.decal=0;this.ratio=1;this.oy=0;this.isNewTarget=!1;this.content=z.dom("div",z.css.basic+
" width:0px; height:auto; top:0px; "+this.css);this.innerContent=z.dom("div",z.css.basic+"width:100%; top:0; left:0; height:auto; overflow:hidden;");this.content.appendChild(this.innerContent);this.inner=z.dom("div",z.css.basic+"width:100%; left:0; ");this.innerContent.appendChild(this.inner);this.scrollBG=z.dom("div",z.css.basic+"right:0; top:0; width:"+(this.size.s-1)+"px; height:10px; display:none; background:"+this.bg+";");this.content.appendChild(this.scrollBG);this.scroll=z.dom("div",z.css.basic+
"background:"+this.colors.scroll+"; right:2px; top:0; width:"+(this.size.s-4)+"px; height:10px;");this.scrollBG.appendChild(this.scroll);this.bottom=z.dom("div",z.css.txt+"width:100%; top:auto; bottom:0; left:0; border-bottom-right-radius:10px;  border-bottom-left-radius:10px; text-align:center; height:"+this.bh+"px; line-height:"+(this.bh-5)+"px; border-top:1px solid "+z.colors.stroke+";");this.content.appendChild(this.bottom);this.bottom.textContent="close";this.bottom.style.background=this.bg;
this.parent=void 0!==d.parent?d.parent:null;null!==this.parent||this.isCanvas||(this.parent=document.body,this.isCenter||(this.content.style.right="10px"));null!==this.parent&&this.parent.appendChild(this.content);this.isCanvas&&null===this.parent&&(this.isCanvasOnly=!0);this.isCanvasOnly||(this.content.style.pointerEvents="auto");this.setWidth();this.isCanvas&&this.makeCanvas();E.add(this)}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52));void 0===Math.sign&&(Math.sign=function(d){return 0>
d?-1:0<d?1:+d});void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}});void 0===Object.assign&&function(){Object.assign=function(d){if(void 0===d||null===d)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(d),c=1;c<arguments.length;c++){var f=arguments[c];if(void 0!==f&&null!==f)for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(a[m]=f[m])}return a}}();
var B={frag:document.createDocumentFragment(),colorRing:null,joystick_0:null,joystick_1:null,circular:null,knob:null,svgns:"http://www.w3.org/2000/svg",htmls:"http://www.w3.org/1999/xhtml",DOM_SIZE:"height width top left bottom right margin-left margin-right margin-top margin-bottom".split(" "),SVG_TYPE_D:"pattern defs transform stop animate radialGradient linearGradient animateMotion".split(" "),SVG_TYPE_G:"svg rect circle path polygon text g line foreignObject".split(" "),TwoPI:6.283185307179586,
size:{w:240,h:20,p:30,s:20},colors:{text:"#C0C0C0",textOver:"#FFFFFF",background:"rgba(44,44,44,0.3)",backgroundOver:"rgba(11,11,11,0.5)",input:"#005AAA",border:"#454545",borderOver:"#5050AA",borderSelect:"#308AFF",scrollback:"rgba(44,44,44,0.2)",scrollbackover:"rgba(44,44,44,0.5)",button:"#404040",boolbg:"#181818",select:"#308AFF",moving:"#03afff",down:"#024699",stroke:"rgba(11,11,11,0.5)",scroll:"#333333",hide:"rgba(0,0,0,0)"},css:{basic:"position:absolute; pointer-events:none; box-sizing:border-box; margin:0; padding:0; overflow:hidden; -o-user-select:none; -ms-user-select:none; -khtml-user-select:none; -webkit-user-select:none; -moz-user-select:none;"},
svgs:{group:"M 7 7 L 7 8 8 8 8 7 7 7 M 5 7 L 5 8 6 8 6 7 5 7 M 3 7 L 3 8 4 8 4 7 3 7 M 7 5 L 7 6 8 6 8 5 7 5 M 6 6 L 6 5 5 5 5 6 6 6 M 7 3 L 7 4 8 4 8 3 7 3 M 6 4 L 6 3 5 3 5 4 6 4 M 3 5 L 3 6 4 6 4 5 3 5 M 3 3 L 3 4 4 4 4 3 3 3 Z",arrow:"M 3 8 L 8 5 3 2 3 8 Z",arrowDown:"M 5 8 L 8 3 2 3 5 8 Z",arrowUp:"M 5 2 L 2 7 8 7 5 2 Z"},setText:function(d,a,c,f){a=a||"#CCC";B.colors.text=a;B.css.txt=B.css.basic+"font-family:"+(c||"Consolas,monaco,monospace;")+"; font-size:"+(d||13)+"px; color:"+a+"; padding:2px 10px; left:0; top:2px; height:16px; width:100px; overflow:hidden; white-space: nowrap;";
f&&(B.css.txt+=" text-shadow:"+f+"; ");B.css.txtselect=B.css.txt+"padding:2px 5px; border:1px dashed "+B.colors.border+";";B.css.item=B.css.txt+"position:relative; background:rgba(0,0,0,0.2); margin-bottom:1px;"},clone:function(d){return d.cloneNode(!0)},setSvg:function(d,a,c,f){-1===f?d.setAttributeNS(null,a,c):d.childNodes[f||0].setAttributeNS(null,a,c)},setCss:function(d,a){for(var c in a)-1!==B.DOM_SIZE.indexOf(c)?d.style[c]=a[c]+"px":d.style[c]=a[c]},set:function(d,a){for(var c in a)"txt"===
c&&(d.textContent=a[c]),d.setAttributeNS(null,c,a[c])},get:function(d,a){if(void 0===a)return d;if(!isNaN(a))return d.childNodes[a];if(a instanceof Array){if(2===a.length)return d.childNodes[a[0]].childNodes[a[1]];if(3===a.length)return d.childNodes[a[0]].childNodes[a[1]].childNodes[a[2]]}},dom:function(d,a,c,f,m){d=d||"div";-1!==B.SVG_TYPE_D.indexOf(d)||-1!==B.SVG_TYPE_G.indexOf(d)?"svg"===d?(f=document.createElementNS(B.svgns,"svg"),B.set(f,c)):(void 0===f&&(f=document.createElementNS(B.svgns,"svg")),
B.addAttributes(f,d,c,m)):f=void 0===f?document.createElementNS(B.htmls,d):f.appendChild(document.createElementNS(B.htmls,d));a&&(f.style.cssText=a);return void 0===m?f:f.childNodes[m||0]},addAttributes:function(d,a,c,f){var H=document.createElementNS(B.svgns,a);B.set(H,c);B.get(d,f).appendChild(H);-1!==B.SVG_TYPE_G.indexOf(a)&&(H.style.pointerEvents="none");return H},clear:function(d){for(B.purge(d);d.firstChild;)d.firstChild.firstChild&&B.clear(d.firstChild),d.removeChild(d.firstChild)},purge:function(d){var a=
d.attributes,c;if(a)for(c=a.length;c--;){var f=a[c].name;"function"===typeof d[f]&&(d[f]=null)}if(a=d.childNodes)for(c=a.length;c--;)B.purge(d.childNodes[c])},clamp:function(d,a,c){return d<a?a:d>c?c:d},ColorLuma:function(d,a){d=String(d).replace(/[^0-9a-f]/gi,"");6>d.length&&(d=d[0]+d[0]+d[1]+d[1]+d[2]+d[2]);a=a||0;var c="#",f;for(f=0;3>f;f++){var H=parseInt(d.substr(2*f,2),16);H=Math.round(Math.min(Math.max(0,H+H*a),255)).toString(16);c+=("00"+H).substr(H.length)}return c},findDeepInver:function(d){return.6>=
.3*d[0]+.59*d[1]+.11*d[2]},hexToHtml:function(d){return"#"+("000000"+(void 0===d?0:d).toString(16)).substr(-6)},htmlToHex:function(d){return d.toUpperCase().replace("#","0x")},u255:function(d,a){return parseInt(d.substring(a,a+2),16)/255},u16:function(d,a){return parseInt(d.substring(a,a+1),16)/15},unpack:function(d){if(7==d.length)return[B.u255(d,1),B.u255(d,3),B.u255(d,5)];if(4==d.length)return[B.u16(d,1),B.u16(d,2),B.u16(d,3)]},htmlRgb:function(d){return"rgb("+Math.round(255*d[0])+","+Math.round(255*
d[1])+","+Math.round(255*d[2])+")"},rgbToHex:function(d){return"#"+("000000"+(255*d[0]<<16^255*d[1]<<8^255*d[2]<<0).toString(16)).slice(-6)},hueToRgb:function(d,a,c){0>c&&(c+=1);1<c&&--c;return c<1/6?d+6*(a-d)*c:.5>c?a:c<2/3?d+6*(a-d)*(2/3-c):d},rgbToHsl:function(d){var a=d[0],c=d[1];d=d[2];var f=Math.min(a,c,d),m=Math.max(a,c,d),g=m-f,l=0,p=0;f=(f+m)/2;0<f&&1>f&&(p=g/(.5>f?2*f:2-2*f));0<g&&(m==a&&m!=c&&(l+=(c-d)/g),m==c&&m!=d&&(l+=2+(d-a)/g),m==d&&m!=a&&(l+=4+(a-c)/g),l/=6);return[l,p,f]},hslToRgb:function(d){var a=
d[0];var c=d[1];d=d[2];if(0===c)return[d,d,d];c=.5>=d?d*(c+1):d+c-d*c;d=2*d-c;return[B.hueToRgb(d,c,a+.33333),B.hueToRgb(d,c,a),B.hueToRgb(d,c,a-.33333)]},makeGradiant:function(d,a,c,f){B.dom(d,null,a,c,0);d=c.childNodes[0].childNodes.length-1;for(var H=0;H<f.length;H++)a=f[H],B.dom("stop",null,{offset:a[0]+"%",style:"stop-color:"+a[1]+"; stop-opacity:"+a[2]+";"},c,[0,d])},makeKnob:function(d){d=B.dom("svg",B.css.basic,{viewBox:"0 0 128 128",width:128,height:128,preserveAspectRatio:"none"});B.dom("circle",
"",{cx:64,cy:64,r:34,fill:B.colors.button,stroke:"rgba(0,0,0,0.3)","stroke-width":8},d);B.dom("path","",{d:"",stroke:B.colors.text,"stroke-width":4,fill:"none","stroke-linecap":"round"},d);B.dom("circle","",{cx:64,cy:64,r:41,stroke:"rgba(0,0,0,0.1)","stroke-width":7,fill:"none"},d);B.dom("path","",{d:"",stroke:"rgba(255,255,255,0.3)","stroke-width":2,fill:"none","stroke-linecap":"round","stroke-opacity":.5},d);B.knob=d},makeCircular:function(d){d=B.dom("svg",B.css.basic,{viewBox:"0 0 128 128",width:128,
height:128,preserveAspectRatio:"none"});B.dom("circle","",{cx:64,cy:64,r:40,stroke:"rgba(0,0,0,0.1)","stroke-width":10,fill:"none"},d);B.dom("path","",{d:"",stroke:B.colors.text,"stroke-width":7,fill:"none","stroke-linecap":"butt"},d);B.circular=d},makeJoystick:function(d){var a=B.dom("svg",B.css.basic,{viewBox:"0 0 128 128",width:128,height:128,preserveAspectRatio:"none"});B.dom("defs",null,{},a);B.dom("g",null,{},a);if(0===d){var c=[[40,"rgb(0,0,0)",.3],[80,"rgb(0,0,0)",0],[90,"rgb(50,50,50)",.4],
[100,"rgb(50,50,50)",0]];B.makeGradiant("radialGradient",{id:"grad",cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"},a,c);c=[[60,"rgb(0,0,0)",.5],[100,"rgb(0,0,0)",0]];B.makeGradiant("radialGradient",{id:"gradS",cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"},a,c);c=["rgb(40,40,40)","rgb(48,48,48)","rgb(30,30,30)"];d=["rgb(1,90,197)","rgb(3,95,207)","rgb(0,65,167)"];c=[[30,c[0],1],[60,c[1],1],[80,c[1],1],[100,c[2],1]];B.makeGradiant("radialGradient",{id:"gradIn",cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"},
a,c);c=[[30,d[0],1],[60,d[1],1],[80,d[1],1],[100,d[2],1]];B.makeGradiant("radialGradient",{id:"gradIn2",cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"},a,c);B.dom("circle","",{cx:64,cy:64,r:49,fill:"url(#grad)"},a);B.dom("circle","",{cx:69,cy:74,r:39,fill:"url(#gradS)"},a);B.dom("circle","",{cx:64,cy:64,r:29,fill:"url(#gradIn)"},a);B.joystick_0=a}else c=[[69,"rgb(0,0,0)",0],[70,"rgb(0,0,0)",.3],[100,"rgb(0,0,0)",0]],B.makeGradiant("radialGradient",{id:"gradX",cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%"},
a,c),B.dom("circle","",{cx:64,cy:64,r:49,fill:"none",stroke:"rgba(100,100,100,0.25)","stroke-width":"4"},a),B.dom("circle","",{cx:64,cy:64,r:43,fill:"url(#gradX)"},a),B.dom("circle","",{cx:64,cy:64,r:29,fill:"none",stroke:"rgb(100,100,100)","stroke-width":"4"},a),B.joystick_1=a},makeColorRing:function(){var d=B.dom("svg",B.css.basic,{viewBox:"0 0 256 256",width:256,height:256,preserveAspectRatio:"none"});B.dom("defs",null,{},d);B.dom("g",null,{},d);var a=8/108/24*Math.PI,c=0,f,m=[];for(f=0;24>=f;++f){var g=
f/24;var l=g*B.TwoPI;var p=.5*(c+l);var n=1/Math.cos(.5*(l-c));c=[Math.sin(c),-Math.cos(c),Math.sin(p)*n,-Math.cos(p)*n,Math.sin(l),-Math.cos(l)];m[1]=B.rgbToHex(B.hslToRgb([g,1,.5]));if(0<f){for(g=6;g--;)c[g]=(108*c[g]+128).toFixed(2);g=" M"+c[0]+" "+c[1]+" Q"+c[2]+" "+c[3]+" "+c[4]+" "+c[5];p=[[0,m[0],1],[100,m[1],1]];B.makeGradiant("linearGradient",{id:"G"+f,x1:c[0],y1:c[1],x2:c[4],y2:c[5],gradientUnits:"userSpaceOnUse"},d,p);B.dom("path","",{d:g,"stroke-width":40,stroke:"url(#G"+f+")","stroke-linecap":"butt"},
d,1)}c=l-a;m[0]=m[1]}p=[[0,"#FFFFFF",1],[50,"#FFFFFF",0],[50,"#000000",0],[100,"#000000",1]];B.makeGradiant("linearGradient",{id:"GL1",x1:68,y1:68,x2:68,y2:188,gradientUnits:"userSpaceOnUse"},d,p);p=[[0,"#7f7f7f",0],[50,"#7f7f7f",.5],[100,"#7f7f7f",1]];B.makeGradiant("linearGradient",{id:"GL2",x1:68,y1:68,x2:188,y2:68,gradientUnits:"userSpaceOnUse"},d,p);B.dom("circle","",{cx:128,cy:128,r:90,fill:"red"},d);B.dom("circle","",{cx:128,cy:128,r:90,fill:"url(#GL2)"},d);B.dom("circle","",{cx:128,cy:128,
r:90,fill:"url(#GL1)"},d);B.dom("circle","",{cx:0,cy:0,r:6,"stroke-width":3,stroke:"#FFF",fill:"none"},d);B.dom("circle","",{cx:0,cy:0,r:6,"stroke-width":3,stroke:"#000",fill:"none"},d);B.colorRing=d},icon:function(d,a,c){c=c||40;a=a||"#DEDEDE";c=["<svg xmlns='"+B.svgns+"' version='1.1' xmlns:xlink='"+B.htmls+"' style='pointer-events:none;' preserveAspectRatio='xMinYMax meet' x='0px' y='0px' width='"+c+"px' height='"+c+"px' viewBox='0 0 256 256'><g>"];switch(d){case "logo":c[1]="<path id='logoin' stroke='"+
a+"' stroke-width='16' stroke-linejoin='round' stroke-linecap='square' fill='none' d='M 192 44 L 192 148 Q 192 174.5 173.3 193.25 154.55 212 128 212 101.5 212 82.75 193.25 64 174.5 64 148 L 64 44 M 160 44 L 160 148 Q 160 161.25 150.65 170.65 141.25 180 128 180 114.75 180 105.35 170.65 96 161.25 96 148 L 96 44'/>";break;case "save":c[1]="<path stroke='"+a+"' stroke-width='4' stroke-linejoin='round' stroke-linecap='round' fill='none' d='M 26.125 17 L 20 22.95 14.05 17 M 20 9.95 L 20 22.95'/><path stroke='"+
a+"' stroke-width='2.5' stroke-linejoin='round' stroke-linecap='round' fill='none' d='M 32.6 23 L 32.6 25.5 Q 32.6 28.5 29.6 28.5 L 10.6 28.5 Q 7.6 28.5 7.6 25.5 L 7.6 23'/>"}c[2]="</g></svg>";return c.join("\n")}};B.setText();var z=B,u={ui:[],ID:null,lock:!1,wlock:!1,current:-1,needReZone:!0,isEventsInit:!1,prevDefault:["contextmenu","mousedown","mousemove","mouseup"],xmlserializer:new XMLSerializer,tmpTime:null,tmpImage:null,oldCursor:"auto",input:null,parent:null,firstImput:!0,callbackImput:null,
isLoop:!1,listens:[],e:{type:null,clientX:0,clientY:0,keyCode:NaN,key:null,delta:0},isMobile:!1,add:function(d){u.ui.push(d);u.getZone(d);u.isEventsInit||u.initEvents()},testMobile:function(){var d=navigator.userAgent;return d.match(/Android/i)||d.match(/webOS/i)||d.match(/iPhone/i)||d.match(/iPad/i)||d.match(/iPod/i)||d.match(/BlackBerry/i)||d.match(/Windows Phone/i)?!0:!1},remove:function(d){var a=u.ui.indexOf(d);-1!==a&&(u.removeListen(d),u.ui.splice(a,1));0===u.ui.length&&u.removeEvents()},initEvents:function(){if(!u.isEventsInit){var d=
document.body;u.isMobile=u.testMobile();u.isMobile?(d.addEventListener("touchstart",u,!1),d.addEventListener("touchend",u,!1),d.addEventListener("touchmove",u,!1)):(d.addEventListener("mousedown",u,!1),d.addEventListener("contextmenu",u,!1),d.addEventListener("wheel",u,!1),document.addEventListener("mousemove",u,!1),document.addEventListener("mouseup",u,!1));window.addEventListener("keydown",u,!1);window.addEventListener("resize",u.resize,!1);u.isEventsInit=!0}},removeEvents:function(){if(u.isEventsInit){var d=
document.body;u.isMobile?(d.removeEventListener("touchstart",u,!1),d.removeEventListener("touchend",u,!1),d.removeEventListener("touchmove",u,!1)):(d.removeEventListener("mousedown",u,!1),d.removeEventListener("contextmenu",u,!1),d.removeEventListener("wheel",u,!1),document.removeEventListener("mousemove",u,!1),document.removeEventListener("mouseup",u,!1));window.removeEventListener("keydown",u);window.removeEventListener("resize",u.resize);u.isEventsInit=!1}},resize:function(){u.needReZone=!0;for(var d=
u.ui.length,a;d--;)a=u.ui[d],a.isGui&&!a.isCanvasOnly&&a.autoResize&&a.setHeight()},handleEvent:function(d){-1!==d.type.indexOf(u.prevDefault)&&d.preventDefault();if("contextmenu"!==d.type){u.findZone();var a=u.e;"keydown"===d.type&&u.editText(d);a.delta="wheel"===d.type?0<d.deltaY?1:-1:0;a.clientX=d.clientX||0;a.clientY=d.clientY||0;a.type=d.type;u.isMobile&&(d.touches&&0<d.touches.length&&(a.clientX=d.touches[0].clientX||0,a.clientY=d.touches[0].clientY||0),"touchstart"===d.type&&(a.type="mousedown"),
"touchend"===d.type&&(a.type="mouseup"),"touchmove"===d.type&&(a.type="mousemove"));"mousedown"===a.type&&(u.lock=!0);"mouseup"===a.type&&(u.lock=!1);u.isMobile&&"mousedown"===a.type&&u.findID(a);"mousemove"!==a.type||u.lock||u.findID(a);null!==u.ID&&(u.ID.isCanvasOnly&&(a.clientX=u.ID.mouse.x,a.clientY=u.ID.mouse.y),u.ID.handleEvent(a));u.isMobile&&"mouseup"===a.type&&u.clearOldID()}},findID:function(d){for(var a=u.ui.length,c=-1,f,m,g;a--;)if(f=u.ui[a],f.isCanvasOnly?(m=f.mouse.x,g=f.mouse.y):(m=
d.clientX,g=d.clientY),u.onZone(f,m,g)){c=a;c!==u.current&&(u.clearOldID(),u.current=c,u.ID=f);break}-1===c&&u.clearOldID()},clearOldID:function(){u.ID&&(u.current=-1,u.ID.reset(),u.ID=null,u.cursor())},calcUis:function(d,a,c){var f=d.length,H,m=0,g=0;for(H=0;H<f;H++){var l=d[H];l.zone.w=l.w;l.zone.h=l.h;l.autoWidth?(l.zone.x=a.x,l.zone.y=c,c+=l.h+1):(0===m&&(c+=l.h+1),l.zone.x=a.x+m,l.zone.y=0===m?c-l.h:g,g=l.zone.y,m+=l.w,m+l.w>a.w&&(m=0));l.isGroup&&l.calcUis()}},findTarget:function(d,a){for(var c=
d.length;c--;)if(u.onZone(d[c],a.clientX,a.clientY))return c;return-1},findZone:function(d){if(u.needReZone||d){d=u.ui.length;for(var a;d--;)a=u.ui[d],u.getZone(a),a.isGui&&a.calcUis();u.needReZone=!1}},onZone:function(d,a,c){if(void 0===a||void 0===c)return!1;var f=d.zone;a-=f.x;c-=f.y;(f=0<=a&&0<=c&&a<=f.w&&c<=f.h)?d.local.set(a,c):d.local.neg();return f},getZone:function(d){if(!d.isCanvasOnly){var a=d.getDom().getBoundingClientRect();d.zone={x:a.left,y:a.top,w:a.width,h:a.height}}},cursor:function(d){d=
d?d:"auto";d!==u.oldCursor&&(document.body.style.cursor=d,u.oldCursor=d)},toCanvas:function(d,a,c,f){f&&null!==u.tmpTime&&(clearTimeout(u.tmpTime),u.tmpTime=null);if(null===u.tmpTime){u.lock&&(u.tmpTime=setTimeout(function(){u.tmpTime=null},10));var m=!1;if(a!==d.canvas.width||c!==d.canvas.height)m=!0;null===u.tmpImage&&(u.tmpImage=new Image);f=u.tmpImage;var H=u.xmlserializer.serializeToString(d.content);f.onload=function(){var f=d.canvas.getContext("2d");m?(d.canvas.width=a,d.canvas.height=c):f.clearRect(0,
0,a,c);f.drawImage(this,0,0);d.onDraw()};f.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="'+a+'" height="'+c+'"><foreignObject style="pointer-events: none; left:0;" width="100%" height="100%">'+H+"</foreignObject></svg>");f.crossOrigin=""}},clearInput:function(){null!==u.input&&(u.firstImput||u.callbackImput(),u.input.style.borderColor=u.parent.defaultBorderColor,u.parent.isEdit=!1,u.callbackImput=null,u.input=null,u.parent=null,u.firstImput=
!0)},setInput:function(d,a,c,f){u.clearInput();u.callbackImput=a;u.input=d;u.parent=f;u.input.style.borderColor=c},select:function(){document.execCommand("selectall",null,!1)},editText:function(d){if(null!==u.input)if(u.parent.isEdit=!0,d.preventDefault(),13===d.keyCode)u.callbackImput(),u.clearInput();else if(8===d.keyCode)u.input.textContent="";else if(u.input.isNum){if(95<d.keyCode&&106>d.keyCode||110===d.keyCode||109===d.keyCode)u.firstImput?(u.input.textContent=d.key,u.firstImput=!1):u.input.textContent+=
d.key}else u.firstImput?(u.input.textContent=d.key,u.firstImput=!1):u.input.textContent+=d.key},loop:function(){u.isLoop&&requestAnimationFrame(u.loop);u.update()},update:function(){for(var d=u.listens.length;d--;)u.listens[d].listening()},removeListen:function(d){d=u.listens.indexOf(d);-1!==d&&u.listens.splice(d,1);0===u.listens.length&&(u.isLoop=!1)},addListen:function(d){-1===u.listens.indexOf(d)&&(u.listens.push(d),u.isLoop||(u.isLoop=!0,u.loop()))}},E=u;Object.assign(t.prototype,{set:function(d,
a){this.x=d;this.y=a;return this},divide:function(d){this.x/=d.x;this.y/=d.y;return this},multiply:function(d){this.x*=d.x;this.y*=d.y;return this},multiplyScalar:function(d){this.x*=d;this.y*=d;return this},divideScalar:function(d){return this.multiplyScalar(1/d)},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},angle:function(){var d=Math.atan2(this.y,this.x);0>d&&(d+=2*Math.PI);return d},addScalar:function(d){this.x+=d;this.y+=d;return this},negate:function(){this.x*=-1;this.y*=
-1;return this},neg:function(){this.y=this.x=-1;return this},isZero:function(){return 0===this.x&&0===this.y},copy:function(d){this.x=d.x;this.y=d.y;return this},equals:function(d){return d.x===this.x&&d.y===this.y},nearEquals:function(d,a){return d.x.toFixed(a)===this.x.toFixed(a)&&d.y.toFixed(a)===this.y.toFixed(a)},lerp:function(d,a){null===d?(this.x-=this.x*a,this.y-=this.y*a):(this.x+=(d.x-this.x)*a,this.y+=(d.y-this.y)*a);return this}});Object.assign(y.prototype,{constructor:y,init:function(){var d=
this.s,a=this.c;d[0].height=this.h+"px";this.zone.h=this.h;this.isUI&&(d[0].background=this.bg);void 0!==a[1]&&this.autoWidth&&(d[1]=a[1].style,d[1].height=this.h-4+"px",d[1].lineHeight=this.h-8+"px");for(var c=z.frag,f=1,m=a.length;f!==m;f++)void 0!==a[f]&&(c.appendChild(a[f]),d[f]=a[f].style);null!==this.target?this.target.appendChild(a[0]):this.isUI?this.main.inner.appendChild(a[0]):document.body.appendChild(a[0]);a[0].appendChild(c);this.rSize();this.isUI||(this.c[0].style.pointerEvents="auto",
E.add(this))},dom:function(d,a,c,f,m){return z.dom(d,a,c,f,m)},setSvg:function(d,a,c,f){z.setSvg(d,a,c,f)},setCss:function(d,a){z.setCss(d,a)},clamp:function(d,a,c){return z.clamp(d,a,c)},getColorRing:function(){z.colorRing||z.makeColorRing();return z.clone(z.colorRing)},getJoystick:function(d){z["joystick_"+d]||z.makeJoystick(d);return z.clone(z["joystick_"+d])},getCircular:function(d){z.circular||z.makeCircular(d);return z.clone(z.circular)},getKnob:function(d){z.knob||z.makeKnob(d);return z.clone(z.knob)},
cursor:function(d){E.cursor(d)},setInput:function(d,a){E.setInput(d,a,z.colors.input,this)},update:function(){},reset:function(){},getDom:function(){return this.c[0]},uiout:function(){this.s[0].background=this.bg},uiover:function(){this.s[0].background=this.bgOver},rename:function(d){void 0!==this.c[1]&&(this.c[1].textContent=d)},listen:function(){E.addListen(this);return this},listening:function(){null!==this.objectLink&&(this.isSend||this.isEdit||this.setValue(this.objectLink[this.val]))},setValue:function(d){this.value=
this.isNumber?this.numValue(d):d;this.update()},onChange:function(d){this.callback=d;return this},onFinishChange:function(d){this.callback=null;this.endCallback=d;return this},send:function(d){this.isSend=!0;null!==this.objectLink&&(this.objectLink[this.val]=d||this.value);this.callback&&this.callback(d||this.value);this.isSend=!1},sendEnd:function(d){this.endCallback&&this.endCallback(d||this.value);null!==this.objectLink&&(this.objectLink[this.val]=d||this.value)},clear:function(){z.clear(this.c[0]);
null!==this.target?this.target.removeChild(this.c[0]):this.isUI?this.main.clearOne(this):document.body.removeChild(this.c[0]);this.isUI||E.remove(this);this.target=this.callback=this.s=this.c=null},setSize:function(d){this.autoWidth&&(this.w=d,this.simple?this.sb=this.w-this.sa:(d=this.p/100*this.w,this.sa=Math.floor(d+10),this.sb=Math.floor(this.w-d-20)))},rSize:function(){this.autoWidth&&(this.s[0].width=this.w+"px",this.simple||(this.s[1].width=this.sa+"px"))},setTypeNumber:function(d){this.isNumber=
!0;this.value=0;void 0!==d.value&&(this.value="string"===typeof d.value?1*d.value:d.value);this.min=void 0===d.min?-Infinity:d.min;this.max=void 0===d.max?Infinity:d.max;this.precision=void 0===d.precision?2:d.precision;switch(this.precision){case 0:var a=1;break;case 1:a=.1;break;case 2:a=.01;break;case 3:a=.001;break;case 4:a=1E-4}this.step=void 0===d.step?a:d.step;this.range=this.max-this.min;this.value=this.numValue(this.value)},numValue:function(d){return 1*Math.min(this.max,Math.max(this.min,
d)).toFixed(this.precision)},handleEvent:function(d){return this[d.type](d)},wheel:function(d){return!1},mousedown:function(d){return!1},mousemove:function(d){return!1},mouseup:function(d){return!1},keydown:function(d){return!1},setReferency:function(d,a){this.objectLink=d;this.val=a},display:function(d){this.s[0].display=d?"block":"none"},open:function(){this.isOpen||(this.isOpen=!0)},close:function(){this.isOpen&&(this.isOpen=!1)},needZone:function(){E.needReZone=!0}});r.prototype=Object.assign(Object.create(y.prototype),
{constructor:r,mousemove:function(d){this.cursor("pointer")},mousedown:function(d){this.value=this.value?!1:!0;this.update();this.send();return!0},update:function(){var d=this.s;this.value?(d[2].background=this.fontColor,d[2].borderColor=this.fontColor,d[3].marginLeft="17px"):(d[2].background=this.colors.boolbg,d[2].borderColor=this.colors.boolbg,d[3].marginLeft="2px")},rSize:function(){y.prototype.rSize.call(this);var d=this.s;d[2].left=this.sa+"px";d[3].left=this.sa+1+"px"}});p.prototype=Object.assign(Object.create(y.prototype),
{constructor:p,testZone:function(d){d=this.local;if(-1===d.x&&-1===d.y)return"";for(var a=this.lng,c=this.tmp;a--;)if(d.x>c[a][0]&&d.x<c[a][2])return a+2;return""},mouseup:function(d){return this.isDown?(this.isDown=this.value=!1,this.mousemove(d)):!1},mousedown:function(d){var a=this.testZone(d);if(!a)return!1;this.isDown=!0;this.value=this.values[a-2];this.isLoadButton||this.send();return this.mousemove(d)},mousemove:function(d){d=this.testZone(d);""!==d?(this.cursor("pointer"),d=this.modes(this.isDown?
3:2,d)):d=this.reset();return d},modes:function(d,a){for(var c,f=!1,m=0;m<this.lng;m++)(c=m===a-2?this.mode(d,m+2):this.mode(1,m+2))&&(f=!0);return f},mode:function(d,a){var c=!1;a-=2;if(this.stat[a]!==d){switch(d){case 1:this.stat[a]=1;this.s[a+2].color=this.fontColor;this.s[a+2].background=this.buttonColor;break;case 2:this.stat[a]=2;this.s[a+2].color="#FFF";this.s[a+2].background=this.colors.select;break;case 3:this.stat[a]=3,this.s[a+2].color="#FFF",this.s[a+2].background=this.colors.down}c=!0}return c},
reset:function(){this.cursor();return this.modes(1,2)},dragover:function(d){d.preventDefault();this.s[4].borderColor=this.colors.select;this.s[4].color=this.colors.select},dragend:function(d){d.preventDefault();this.s[4].borderColor=this.fontColor;this.s[4].color=this.fontColor},drop:function(d){d.preventDefault();this.dragend(d);this.fileSelect(d.dataTransfer.files[0])},initDrager:function(){this.c[4]=this.dom("div",this.css.txt+" text-align:center; line-height:"+(this.h-8)+"px; border:1px dashed "+
this.fontColor+"; top:2px;  height:"+(this.h-4)+"px; border-radius:"+this.radius+"px; pointer-events:auto;");this.c[4].textContent="DRAG";this.c[4].addEventListener("dragover",function(d){this.dragover(d)}.bind(this),!1);this.c[4].addEventListener("dragend",function(d){this.dragend(d)}.bind(this),!1);this.c[4].addEventListener("dragleave",function(d){this.dragend(d)}.bind(this),!1);this.c[4].addEventListener("drop",function(d){this.drop(d)}.bind(this),!1)},initLoader:function(){this.c[3]=this.dom("input",
this.css.basic+"top:0px; opacity:0; height:"+this.h+"px; pointer-events:auto; cursor:pointer;");this.c[3].name="loader";this.c[3].type="file";this.c[3].addEventListener("change",function(d){this.fileSelect(d.target.files[0])}.bind(this),!1)},fileSelect:function(d){var a=["sea","z","hex","bvh","BVH"];if(void 0!==d){var c=new FileReader,f=d.name,m=f.substring(f.lastIndexOf(".")+1,f.length);-1!==["png","jpg","mp4","webm","ogg"].indexOf(m)?c.readAsDataURL(d):-1!==a.indexOf(m)?c.readAsArrayBuffer(d):c.readAsText(d);
c.onload=function(d){this.callback&&this.callback(d.target.result,f,m)}.bind(this)}},label:function(d,a){this.c[a||2].textContent=d},icon:function(d,a,c){c=c||2;this.s[c].padding=(a||0)+"px 0px";this.c[c].innerHTML=d},rSize:function(){y.prototype.rSize.call(this);for(var d=this.s,a=this.sa,c=this.lng,f=Math.floor((this.sb-3*(c-1))/c);c--;)this.tmp[c]=[Math.floor(a+f*c+3*c),f],this.tmp[c][2]=this.tmp[c][0]+this.tmp[c][1],d[c+2].left=this.tmp[c][0]+"px",d[c+2].width=this.tmp[c][1]+"px";this.isDragButton&&
(d[4].left=a+f+3+"px",d[4].width=f+"px");this.isLoadButton&&(d[3].left=a+"px",d[3].width=f+"px")}});n.prototype=Object.assign(Object.create(y.prototype),{constructor:n,mode:function(d){if(this.cmode===d)return!1;switch(d){case 0:this.s[2].color=this.fontColor;this.setSvg(this.c[3],"stroke","rgba(0,0,0,0.1)",0);this.setSvg(this.c[3],"stroke",this.fontColor,1);break;case 1:this.s[2].color=this.colorPlus,this.setSvg(this.c[3],"stroke","rgba(0,0,0,0.3)",0),this.setSvg(this.c[3],"stroke",this.colorPlus,
1)}this.cmode=d;return!0},reset:function(){this.isDown=!1},mouseup:function(d){this.isDown=!1;this.sendEnd();return this.mode(0)},mousedown:function(d){this.isDown=!0;this.old=this.value;this.oldr=null;this.mousemove(d);return this.mode(1)},mousemove:function(d){if(this.isDown){var a=this.offset;a.x=this.radius-(d.clientX-this.zone.x);a.y=this.radius-(d.clientY-this.zone.y-this.top);this.r=a.angle()-this.pi90;this.r=(this.r%this.twoPi+this.twoPi)%this.twoPi;null!==this.oldr&&(d=this.r-this.oldr,this.r=
Math.abs(d)>Math.PI?this.oldr:this.r,6<d&&(this.r=0),-6>d&&(this.r=this.twoPi));d=1/this.twoPi*this.range*this.r+this.min-this.old;if(d>=this.step||d<=this.step)d=~~(d/this.step),this.value=this.numValue(this.old+d*this.step),this.update(!0),this.old=this.value,this.oldr=this.r}},makePath:function(){var d=this.percent*this.twoPi-.001;return"M 64,24 A 40,40 0 "+(d>Math.PI?1:0)+" 1 "+(40*Math.sin(d)+64)+","+(40-40*Math.cos(d)+24)},update:function(d){this.c[2].textContent=this.value;this.percent=(this.value-
this.min)/this.range;this.setSvg(this.c[3],"d",this.makePath(),1);d&&this.send()}});w.prototype=Object.assign(Object.create(y.prototype),{constructor:w,testZone:function(d,a){d=this.local;if(-1===d.x&&-1===d.y)return"";if(this.up&&this.isOpen)return d.y>this.wfixe?"title":"color";if(d.y<this.baseH+2)return"title";if(this.isOpen)return"color"},mouseup:function(d){this.isDown=!1},mousedown:function(d){var a=this.testZone(d.clientX,d.clientY);if("title"===a)return this.isOpen?this.close():this.open(),
!0;"color"===a&&(this.isDown=!0,this.mousemove(d))},mousemove:function(d){var a=this.testZone(d.clientX,d.clientY);"title"===a&&this.cursor("pointer");"color"===a&&(this.cursor("crosshair"),this.isDown&&(a=this.offset,a.x=d.clientX-(this.zone.x+this.decal.x+this.mid),a.y=d.clientY-(this.zone.y+this.decal.y+this.mid),d=a.length()*this.ratio,128>d&&(88<d?(a=(a.angle()+this.pi90)/6.28,this.setHSL([(a+1)%1,this.hsl[1],this.hsl[2]])):(d=Math.max(0,Math.min(1,.5-a.x*this.square*.5)),a=Math.max(0,Math.min(1,
.5-a.y*this.square*.5)),this.setHSL([this.hsl[0],d,a])))))},setHeight:function(){this.h=this.isOpen?this.wfixe+this.baseH+5:this.baseH;this.s[0].height=this.h+"px";this.zone.h=this.h},parentHeight:function(d){null!==this.parentGroup?this.parentGroup.calc(d):this.isUI&&this.main.calc(d)},open:function(){y.prototype.open.call(this);this.setHeight();this.up&&(this.zone.y-=this.wfixe+5);var d=this.h-this.baseH;this.s[3].visibility="visible";this.parentHeight(d)},close:function(){y.prototype.close.call(this);
this.up&&(this.zone.y+=this.wfixe+5);var d=this.h-this.baseH;this.setHeight();this.s[3].visibility="hidden";this.parentHeight(-d)},update:function(d){var a=z.rgbToHex(z.hslToRgb([this.hsl[0],1,.5]));this.moveMarkers();this.value=this.bcolor;this.setSvg(this.c[3],"fill",a,2);this.s[2].background=this.bcolor;this.c[2].textContent=z.htmlToHex(this.bcolor);this.invert=z.findDeepInver(this.rgb);this.s[2].color=this.invert?"#fff":"#000";d&&("array"===this.ctype&&this.send(this.rgb),"rgb"===this.ctype&&
this.send(z.htmlRgb(this.rgb)),"hex"===this.ctype&&this.send(z.htmlToHex(this.value)),"html"===this.ctype&&this.send())},setColor:function(d){var a=z.unpack(d);this.bcolor!=d&&a&&(this.bcolor=d,this.rgb=a,this.hsl=z.rgbToHsl(this.rgb),this.update());return this},setHSL:function(d){this.hsl=d;this.rgb=z.hslToRgb(d);this.bcolor=z.rgbToHex(this.rgb);this.update(!0);return this},moveMarkers:function(){var d=this.invert?"#fff":"#000",a=6.28*this.hsl[0];a=(new t(108*Math.sin(a),108*-Math.cos(a))).addScalar(128);
this.setSvg(this.c[3],"cx",a.x,5);this.setSvg(this.c[3],"cy",a.y,5);a.set(120*(.5-this.hsl[1]),120*(.5-this.hsl[2])).addScalar(128);this.setSvg(this.c[3],"cx",a.x,6);this.setSvg(this.c[3],"cy",a.y,6);this.setSvg(this.c[3],"stroke",d,6)},rSize:function(){y.prototype.rSize.call(this);var d=this.s;d[2].width=this.sb+"px";d[2].left=this.sa+"px";this.decal.x=Math.floor(.5*(this.w-this.wfixe));this.decal.y="up"===this.side?2:this.baseH+2;this.mid=Math.floor(.5*this.wfixe);this.setSvg(this.c[3],"viewBox",
"0 0 "+this.wfixe+" "+this.wfixe);d[3].width=this.wfixe+"px";d[3].height=this.wfixe+"px";d[3].left=this.decal.x+"px";d[3].top=this.decal.y+"px";this.ratio=256/this.wfixe;this.square=1/(this.wfixe/256*60);this.setHeight()}});A.prototype=Object.assign(Object.create(y.prototype),{constructor:A,mousedown:function(d){this.isShow?this.hide():this.show()},mode:function(d){var a=this.s;switch(d){case 0:a[1].color=this.fontColor;break;case 1:a[1].color="#FFF";break;case 2:a[1].color=this.fontColor}},makePath:function(d){var a=
"M -1 50";for(var c=0;c<this.res+1;c++)a+=" L "+c+" "+d[c];return a+=" L "+(this.res+1)+" 50"},drawGraph:function(){var d=this.c[2];this.pa1.shift();this.pa1.push(8.5+this.round(30*(1-this.fps/100)));this.setSvg(d,"d",this.makePath(this.pa1),0);this.pa2.shift();this.pa2.push(8.5+this.round(30*(1-this.ms/200)));this.setSvg(d,"d",this.makePath(this.pa2),1);this.isMem&&(this.pa3.shift(),this.pa3.push(8.5+this.round(30*(1-this.mm))),this.setSvg(d,"d",this.makePath(this.pa3),2))},show:function(){this.h=
this.hplus+this.baseH;this.setSvg(this.c[4],"d","M 5 8 L 8 3 2 3 5 8 Z");null!==this.parentGroup?this.parentGroup.calc(this.hplus):this.isUI&&this.main.calc(this.hplus);this.s[0].height=this.h+"px";this.s[2].display="block";this.isShow=!0;E.addListen(this)},hide:function(){this.h=this.baseH;this.setSvg(this.c[4],"d","M 3 8 L 8 5 3 2 3 8 Z");null!==this.parentGroup?this.parentGroup.calc(-this.hplus):this.isUI&&this.main.calc(-this.hplus);this.s[0].height=this.h+"px";this.s[2].display="none";this.isShow=
!1;E.removeListen(this);this.c[1].textContent="FPS"},begin:function(){this.startTime=this.now()},end:function(){var d=this.now();this.ms=d-this.startTime;this.frames++;if(d>this.prevTime+1E3&&(this.fps=this.round(1E3*this.frames/(d-this.prevTime)),this.prevTime=d,this.frames=0,this.isMem)){var a=performance.memory.usedJSHeapSize,c=performance.memory.jsHeapSizeLimit;this.mem=this.round(9.54E-7*a);this.mm=a/c}this.drawGraph();this.c[1].innerHTML="FPS "+this.fps+'<font color="yellow"> MS '+(this.ms|
0)+'</font><font color="cyan"> MB '+this.mem+"</font>";return d},listening:function(){this.startTime=this.end()},rSize:function(){this.s[0].width=this.w+"px";this.s[1].width=this.w+"px";this.s[2].left="10px";this.s[2].width=this.w-20+"px"}});l.prototype=Object.assign(Object.create(y.prototype),{constructor:l,updateSVG:function(){this.setSvg(this.c[3],"d",this.makePath(),0);for(var a=0;a<this.lng;a++)this.setSvg(this.c[3],"height",this.v[a]*this.gh,a+2),this.setSvg(this.c[3],"y",14+(this.gh-this.v[a]*
this.gh),a+2),this.value[a]=this.neg?1*((2*this.v[a]-1)*this.multiplicator).toFixed(this.precision):1*(this.v[a]*this.multiplicator).toFixed(this.precision);this.c[2].textContent=this.value},testZone:function(a){a=this.local;if(-1===a.x&&-1===a.y)return"";var d=this.lng,c=this.tmp;if(a.y>this.top&&a.y<this.h-20)for(;d--;)if(a.x>c[d][0]&&a.x<c[d][2])return d;return""},mode:function(a,c){if(a===this.cMode[c])return!1;switch(a){case 0:var d=.3;break;case 1:d=.6;break;case 2:d=1}this.reset();this.setSvg(this.c[3],
"fill-opacity",d,c+2);this.cMode[c]=a;return!0},reset:function(){for(var a=!1,c=this.lng;c--;)0!==this.cMode[c]&&(this.cMode[c]=0,this.setSvg(this.c[3],"fill-opacity",.3,c+2),a=!0);return a},mouseup:function(a){this.isDown=!1;if(-1!==this.current)return this.reset()},mousedown:function(a){this.isDown=!0;return this.mousemove(a)},mousemove:function(a){var d=this.testZone(a);if(""===d)var c=this.reset();else c=this.mode(this.isDown?2:1,d),this.isDown&&(this.v[d]=this.clamp(1-(a.clientY-this.zone.y-
this.top-10)/this.gh,0,1),this.update(!0));return c},update:function(a){this.updateSVG();a&&this.send()},makePath:function(){for(var a="",c,f,m,l,g,p,n=0;n<this.lng;n++)c=14+(this.gh-this.v[n]*this.gh),f=14+n*this.iw+4*n,l=f+.5*this.iw,m=f+this.iw,a=0===n?a+("M "+f+" "+c+" T "+l+" "+c):a+(" C "+g+" "+p+","+f+" "+c+","+l+" "+c),n===this.lng-1&&(a+=" T "+m+" "+c),g=m,p=c;return a},rSize:function(){y.prototype.rSize.call(this);var a=this.s;void 0!==this.c[1]&&(a[1].width=this.w+"px");a[2].width=this.w+
"px";a[3].width=this.w+"px";a=(this.w-28-4*(this.lng-1))/this.lng;for(var c=[],f=0;f<this.lng;f++)c[f]=[14+f*a+4*f,a],c[f][2]=c[f][0]+c[f][1];this.tmp=c}});G.prototype=Object.assign(Object.create(y.prototype),{constructor:G,isGroup:!0,testZone:function(a){a=this.local;if(-1===a.x&&-1===a.y)return"";var d="";a.y<this.baseH?d="title":this.isOpen&&(d="content");return d},clearTarget:function(){if(-1===this.current)return!1;this.target.uiout();this.target.reset();this.current=-1;this.target=null;E.cursor();
return!0},reset:function(){this.clearTarget()},handleEvent:function(a){var d=a.type,c=!1,f=!1,m=this.testZone(a);if(m){switch(m){case "content":E.isMobile&&"mousedown"===d&&this.getNext(a,c);this.target&&(f=this.target.handleEvent(a));E.lock||this.getNext(a,c);break;case "title":"mousedown"===d&&(this.isOpen?this.close():this.open())}this.isDown&&(c=!0);f&&(c=!0);return c}},getNext:function(a,c){a=E.findTarget(this.uis,a);a!==this.current&&(this.clearTarget(),this.current=a);-1!==a&&(this.target=
this.uis[this.current],this.target.uiover())},calcH:function(){var a=this.uis.length,c,f=0,m=0,l=0;for(c=0;c<a;c++){var g=this.uis[c];g.autoWidth?f+=g.h+1:(0===m?f+=g.h+1:l<g.h&&(f+=g.h-l),l=g.h,m+=g.w,m+g.w>this.w&&(m=0))}return f},calcUis:function(){this.isOpen&&E.calcUis(this.uis,this.zone,this.zone.y+this.baseH)},setBG:function(a){this.s[0].background=a;for(var d=this.uis.length;d--;)this.uis[d].setBG(a)},add:function(){var a=arguments;"object"===typeof a[1]?(a[1].isUI=this.isUI,a[1].target=this.c[2],
a[1].main=this.main):"string"===typeof arguments[1]&&(void 0===a[2]?[].push.call(a,{isUI:!0,target:this.c[2],main:this.main}):(a[2].isUI=!0,a[2].target=this.c[2],a[2].main=this.main));a=Q.apply(this,a);this.uis.push(a);a.autoHeight&&(a.parentGroup=this);return a},parentHeight:function(a){null!==this.parentGroup?this.parentGroup.calc(a):this.isUI&&this.main.calc(a)},open:function(){y.prototype.open.call(this);this.setSvg(this.c[4],"d",this.svgs.arrowDown);this.rSizeContent();this.parentHeight(this.h-
this.baseH)},close:function(){y.prototype.close.call(this);var a=this.h-this.baseH;this.setSvg(this.c[4],"d",this.svgs.arrow);this.h=this.baseH;this.s[0].height=this.h+"px";this.parentHeight(-a)},clear:function(){this.clearGroup();this.isUI&&this.main.calc(-(this.h+1));y.prototype.clear.call(this)},clearGroup:function(){this.close();for(var a=this.uis.length;a--;)this.uis[a].clear(),this.uis.pop();this.uis=[];this.h=this.baseH},calc:function(a){this.isOpen&&(void 0!==a?(this.h+=a,this.isUI&&this.main.calc(a)):
this.h=this.calcH()+this.baseH,this.s[0].height=this.h+"px")},rSizeContent:function(){for(var a=this.uis.length;a--;)this.uis[a].setSize(this.w),this.uis[a].rSize();this.calc()},rSize:function(){y.prototype.rSize.call(this);var a=this.s;a[3].left=this.sa+this.sb-17+"px";a[1].width=this.w+"px";a[2].width=this.w+"px";this.isOpen&&this.rSizeContent()}});g.prototype=Object.assign(Object.create(y.prototype),{constructor:g,mode:function(a){switch(a){case 0:0===this.model?(this.setSvg(this.c[3],"fill","url(#gradIn)",
4),this.setSvg(this.c[3],"stroke","#000",4)):(this.setSvg(this.c[3],"stroke","rgba(100,100,100,0.25)",2),this.setSvg(this.c[3],"stroke","#666",4),this.setSvg(this.c[3],"fill","none",4));break;case 1:0===this.model?(this.setSvg(this.c[3],"fill","url(#gradIn2)",4),this.setSvg(this.c[3],"stroke","rgba(0,0,0,0)",4)):(this.setSvg(this.c[3],"stroke","rgba(48,138,255,0.25)",2),this.setSvg(this.c[3],"stroke",this.colors.select,4),this.setSvg(this.c[3],"fill","rgba(48,138,255,0.25)",4))}},addInterval:function(){null!==
this.interval&&this.stopInterval();this.pos.isZero()||(this.interval=setInterval(function(){this.update()}.bind(this),10))},stopInterval:function(){null!==this.interval&&(clearInterval(this.interval),this.interval=null)},reset:function(){this.addInterval();this.mode(0)},mouseup:function(a){this.addInterval();this.isDown=!1},mousedown:function(a){this.isDown=!0;this.mousemove(a);this.mode(2)},mousemove:function(a){this.mode(1);this.isDown&&(this.tmp.x=this.radius-(a.clientX-this.zone.x),this.tmp.y=
this.radius-(a.clientY-this.zone.y-this.top),this.tmp.length()>this.distance&&(a=Math.atan2(this.tmp.x,this.tmp.y),this.tmp.x=Math.sin(a)*this.distance,this.tmp.y=Math.cos(a)*this.distance),this.pos.copy(this.tmp).divideScalar(this.distance).negate(),this.update())},setValue:function(a){void 0===a&&(a=[0,0]);this.pos.set(a[0]||0,a[1]||0);this.updateSVG()},update:function(a){void 0===a&&(a=!0);null===this.interval||this.isDown||(this.pos.lerp(null,.3),this.pos.x=.01>Math.abs(this.pos.x)?0:this.pos.x,
this.pos.y=.01>Math.abs(this.pos.y)?0:this.pos.y,this.isUI&&this.main.isCanvas&&this.main.draw());this.updateSVG();a&&this.send();this.pos.isZero()&&this.stopInterval()},updateSVG:function(){var a=this.radius- -this.pos.x*this.distance,c=this.radius- -this.pos.y*this.distance;if(0===this.model){var f=c+5*this.pos.y+10;this.setSvg(this.c[3],"cx",(a+5*this.pos.x+5)*this.ratio,3);this.setSvg(this.c[3],"cy",f*this.ratio,3)}else this.setSvg(this.c[3],"cx",a*this.ratio,3),this.setSvg(this.c[3],"cy",c*this.ratio,
3);this.setSvg(this.c[3],"cx",a*this.ratio,4);this.setSvg(this.c[3],"cy",c*this.ratio,4);this.value[0]=1*(this.pos.x*this.multiplicator).toFixed(this.precision);this.value[1]=1*(this.pos.y*this.multiplicator).toFixed(this.precision);this.c[2].textContent=this.value},clear:function(){this.stopInterval();y.prototype.clear.call(this)}});a.prototype=Object.assign(Object.create(n.prototype),{constructor:a,mode:function(a){if(this.cmode===a)return!1;switch(a){case 0:this.s[2].color=this.fontColor;this.setSvg(this.c[3],
"fill",this.colors.button,0);this.setSvg(this.c[3],"stroke",this.fontColor,1);break;case 1:this.s[2].color=this.colorPlus,this.setSvg(this.c[3],"fill",this.colors.select,0),this.setSvg(this.c[3],"stroke",this.colorPlus,1)}this.cmode=a;return!0},mousemove:function(a){if(this.isDown){var d=this.offset;d.x=this.radius-(a.clientX-this.zone.x);d.y=this.radius-(a.clientY-this.zone.y-this.top);this.r=-Math.atan2(d.x,d.y);null!==this.oldr&&(this.r=Math.abs(this.r-this.oldr)>Math.PI?this.oldr:this.r);this.r=
this.r>this.mPI?this.mPI:this.r;this.r=this.r<-this.mPI?-this.mPI:this.r;a=1/this.cirRange*this.range*(this.r+this.mPI)+this.min-this.old;if(a>=this.step||a<=this.step)a=Math.floor(a/this.step),this.value=this.numValue(this.old+a*this.step),this.update(!0),this.old=this.value,this.oldr=this.r}},makeGrad:function(){var a="",c=Math.PI+this.mPI;var f=Math.PI-this.mPI;if(5<this.step){var m=this.range/this.step;f=(c-f)/m}else f=(c-f)/64*2,m=32;for(var l=0;l<=m;++l){var g=c-f*l;var p=64+44*Math.sin(g);
var n=64+44*Math.cos(g);var w=64+40*Math.sin(g);g=64+40*Math.cos(g);a+="M"+p+" "+n+" L"+w+" "+g+" "}return a},update:function(a){this.c[2].textContent=this.value;this.percent=(this.value-this.min)/this.range;var d=this.percent*this.cirRange-this.mPI,c=Math.sin(d);d=Math.cos(d);this.setSvg(this.c[3],"d","M "+(25*c+64)+" "+(-(25*d)+64)+" L "+(20*c+64)+" "+(-(20*d)+64),1);a&&this.send()}});c.prototype=Object.assign(Object.create(y.prototype),{constructor:c,preloadImage:function(){this.preLoadComplete=
!1;this.tmpImage={};for(var a=0;a<this.list.length;a++)this.tmpUrl.push(this.list[a]);this.loadOne()},nextImg:function(){this.tmpUrl.shift();0===this.tmpUrl.length?(this.preLoadComplete=!0,this.addImages()):this.loadOne()},loadOne:function(){var a=this,c=this.tmpUrl[0],f=document.createElement("img");f.style.cssText="position:absolute; width:"+a.imageSize[0]+"px; height:"+a.imageSize[1]+"px";f.setAttribute("src",this.path+c+this.format);f.addEventListener("load",function(){a.imageSize[2]=f.width;
a.imageSize[3]=f.height;a.tmpImage[c]=f;a.nextImg()})},testZone:function(a){a=this.local;if(-1===a.x&&-1===a.y)return"";if(this.up&&this.isOpen){if(a.y>this.h-this.baseH)return"title";if(this.scroll&&a.x>this.sa+this.sb-20)return"scroll";if(a.x>this.sa)return this.testItems(a.y-this.baseH)}else{if(a.y<this.baseH+2)return"title";if(this.isOpen){if(this.scroll&&a.x>this.sa+this.sb-20)return"scroll";if(a.x>this.sa)return this.testItems(a.y-this.baseH)}}return""},testItems:function(a){for(var d="",c=
this.items.length,f,m,l;c--;)if(f=this.items[c],m=f.posy+this.topList,l=f.posy+this.itemHeight+1+this.topList,a>=m&&a<=l){d="item"+c;this.unSelected();this.current=f;this.selected();break}return d},unSelected:function(){this.current&&(this.current.style.background="rgba(0,0,0,0.2)",this.current.style.color=this.fontColor,this.current=null)},selected:function(){this.current.style.background=this.colors.select;this.current.style.color="#FFF"},mouseup:function(a){this.isDown=!1},mousedown:function(a){var d=
this.testZone(a);if(!d)return!1;"scroll"===d?(this.isDown=!0,this.mousemove(a)):"title"===d?(this.modeTitle(2),this.isOpen?this.close():this.open()):this.current&&(this.value=this.list[this.current.id],this.setTopItem(),this.send(),this.close());return!0},mousemove:function(a){var d=!1,c=this.testZone(a);if(!c)return d;"title"===c?(this.unSelected(),this.modeTitle(1),this.cursor("pointer")):"scroll"===c?(this.cursor("s-resize"),this.modeScroll(1),this.isDown&&(this.modeScroll(2),this.update(a.clientY-
(this.zone.y+this.baseH-2)-.5*this.sh))):(this.modeTitle(0),this.modeScroll(0),this.cursor("pointer"));c!==this.prevName&&(d=!0);this.prevName=c;return d},wheel:function(a){if("title"===this.testZone(a))return!1;this.py+=10*a.delta;this.update(this.py);return!0},reset:function(){this.prevName="";this.unSelected();this.modeTitle(0);this.modeScroll(0)},modeScroll:function(a){if(a!==this.sMode){switch(a){case 0:this.scroller.style.background=this.buttonColor;break;case 1:this.scroller.style.background=
this.colors.select;break;case 2:this.scroller.style.background=this.colors.down}this.sMode=a}},modeTitle:function(a){if(a!==this.tMode){var d=this.s;switch(a){case 0:d[3].color=this.fontColor;d[3].background=this.buttonColor;break;case 1:d[3].color="#FFF";d[3].background=this.colors.select;break;case 2:d[3].color=this.fontColor,d[3].background=this.colors.down}this.tMode=a}},clearList:function(){for(;this.listIn.children.length;)this.listIn.removeChild(this.listIn.lastChild);this.items=[]},setList:function(a){this.clearList();
this.list=a;this.length=this.list.length;this.maxItem=this.full?this.length:5;this.maxItem=this.length<this.maxItem?this.length:this.maxItem;this.maxHeight=this.maxItem*(this.itemHeight+1)+2;this.max=this.length*(this.itemHeight+1)+2;this.ratio=this.maxHeight/this.max;this.sh=this.maxHeight*this.ratio;this.range=this.maxHeight-this.sh;this.c[2].style.height=this.maxHeight+"px";this.scroller.style.height=this.sh+"px";this.max>this.maxHeight&&(this.ww=this.sb-20,this.scroll=!0);for(var d,c=0;c<this.length;c++)d=
this.list[c],a=this.dom("div",this.css.item+"width:"+this.ww+"px; height:"+this.itemHeight+"px; line-height:"+(this.itemHeight-5)+"px; color:"+this.fontColor+";"),a.name="item"+c,a.id=c,a.posy=(this.itemHeight+1)*c,this.listIn.appendChild(a),this.items.push(a),this.isWithImage||(a.textContent=d);this.setTopItem()},addImages:function(){for(var a=this.list.length,c=0;c<a;c++)this.items[c].appendChild(this.tmpImage[this.list[c]]);this.setTopItem()},setTopItem:function(){this.isWithImage?this.preLoadComplete&&
(this.c[3].children.length||(this.canvas=document.createElement("canvas"),this.canvas.width=this.imageSize[0],this.canvas.height=this.imageSize[1],this.canvas.style.cssText="position:absolute; top:0px; left:0px;",this.ctx=this.canvas.getContext("2d"),this.c[3].appendChild(this.canvas)),this.ctx.drawImage(this.tmpImage[this.value],0,0,this.imageSize[2],this.imageSize[3],0,0,this.imageSize[0],this.imageSize[1])):this.c[3].textContent=this.value},update:function(a){this.scroll&&(a=0>a?0:a,a=a>this.range?
this.range:a,this.topList=-Math.floor(a/this.ratio),this.listIn.style.top=this.topList+"px",this.scroller.style.top=Math.floor(a)+"px",this.py=a)},parentHeight:function(a){null!==this.parentGroup?this.parentGroup.calc(a):this.isUI&&this.main.calc(a)},open:function(){y.prototype.open.call(this);this.update(0);this.h=this.maxHeight+this.baseH+5;this.scroll?this.scroller.style.display="block":(this.topList=0,this.h=this.baseH+5+this.max,this.scroller.style.display="none");this.s[0].height=this.h+"px";
this.s[2].display="block";this.up?(this.zone.y-=this.h-(this.baseH-10),this.setSvg(this.c[4],"d",this.svgs.arrowUp)):this.setSvg(this.c[4],"d",this.svgs.arrowDown);this.rSizeContent();var a=this.h-this.baseH;this.zone.h=this.h;this.parentHeight(a)},close:function(){y.prototype.close.call(this);this.up&&(this.zone.y+=this.h-(this.baseH-10));var a=this.h-this.baseH;this.h=this.baseH;this.s[0].height=this.h+"px";this.s[2].display="none";this.setSvg(this.c[4],"d",this.svgs.arrow);this.zone.h=this.h;this.parentHeight(-a)},
text:function(a){this.c[3].textContent=a},rSizeContent:function(){for(var a=this.length;a--;)this.listIn.children[a].style.width=this.ww+"px"},rSize:function(){y.prototype.rSize.call(this);var a=this.s,c=this.sb,f=this.sa;void 0!==a[2]&&(a[2].width=c+"px",a[2].left=f+"px",a[3].width=c+"px",a[3].left=f+"px",a[4].left=f+c-17+"px",this.ww=c,this.max>this.maxHeight&&(this.ww=c-20),this.isOpen&&this.rSizeContent())}});f.prototype=Object.assign(Object.create(y.prototype),{constructor:f,testZone:function(a){a=
this.local;if(-1===a.x&&-1===a.y)return"";for(var d=this.lng,c=this.tmp;d--;)if(a.x>c[d][0]&&a.x<c[d][2])return d;return""},mode:function(a,c){if(a===this.cMode[c])return!1;this.reset();this.cMode[c]=a;return!0},mousedown:function(a){var d=this.testZone(a);if(""===d)return!1;this.current=d;this.isDown=!0;this.prev={x:a.clientX,y:a.clientY,d:0,v:this.isNumber?parseFloat(this.value):parseFloat(this.value[this.current])};return this.mode(2,d)},mouseup:function(a){a=this.testZone(a);this.isDown=!1;if(-1!==
this.current){var d=this.prev.d;this.current=-1;this.prev={x:0,y:0,d:0,v:0};if(d)return this.reset();this.setInput(this.c[a+2],function(){this.testValue()}.bind(this));return!0}},mousemove:function(a){var d=this.testZone(a);""===d?(d=this.reset(),this.cursor()):(d=this.mode(1,d),this.cursor(-1!==this.current?"move":"pointer"));-1!==this.current&&(this.prev.d+=a.clientX-this.prev.x-(a.clientY-this.prev.y),this.value[this.current]=this.numValue(this.prev.v+this.prev.d*this.step),this.c[2+this.current].textContent=
this.value[this.current],this.validate(),this.prev.x=a.clientX,this.prev.y=a.clientY,d=!0);return d},keydown:function(a){return!0},reset:function(){var a=!1;this.isDown=!1;for(var c=this.lng;c--;)0!==this.cMode[c]&&(this.cMode[c]=0,a=!0);return a},setValue:function(a,c){c=c||0;this.value[c]=this.numValue(a);this.c[2+c].textContent=this.value[c]},testValue:function(){for(var a=this.lng;a--;)if(isNaN(this.c[2+a].textContent))this.c[2+a].textContent=this.value[a];else{var c=this.numValue(this.c[2+a].textContent);
this.c[2+a].textContent=c;this.value[a]=c}this.validate()},validate:function(){for(var a=[],c=this.lng;c--;)a[c]=this.value[c]*this.toRad;this.isNumber?this.send(a[0]):this.send(a)},rSize:function(){y.prototype.rSize.call(this);for(var a=Math.floor((this.sb+5)/this.lng)-5,c=this.s,f=this.lng;f--;)this.tmp[f]=[Math.floor(this.sa+a*f+5*f),a],this.tmp[f][2]=this.tmp[f][0]+this.tmp[f][1],c[2+f].left=this.tmp[f][0]+"px",c[2+f].width=this.tmp[f][1]+"px"}});m.prototype=Object.assign(Object.create(y.prototype),
{constructor:m,testZone:function(a){a=this.local;return-1===a.x&&-1===a.y?"":a.x>=this.txl?"text":a.x>=this.sa?"scroll":""},mouseup:function(a){this.isDown&&(this.isDown=!1)},mousedown:function(a){var d=this.testZone(a);if(!d)return!1;"scroll"===d&&(this.isDown=!0,this.old=this.value,this.mousemove(a));"text"===d&&this.setInput(this.c[2],function(){this.validate()}.bind(this));return!0},mousemove:function(a){var d=!1,c=this.testZone(a);"scroll"===c?(this.mode(1),this.cursor("w-resize")):"text"===
c?this.cursor("pointer"):this.cursor();if(this.isDown){a=(a.clientX-(this.zone.x+this.sa)-3)/this.ww*this.range+this.min-this.old;if(a>=this.step||a<=this.step)a=Math.floor(a/this.step),this.value=this.numValue(this.old+a*this.step),this.update(!0),this.old=this.value;d=!0}return d},keydown:function(a){return!0},validate:function(){var a=this.c[2].textContent;isNaN(a)?this.c[2].textContent=this.value:(this.value=this.numValue(a),this.update(!0))},reset:function(){this.isDown=!1;this.mode(0)},mode:function(a){var d=
this.s;switch(a){case 0:d[2].color=this.fontColor;d[4].background=this.colors.scrollback;d[5].background=this.fontColor;break;case 1:d[2].color=this.colorPlus,d[4].background=this.colors.scrollbackover,d[5].background=this.colorPlus}},update:function(a){var d=Math.floor((this.value-this.min)/this.range*this.ww);3!==this.model&&(this.s[5].width=d+"px");this.s[6]&&(this.s[6].left=this.sa+d+3+"px");this.c[2].textContent=this.value;a&&this.send()},rSize:function(){y.prototype.rSize.call(this);var a=this.sb-
this.sc;this.ww=a-6;var c=this.sc;if(this.isUI||!this.simple)c=this.sc+10;this.txl=this.w-c+2;c=this.s;c[2].width=this.sc-6+"px";c[2].left=this.txl+4+"px";c[3].left=this.sa+"px";c[3].width=a+"px";c[4].left=this.sa+"px";c[4].width=a+"px";c[5].left=this.sa+3+"px";this.update()}});L.prototype=Object.assign(Object.create(y.prototype),{constructor:L,mousedown:function(a){this.setInput(this.c[2],function(){this.validate()}.bind(this));return this.mode(2)},mousemove:function(a){return this.mode(1)},keydown:function(a){return!0},
mode:function(a){if(a===this.cmode)return!1;this.cmode=a;return!0},reset:function(){this.mode(0)},rSize:function(){y.prototype.rSize.call(this);var a=this.s;a[2].color=this.fontColor;a[2].left=this.sa+"px";a[2].width=this.sb+"px";a[2].height=this.h-4+"px";a[2].lineHeight=this.h-8+"px"},validate:function(){this.value=this.c[2].textContent;this.send()}});O.prototype=Object.assign(Object.create(y.prototype),{constructor:O,text:function(a){this.c[1].textContent=a},text2:function(a){this.c[2].textContent=
a},rSize:function(){y.prototype.rSize.call(this);this.s[1].width=this.w-50+"px";this.s[2].left=this.w-76+"px"}});Object.assign(ea.prototype,{constructor:ea,isGui:!0,dispose:function(){this.clear();null!==this.parent&&this.parent.removeChild(this.content);E.remove(this)},onDraw:function(){},makeCanvas:function(){this.canvas=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");this.canvas.width=this.zone.w;this.canvas.height=this.forceHeight?this.forceHeight:this.zone.h},draw:function(a){null!==
this.canvas&&E.toCanvas(this,this.zone.w,this.forceHeight?this.forceHeight:this.zone.h,a)},getDom:function(){return this.content},setMouse:function(a){this.mouse.set(a.x,a.y)},setText:function(a,c,f){z.setText(a,c,f)},hide:function(a){this.content.style.display=a?"none":"block"},onChange:function(a){this.callback=a;return this},mode:function(a){var d=!1;if(a!==this.cn){this.cn=a;switch(a){case "def":this.scroll.style.background=this.colors.scroll;this.bottom.style.background=this.colors.background;
this.bottom.style.color=this.colors.text;break;case "scrollOver":this.scroll.style.background=this.colors.select;break;case "scrollDown":this.scroll.style.background=this.colors.down;break;case "bottomOver":this.bottom.style.background=this.colors.backgroundOver,this.bottom.style.color="#FFF"}d=!0}return d},clearTarget:function(){if(-1===this.current)return!1;this.target.uiout();this.target.reset();this.target=null;this.current=-1;E.cursor();return!0},testZone:function(a){a=this.local;if(-1===a.x&&
-1===a.y)return"";this.isReset=!1;var d=this.isScroll?this.zone.w-this.size.s:this.zone.w;return a.y>this.zone.h-this.bh&&a.y<this.zone.h?"bottom":a.x>d?"scroll":"content"},handleEvent:function(a){var d=a.type,c=!1,f=!1,m=this.testZone(a);"mouseup"===d&&this.isDown&&(this.isDown=!1);"mousedown"!==d||this.isDown||(this.isDown=!0);this.isDown&&this.isNewTarget&&(E.clearInput(),this.isNewTarget=!1);if(m){switch(m){case "content":a.clientY=this.isScroll?a.clientY+this.decal:a.clientY;E.isMobile&&"mousedown"===
d&&this.getNext(a,c);this.target&&(f=this.target.handleEvent(a));"mousemove"===d&&(c=this.mode("def"));"wheel"===d&&!f&&this.isScroll&&(c=this.onWheel(a));E.lock||this.getNext(a,c);break;case "bottom":this.clearTarget();"mousemove"===d&&(c=this.mode("bottomOver"));"mousedown"===d&&(this.isOpen=this.isOpen?!1:!0,this.bottom.textContent=this.isOpen?"close":"open",this.setHeight(),this.mode("def"),c=!0);break;case "scroll":this.clearTarget(),"mousemove"===d&&(c=this.mode("scrollOver")),"mousedown"===
d&&(c=this.mode("scrollDown")),"wheel"===d&&(c=this.onWheel(a)),this.isDown&&this.update(a.clientY-this.zone.y-.5*this.sh)}this.isDown&&(c=!0);f&&(c=!0);c&&this.draw()}},getNext:function(a,c){a=E.findTarget(this.uis,a);a!==this.current&&(this.clearTarget(),this.current=a,this.isNewTarget=!0);-1!==a&&(this.target=this.uis[this.current],this.target.uiover())},onWheel:function(a){this.oy+=20*a.delta;this.update(this.oy);return!0},reset:function(a){if(!this.isReset){this.mouse.neg();this.isDown=!1;a=
this.mode("def");var d=this.clearTarget();(a||d)&&this.draw(!0);this.isReset=!0}},add:function(){var a=arguments;"object"===typeof a[1]?(a[1].isUI=!0,a[1].main=this):"string"===typeof a[1]&&(void 0===a[2]?[].push.call(a,{isUI:!0,main:this}):(a[2].isUI=!0,a[2].main=this));a=Q.apply(this,a);if(null!==a){this.uis.push(a);if(a.autoWidth)this.prevY=0,this.calc(a.h+1);else{var c=a.c[0].getBoundingClientRect().top;this.prevY!==c&&(this.calc(a.h+1),this.prevY=c)}return a}},applyCalc:function(){this.calc(this.tmpH);
this.tmpAdd=null},calcUis:function(){E.calcUis(this.uis,this.zone,this.zone.y)},remove:function(a){a=this.uis.indexOf(a);-1!==a&&this.uis[a].clear()},clearOne:function(a){a=this.uis.indexOf(a);-1!==a&&(this.inner.removeChild(this.uis[a].c[0]),this.uis.splice(a,1))},clear:function(){for(var a=this.uis.length;a--;)this.uis[a].clear();this.uis=[];E.listens=[];this.calc(-this.h)},upScroll:function(a){this.sw=a?this.size.s:0;this.oy=a?this.oy:0;this.scrollBG.style.display=a?"block":"none";a&&(this.total=
this.h,this.maxView=this.maxHeight,this.ratio=this.maxView/this.total,this.sh=this.maxView*this.ratio,this.range=this.maxView-this.sh,this.oy=z.clamp(this.oy,0,this.range),this.scrollBG.style.height=this.maxView+"px",this.scroll.style.height=this.sh+"px");this.setItemWidth(this.zone.w-this.sw);this.update(this.oy)},update:function(a){a=z.clamp(a,0,this.range);this.decal=Math.floor(a/this.ratio);this.inner.style.top=-this.decal+"px";this.scroll.style.top=Math.floor(a)+"px";this.oy=a},calc:function(a){this.h+=
a;clearTimeout(this.tmp);this.tmp=setTimeout(this.setHeight.bind(this),10)},setHeight:function(){this.tmp&&clearTimeout(this.tmp);this.zone.h=this.bh;this.isScroll=!1;this.isOpen&&(this.maxHeight=(this.forceHeight?this.forceHeight:window.innerHeight)-this.zone.y-this.bh,1<this.h-this.maxHeight?(this.isScroll=!0,this.zone.h=this.maxHeight+this.bh):this.zone.h=this.h+this.bh);this.upScroll(this.isScroll);this.innerContent.style.height=this.zone.h-this.bh+"px";this.content.style.height=this.zone.h+"px";
this.bottom.style.top=this.zone.h-this.bh+"px";this.isOpen&&this.calcUis();this.isCanvas&&this.draw(!0)},setWidth:function(a){a&&(this.zone.w=a);this.content.style.width=this.zone.w+"px";this.isCenter&&(this.content.style.marginLeft=-Math.floor(.5*this.zone.w)+"px");this.setItemWidth(this.zone.w-this.sw);this.setHeight();this.isCanvasOnly||(E.needReZone=!0)},setItemWidth:function(a){for(var c=this.uis.length;c--;)this.uis[c].setSize(a),this.uis[c].rSize()}});k.Bool=r;k.Button=p;k.Circular=n;k.Color=
w;k.Fps=A;k.Group=G;k.Gui=ea;k.Joystick=g;k.Knob=a;k.List=c;k.Numeric=f;k.Proto=y;k.REVISION="2.0";k.Slide=m;k.TextInput=L;k.Title=O;k.Tools=z;k.add=Q;Object.defineProperty(k,"__esModule",{value:!0})});(function(k,t){"object"===typeof exports&&"undefined"!==typeof module?module.exports=t():"function"===typeof define&&define.amd?define(t):k.CodeMirror=t()})(this,function(){function k(b){return new RegExp("(^|\\s)"+b+"(?:$|\\s)\\s*")}function t(b){for(var e=b.childNodes.length;0<e;--e)b.removeChild(b.firstChild);return b}function y(b,e){return t(b).appendChild(e)}function r(b,e,a,h){b=document.createElement(b);a&&(b.className=a);h&&(b.style.cssText=h);if("string"==typeof e)b.appendChild(document.createTextNode(e));
else if(e)for(a=0;a<e.length;++a)b.appendChild(e[a]);return b}function p(b,e,a,h){b=r(b,e,a,h);b.setAttribute("role","presentation");return b}function n(b,e){3==e.nodeType&&(e=e.parentNode);if(b.contains)return b.contains(e);do if(11==e.nodeType&&(e=e.host),e==b)return!0;while(e=e.parentNode)}function w(){try{var b=document.activeElement}catch(e){b=document.body||null}for(;b&&b.shadowRoot&&b.shadowRoot.activeElement;)b=b.shadowRoot.activeElement;return b}function A(b,e){var a=b.className;k(e).test(a)||
(b.className+=(a?" ":"")+e)}function l(b,e){b=b.split(" ");for(var a=0;a<b.length;a++)b[a]&&!k(b[a]).test(e)&&(e+=" "+b[a]);return e}function G(b){var e=Array.prototype.slice.call(arguments,1);return function(){return b.apply(null,e)}}function g(b,e,a){e||(e={});for(var h in b)!b.hasOwnProperty(h)||!1===a&&e.hasOwnProperty(h)||(e[h]=b[h]);return e}function a(b,e,a,h,v){null==e&&(e=b.search(/[^\s\u00a0]/),-1==e&&(e=b.length));h=h||0;for(v=v||0;;){var q=b.indexOf("\t",h);if(0>q||q>=e)return v+(e-h);
v+=q-h;v+=a-v%a;h=q+1}}function c(b,e){for(var a=0;a<b.length;++a)if(b[a]==e)return a;return-1}function f(b,e,a){for(var h=0,q=0;;){var c=b.indexOf("\t",h);-1==c&&(c=b.length);var d=c-h;if(c==b.length||q+d>=e)return h+Math.min(d,e-q);q+=c-h;q+=a-q%a;h=c+1;if(q>=e)return h}}function m(b){for(;fd.length<=b;)fd.push(L(fd)+" ");return fd[b]}function L(b){return b[b.length-1]}function O(b,e){for(var a=[],h=0;h<b.length;h++)a[h]=e(b[h],h);return a}function Q(b,e,a){for(var h=0,q=a(e);h<b.length&&a(b[h])<=
q;)h++;b.splice(h,0,e)}function ea(){}function B(b,e){Object.create?b=Object.create(b):(ea.prototype=b,b=new ea);e&&g(e,b);return b}function z(b){return/\w/.test(b)||"\u0080"<b&&(b.toUpperCase()!=b.toLowerCase()||mg.test(b))}function u(b,e){return e?-1<e.source.indexOf("\\w")&&z(b)?!0:e.test(b):z(b)}function E(b){for(var e in b)if(b.hasOwnProperty(e)&&b[e])return!1;return!0}function d(b){return 768<=b.charCodeAt(0)&&ng.test(b)}function H(b,e,a){for(;(0>a?0<e:e<b.length)&&d(b.charAt(e));)e+=a;return e}
function U(b,e,a){for(var h=e>a?-1:1;;){if(e==a)return e;var q=(e+a)/2;q=0>h?Math.ceil(q):Math.floor(q);if(q==e)return b(q)?e:a;b(q)?a=q:e=q+h}}function P(b,e,a){this.input=a;this.scrollbarFiller=r("div",null,"CodeMirror-scrollbar-filler");this.scrollbarFiller.setAttribute("cm-not-content","true");this.gutterFiller=r("div",null,"CodeMirror-gutter-filler");this.gutterFiller.setAttribute("cm-not-content","true");this.lineDiv=p("div",null,"CodeMirror-code");this.selectionDiv=r("div",null,null,"position: relative; z-index: 1");
this.cursorDiv=r("div",null,"CodeMirror-cursors");this.measure=r("div",null,"CodeMirror-measure");this.lineMeasure=r("div",null,"CodeMirror-measure");this.lineSpace=p("div",[this.measure,this.lineMeasure,this.selectionDiv,this.cursorDiv,this.lineDiv],null,"position: relative; outline: none");var h=p("div",[this.lineSpace],"CodeMirror-lines");this.mover=r("div",[h],null,"position: relative");this.sizer=r("div",[this.mover],"CodeMirror-sizer");this.sizerWidth=null;this.heightForcer=r("div",null,null,
"position: absolute; height: 30px; width: 1px;");this.gutters=r("div",null,"CodeMirror-gutters");this.lineGutter=null;this.scroller=r("div",[this.sizer,this.heightForcer,this.gutters],"CodeMirror-scroll");this.scroller.setAttribute("tabIndex","-1");this.wrapper=r("div",[this.scrollbarFiller,this.gutterFiller,this.scroller],"CodeMirror");W&&8>fa&&(this.gutters.style.zIndex=-1,this.scroller.style.paddingRight=0);za||vb&&pc||(this.scroller.draggable=!0);b&&(b.appendChild?b.appendChild(this.wrapper):
b(this.wrapper));this.reportedViewFrom=this.reportedViewTo=this.viewFrom=this.viewTo=e.first;this.view=[];this.externalMeasured=this.renderedView=null;this.lastWrapHeight=this.lastWrapWidth=this.viewOffset=0;this.updateLineNumbers=null;this.nativeBarWidth=this.barHeight=this.barWidth=0;this.scrollbarsClipped=!1;this.lineNumWidth=this.lineNumInnerWidth=this.lineNumChars=null;this.alignWidgets=!1;this.maxLine=this.cachedCharWidth=this.cachedTextHeight=this.cachedPaddingH=null;this.maxLineLength=0;this.maxLineChanged=
!1;this.wheelDX=this.wheelDY=this.wheelStartX=this.wheelStartY=null;this.shift=!1;this.activeTouch=this.selForContextMenu=null;a.init(this)}function F(b,e){e-=b.first;if(0>e||e>=b.size)throw Error("There is no line "+(e+b.first)+" in the document.");for(;!b.lines;)for(var a=0;;++a){var h=b.children[a],v=h.chunkSize();if(e<v){b=h;break}e-=v}return b.lines[e]}function ya(b,e,a){var h=[],q=e.line;b.iter(e.line,a.line+1,function(b){b=b.text;q==a.line&&(b=b.slice(0,a.ch));q==e.line&&(b=b.slice(e.ch));
h.push(b);++q});return h}function Ea(b,e,a){var h=[];b.iter(e,a,function(b){h.push(b.text)});return h}function wa(b,e){if(e-=b.height)for(;b;b=b.parent)b.height+=e}function N(b){if(null==b.parent)return null;var e=b.parent;b=c(e.lines,b);for(var a=e.parent;a;e=a,a=a.parent)for(var h=0;a.children[h]!=e;++h)b+=a.children[h].chunkSize();return b+e.first}function ma(b,e){var a=b.first;a:do{for(var h=0;h<b.children.length;++h){var v=b.children[h],c=v.height;if(e<c){b=v;continue a}e-=c;a+=v.chunkSize()}return a}while(!b.lines);
for(h=0;h<b.lines.length;++h){v=b.lines[h].height;if(e<v)break;e-=v}return a+h}function ta(b,e){return e>=b.first&&e<b.first+b.size}function Ja(b,e){return String(b.lineNumberFormatter(e+b.firstLineNumber))}function C(b,e,a){void 0===a&&(a=null);if(!(this instanceof C))return new C(b,e,a);this.line=b;this.ch=e;this.sticky=a}function J(b,e){return b.line-e.line||b.ch-e.ch}function nb(b,e){return b.sticky==e.sticky&&0==J(b,e)}function ob(b){return C(b.line,b.ch)}function Za(b,e){return 0>J(b,e)?e:b}
function $a(b,e){return 0>J(b,e)?b:e}function M(b,e){if(e.line<b.first)return C(b.first,0);var a=b.first+b.size-1;if(e.line>a)return C(a,F(b,a).text.length);b=F(b,e.line).text.length;a=e.ch;e=null==a||a>b?C(e.line,b):0>a?C(e.line,0):e;return e}function Ka(b,e){for(var a=[],h=0;h<e.length;h++)a[h]=M(b,e[h]);return a}function ka(b,e,a){this.marker=b;this.from=e;this.to=a}function Aa(b,e){if(b)for(var a=0;a<b.length;++a){var h=b[a];if(h.marker==e)return h}}function ba(b,e){if(e.full)return null;var a=
ta(b,e.from.line)&&F(b,e.from.line).markedSpans,h=ta(b,e.to.line)&&F(b,e.to.line).markedSpans;if(!a&&!h)return null;b=e.from.ch;var v=e.to.ch,c=0==J(e.from,e.to),d;if(a)for(var f=0;f<a.length;++f){var S=a[f],m=S.marker;if(null==S.from||(m.inclusiveLeft?S.from<=b:S.from<b)||!(S.from!=b||"bookmark"!=m.type||c&&S.marker.insertLeft)){var l=null==S.to||(m.inclusiveRight?S.to>=b:S.to>b);(d||(d=[])).push(new ka(m,S.from,l?null:S.to))}}a=d;var g;if(h)for(d=0;d<h.length;++d)if(f=h[d],S=f.marker,null==f.to||
(S.inclusiveRight?f.to>=v:f.to>v)||f.from==v&&"bookmark"==S.type&&(!c||f.marker.insertLeft))m=null==f.from||(S.inclusiveLeft?f.from<=v:f.from<v),(g||(g=[])).push(new ka(S,m?null:f.from-v,null==f.to?null:f.to-v));h=1==e.text.length;v=L(e.text).length+(h?b:0);if(a)for(c=0;c<a.length;++c)if(d=a[c],null==d.to)(f=Aa(g,d.marker),f)?h&&(d.to=null==f.to?null:f.to+v):d.to=b;if(g)for(b=0;b<g.length;++b)c=g[b],null!=c.to&&(c.to+=v),null==c.from?Aa(a,c.marker)||(c.from=v,h&&(a||(a=[])).push(c)):(c.from+=v,h&&
(a||(a=[])).push(c));a&&(a=la(a));g&&g!=a&&(g=la(g));b=[a];if(!h){e=e.text.length-2;var x;if(0<e&&a)for(h=0;h<a.length;++h)null==a[h].to&&(x||(x=[])).push(new ka(a[h].marker,null,null));for(a=0;a<e;++a)b.push(x);b.push(g)}return b}function la(b){for(var e=0;e<b.length;++e){var a=b[e];null!=a.from&&a.from==a.to&&!1!==a.marker.clearWhenEmpty&&b.splice(e--,1)}return b.length?b:null}function hb(b,e,a){var h=null;b.iter(e.line,a.line+1,function(b){if(b.markedSpans)for(var e=0;e<b.markedSpans.length;++e){var a=
b.markedSpans[e].marker;!a.readOnly||h&&-1!=c(h,a)||(h||(h=[])).push(a)}});if(!h)return null;b=[{from:e,to:a}];for(e=0;e<h.length;++e){a=h[e];for(var q=a.find(0),d=0;d<b.length;++d){var f=b[d];if(!(0>J(f.to,q.from)||0<J(f.from,q.to))){var Sa=[d,1],S=J(f.from,q.from),m=J(f.to,q.to);(0>S||!a.inclusiveLeft&&!S)&&Sa.push({from:f.from,to:q.from});(0<m||!a.inclusiveRight&&!m)&&Sa.push({from:q.to,to:f.to});b.splice.apply(b,Sa);d+=Sa.length-3}}}return b}function La(b){var e=b.markedSpans;if(e){for(var a=
0;a<e.length;++a)e[a].marker.detachLine(b);b.markedSpans=null}}function wb(b,e){if(e){for(var a=0;a<e.length;++a)e[a].marker.attachLine(b);b.markedSpans=e}}function na(b,e){var a=b.lines.length-e.lines.length;if(0!=a)return a;a=b.find();var h=e.find(),v=J(a.from,h.from)||(b.inclusiveLeft?-1:0)-(e.inclusiveLeft?-1:0);return v?-v:(a=J(a.to,h.to)||(b.inclusiveRight?1:0)-(e.inclusiveRight?1:0))?a:e.id-b.id}function Ma(b,e){b=xb&&b.markedSpans;if(b)for(var a,h=0;h<b.length;++h)if(a=b[h],a.marker.collapsed&&
null==(e?a.from:a.to)&&(!v||0>na(v,a.marker)))var v=a.marker;return v}function V(b,e,a,h,v){b=F(b,e);if(b=xb&&b.markedSpans)for(e=0;e<b.length;++e){var q=b[e];if(q.marker.collapsed){var c=q.marker.find(0),d=J(c.from,a)||(q.marker.inclusiveLeft?-1:0)-(v.inclusiveLeft?-1:0),f=J(c.to,h)||(q.marker.inclusiveRight?1:0)-(v.inclusiveRight?1:0);if(!(0<=d&&0>=f||0>=d&&0<=f)&&(0>=d&&(q.marker.inclusiveRight&&v.inclusiveLeft?0<=J(c.to,a):0<J(c.to,a))||0<=d&&(q.marker.inclusiveRight&&v.inclusiveLeft?0>=J(c.from,
h):0>J(c.from,h))))return!0}}}function Ba(b){for(var e;e=Ma(b,!0);)b=e.find(-1,!0).line;return b}function Na(b,e){b=F(b,e);var a=Ba(b);return b==a?e:N(a)}function Fa(b,e){if(e>b.lastLine())return e;var a=F(b,e);if(!oa(b,a))return e;for(;b=Ma(a,!1);)a=b.find(1,!0).line;return N(a)+1}function oa(b,e){var a=xb&&e.markedSpans;if(a)for(var h,v=0;v<a.length;++v)if(h=a[v],h.marker.collapsed&&(null==h.from||!h.marker.widgetNode&&0==h.from&&h.marker.inclusiveLeft&&Ta(b,e,h)))return!0}function Ta(b,e,a){if(null==
a.to)return e=a.marker.find(1,!0),Ta(b,e.line,Aa(e.line.markedSpans,a.marker));if(a.marker.inclusiveRight&&a.to==e.text.length)return!0;for(var h,q=0;q<e.markedSpans.length;++q)if(h=e.markedSpans[q],h.marker.collapsed&&!h.marker.widgetNode&&h.from==a.to&&(null==h.to||h.to!=a.from)&&(h.marker.inclusiveLeft||a.marker.inclusiveRight)&&Ta(b,e,h))return!0}function qa(b){b=Ba(b);for(var e=0,a=b.parent,h=0;h<a.lines.length;++h){var v=a.lines[h];if(v==b)break;else e+=v.height}for(b=a.parent;b;a=b,b=a.parent)for(h=
0;h<b.children.length&&(v=b.children[h],v!=a);++h)e+=v.height;return e}function Ua(b){if(0==b.height)return 0;for(var e=b.text.length,a,h=b;a=Ma(h,!0);)a=a.find(0,!0),h=a.from.line,e+=a.from.ch-a.to.ch;for(h=b;a=Ma(h,!1);)b=a.find(0,!0),e-=h.text.length-b.from.ch,h=b.to.line,e+=h.text.length-b.to.ch;return e}function bb(b){var e=b.display;b=b.doc;e.maxLine=F(b,b.first);e.maxLineLength=Ua(e.maxLine);e.maxLineChanged=!0;b.iter(function(b){var a=Ua(b);a>e.maxLineLength&&(e.maxLineLength=a,e.maxLine=
b)})}function ha(b,e,a,h){if(!b)return h(e,a,"ltr",0);for(var q=!1,c=0;c<b.length;++c){var d=b[c];if(d.from<a&&d.to>e||e==a&&d.to==e)h(Math.max(d.from,e),Math.min(d.to,a),1==d.level?"rtl":"ltr",c),q=!0}q||h(e,a,"ltr")}function ab(b,e,a){var h;qc=null;for(var q=0;q<b.length;++q){var c=b[q];if(c.from<e&&c.to>e)return q;c.to==e&&(c.from!=c.to&&"before"==a?h=q:qc=q);c.from==e&&(c.from!=c.to&&"before"!=a?h=q:qc=q)}return null!=h?h:qc}function Ga(b,e){var a=b.order;null==a&&(a=b.order=og(b.text,e));return a}
function ca(b,e,a){if(b.removeEventListener)b.removeEventListener(e,a,!1);else if(b.detachEvent)b.detachEvent("on"+e,a);else{var h=(b=b._handlers)&&b[e];h&&(a=c(h,a),-1<a&&(b[e]=h.slice(0,a).concat(h.slice(a+1))))}}function T(b,e){var a=b._handlers&&b._handlers[e]||gd;if(a.length)for(var h=Array.prototype.slice.call(arguments,2),v=0;v<a.length;++v)a[v].apply(null,h)}function Z(b,e,a){"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}});T(b,a||e.type,b,e);return Wb(e)||
e.codemirrorIgnore}function rc(b){var e=b._handlers&&b._handlers.cursorActivity;if(e){b=b.curOp.cursorActivityHandlers||(b.curOp.cursorActivityHandlers=[]);for(var a=0;a<e.length;++a)-1==c(b,e[a])&&b.push(e[a])}}function Oa(b,e){return 0<(b._handlers&&b._handlers[e]||gd).length}function Va(b){b.prototype.on=function(b,a){K(this,b,a)};b.prototype.off=function(b,a){ca(this,b,a)}}function da(b){b.preventDefault?b.preventDefault():b.returnValue=!1}function pb(b){b.stopPropagation?b.stopPropagation():
b.cancelBubble=!0}function Wb(b){return null!=b.defaultPrevented?b.defaultPrevented:0==b.returnValue}function Wa(b){da(b);pb(b)}function Fb(b){var e=b.which;null==e&&(b.button&1?e=1:b.button&2?e=3:b.button&4&&(e=2));cb&&b.ctrlKey&&1==e&&(e=3);return e}function hd(b){if(null==Id){var e=r("span","\u200b");y(b,r("span",[e,document.createTextNode("x")]));0!=b.firstChild.offsetHeight&&(Id=1>=e.offsetWidth&&2<e.offsetHeight&&!(W&&8>fa))}b=Id?r("span","\u200b"):r("span","\u00a0",null,"display: inline-block; width: 1px; margin-right: -1px");
b.setAttribute("cm-text","");return b}function Xb(b,e){2<arguments.length&&(e.dependencies=Array.prototype.slice.call(arguments,2));Jd[b]=e}function Pa(b){if("string"==typeof b&&Yb.hasOwnProperty(b))b=Yb[b];else if(b&&"string"==typeof b.name&&Yb.hasOwnProperty(b.name)){var e=Yb[b.name];"string"==typeof e&&(e={name:e});b=B(e,b);b.name=e.name}else{if("string"==typeof b&&/^[\w\-]+\/[\w\-]+\+xml$/.test(b))return Pa("application/xml");if("string"==typeof b&&/^[\w\-]+\/[\w\-]+\+json$/.test(b))return Pa("application/json")}return"string"==
typeof b?{name:b}:b||{name:"null"}}function yb(b,e){e=Pa(e);var a=Jd[e.name];if(!a)return yb(b,"text/plain");b=a(b,e);if(Zb.hasOwnProperty(e.name)){a=Zb[e.name];for(var h in a)a.hasOwnProperty(h)&&(b.hasOwnProperty(h)&&(b["_"+h]=b[h]),b[h]=a[h])}b.name=e.name;e.helperType&&(b.helperType=e.helperType);if(e.modeProps)for(var v in e.modeProps)b[v]=e.modeProps[v];return b}function Kd(b,e){b=Zb.hasOwnProperty(b)?Zb[b]:Zb[b]={};g(e,b)}function ib(b,e){if(!0===e)return e;if(b.copyState)return b.copyState(e);
b={};for(var a in e){var h=e[a];h instanceof Array&&(h=h.concat([]));b[a]=h}return b}function sc(b,e){for(var a;b.innerMode;){a=b.innerMode(e);if(!a||a.mode==b)break;e=a.state;b=a.mode}return a||{mode:b,state:e}}function Gb(b,e,a){return b.startState?b.startState(e,a):!0}function tc(b,e,a,h){var q=[b.state.modeGen],c={};uc(b,e.text,b.doc.mode,a,function(b,e){return q.push(b,e)},c,h);var d=a.state;h=function(h){a.baseTokens=q;var v=b.state.overlays[h],I=1,f=0;a.state=!0;uc(b,e.text,v.mode,a,function(b,
e){for(var a=I;f<b;){var h=q[I];h>b&&q.splice(I,1,b,q[I+1],h);I+=2;f=Math.min(b,h)}if(e)if(v.opaque)q.splice(a,I-a,b,"overlay "+e),I=a+2;else for(;a<I;a+=2)b=q[a+1],q[a+1]=(b?b+" ":"")+"overlay "+e},c);a.state=d;a.baseTokens=null;a.baseTokenPos=1};for(var f=0;f<b.state.overlays.length;++f)h(f);return{styles:q,classes:c.bgClass||c.textClass?c:null}}function id(b,e,a){if(!e.styles||e.styles[0]!=b.state.modeGen){var h=qb(b,N(e)),q=e.text.length>b.options.maxHighlightLength&&ib(b.doc.mode,h.state),c=
tc(b,e,h);q&&(h.state=q);e.stateAfter=h.save(!q);e.styles=c.styles;c.classes?e.styleClasses=c.classes:e.styleClasses&&(e.styleClasses=null);a===b.doc.highlightFrontier&&(b.doc.modeFrontier=Math.max(b.doc.modeFrontier,++b.doc.highlightFrontier))}return e.styles}function qb(b,e,a){var h=b.doc,q=b.display;if(!h.mode.startState)return new jb(h,!0,e);var c=$b(b,e,a),d=c>h.first&&F(h,c-1).stateAfter,f=d?jb.fromSaved(h,d,c):new jb(h,Gb(h.mode),c);h.iter(c,e,function(a){vc(b,a.text,f);var h=f.line;a.stateAfter=
h==e-1||0==h%5||h>=q.viewFrom&&h<q.viewTo?f.save():null;f.nextLine()});a&&(h.modeFrontier=f.line);return f}function vc(b,e,a,h){var q=b.doc.mode;b=new pa(e,b.options.tabSize,a);b.start=b.pos=h||0;for(""==e&&wc(q,a.state);!b.eol();)xc(q,b,a.state),b.start=b.pos}function wc(b,e){if(b.blankLine)return b.blankLine(e);if(b.innerMode&&(b=sc(b,e),b.mode.blankLine))return b.mode.blankLine(b.state)}function xc(b,e,a,h){for(var q=0;10>q;q++){h&&(h[0]=sc(b,a).mode);var c=b.token(e,a);if(e.pos>e.start)return c}throw Error("Mode "+
b.name+" failed to advance stream.");}function yc(b,e,a,h){var q=b.doc,c=q.mode;e=M(q,e);var d=F(q,e.line);a=qb(b,e.line,a);b=new pa(d.text,b.options.tabSize,a);var f;for(h&&(f=[]);(h||b.pos<e.ch)&&!b.eol();){b.start=b.pos;var S=xc(c,b,a.state);h&&f.push(new Ae(b,S,ib(q.mode,a.state)))}return h?f:new Ae(b,S,a.state)}function rb(b,e){if(b)for(;;){var a=b.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!a)break;b=b.slice(0,a.index)+b.slice(a.index+a[0].length);var h=a[1]?"bgClass":"textClass";null==e[h]?
e[h]=a[2]:(new RegExp("(?:^|s)"+a[2]+"(?:$|s)")).test(e[h])||(e[h]+=" "+a[2])}return b}function uc(b,e,a,h,v,c,d){var q=a.flattenSpans;null==q&&(q=b.options.flattenSpans);var I=0,f=null,R=new pa(e,b.options.tabSize,h),m=b.options.addModeClass&&[null];for(""==e&&rb(wc(a,h.state),c);!R.eol();){if(R.pos>b.options.maxHighlightLength){q=!1;d&&vc(b,e,h,R.pos);R.pos=e.length;var g=null}else g=rb(xc(a,R,h.state,m),c);if(m){var l=m[0].name;l&&(g="m-"+(g?l+" "+g:l))}if(!q||f!=g){for(;I<R.start;)I=Math.min(R.start,
I+5E3),v(I,f);f=g}R.start=R.pos}for(;I<R.pos;)b=Math.min(R.pos,I+5E3),v(b,f),I=b}function $b(b,e,q){for(var h,v,c=b.doc,d=q?-1:e-(b.doc.mode.innerMode?1E3:100);e>d;--e){if(e<=c.first)return c.first;var f=F(c,e-1),m=f.stateAfter;if(m&&(!q||e+(m instanceof jd?m.lookAhead:0)<=c.modeFrontier))return e;f=a(f.text,null,b.options.tabSize);if(null==v||h>f)v=e-1,h=f}return v}function sb(b,e){b.modeFrontier=Math.min(b.modeFrontier,e);if(!(b.highlightFrontier<e-10)){for(var a=b.first,h=e-1;h>a;h--){var v=F(b,
h).stateAfter;if(v&&(!(v instanceof jd)||h+v.lookAhead<e)){a=h+1;break}}b.highlightFrontier=Math.min(b.highlightFrontier,a)}}function Y(b,e){if(!b||/^\s*$/.test(b))return null;e=e.addModeClass?pg:qg;return e[b]||(e[b]=b.replace(/\S+/g,"cm-$&"))}function ac(b,e){var a=p("span",null,null,za?"padding-right: .1px":null);a={pre:p("pre",[a],"CodeMirror-line"),content:a,col:0,pos:0,cm:b,trailingSpace:!1,splitSpaces:(W||za)&&b.getOption("lineWrapping")};e.measure={};for(var h=0;h<=(e.rest?e.rest.length:0);h++){var v=
h?e.rest[h-1]:e.line,c=void 0;a.pos=0;a.addToken=kd;var d=b.display.measure;if(null!=Ld)d=Ld;else{var f=y(d,document.createTextNode("A\u062eA")),m=zc(f,0,1).getBoundingClientRect();f=zc(f,1,2).getBoundingClientRect();t(d);d=m&&m.left!=m.right?Ld=3>f.right-m.right:!1}d&&(c=Ga(v,b.doc.direction))&&(a.addToken=Md(a.addToken,c));a.map=[];var g=e!=b.display.externalMeasured&&N(v);a:{var x=f=m=d=void 0,n=void 0,w=void 0,k=void 0;c=a;g=id(b,v,g);var A=v.markedSpans,u=v.text,G=0;if(A)for(var kb=u.length,
r=0,L=1,Z="",B=0;;){if(B==r){n=x=f=m=w="";d=null;B=Infinity;for(var z=[],O=void 0,E=0;E<A.length;++E){var ja=A[E],Q=ja.marker;"bookmark"==Q.type&&ja.from==r&&Q.widgetNode?z.push(Q):ja.from<=r&&(null==ja.to||ja.to>r||Q.collapsed&&ja.to==r&&ja.from==r)?(null!=ja.to&&ja.to!=r&&B>ja.to&&(B=ja.to,x=""),Q.className&&(n+=" "+Q.className),Q.css&&(w=(w?w+";":"")+Q.css),Q.startStyle&&ja.from==r&&(f+=" "+Q.startStyle),Q.endStyle&&ja.to==B&&(O||(O=[])).push(Q.endStyle,ja.to),Q.title&&!m&&(m=Q.title),Q.collapsed&&
(!d||0>na(d.marker,Q))&&(d=ja)):ja.from>r&&B>ja.from&&(B=ja.from)}if(O)for(E=0;E<O.length;E+=2)O[E+1]==B&&(x+=" "+O[E]);if(!d||d.from==r)for(O=0;O<z.length;++O)zb(c,0,z[O]);if(d&&(d.from||0)==r){zb(c,(null==d.to?kb+1:d.to)-r,d.marker,null==d.from);if(null==d.to)break a;d.to==r&&(d=!1)}}if(r>=kb)break;for(z=Math.min(kb,B);;){if(Z){O=r+Z.length;d||(E=O>z?Z.slice(0,z-r):Z,c.addToken(c,E,k?k+n:n,f,r+E.length==B?x:"",m,w));if(O>=z){Z=Z.slice(z-r);r=z;break}r=O;f=""}Z=u.slice(G,G=g[L++]);k=Y(g[L++],c.cm.options)}}else for(d=
1;d<g.length;d+=2)c.addToken(c,u.slice(G,G=g[d]),Y(g[d+1],c.cm.options))}v.styleClasses&&(v.styleClasses.bgClass&&(a.bgClass=l(v.styleClasses.bgClass,a.bgClass||"")),v.styleClasses.textClass&&(a.textClass=l(v.styleClasses.textClass,a.textClass||"")));0==a.map.length&&a.map.push(0,0,a.content.appendChild(hd(b.display.measure)));0==h?(e.measure.map=a.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(a.map),(e.measure.caches||(e.measure.caches=[])).push({}))}za&&(h=a.content.lastChild,
/\bcm-tab\b/.test(h.className)||h.querySelector&&h.querySelector(".cm-tab"))&&(a.content.className="cm-tab-wrap-hack");T(b,"renderLine",b,e.line,a.pre);a.pre.className&&(a.textClass=l(a.pre.className,a.textClass||""));return a}function ld(b){var e=r("span","\u2022","cm-invalidchar");e.title="\\u"+b.charCodeAt(0).toString(16);e.setAttribute("aria-label",e.title);return e}function kd(b,e,a,h,v,c,d){if(e){if(b.splitSpaces){var q=b.trailingSpace;if(1<e.length&&!/  /.test(e))q=e;else{for(var f="",I=0;I<
e.length;I++){var R=e.charAt(I);" "!=R||!q||I!=e.length-1&&32!=e.charCodeAt(I+1)||(R="\u00a0");f+=R;q=" "==R}q=f}}else q=e;f=q;I=b.cm.state.specialChars;R=!1;if(I.test(e)){q=document.createDocumentFragment();for(var g=0;;){I.lastIndex=g;var l=I.exec(e),x=l?l.index-g:e.length-g;if(x){var p=document.createTextNode(f.slice(g,g+x));W&&9>fa?q.appendChild(r("span",[p])):q.appendChild(p);b.map.push(b.pos,b.pos+x,p);b.col+=x;b.pos+=x}if(!l)break;g+=x+1;"\t"==l[0]?(l=b.cm.options.tabSize,l-=b.col%l,x=q.appendChild(r("span",
m(l),"cm-tab")),x.setAttribute("role","presentation"),x.setAttribute("cm-text","\t"),b.col+=l):("\r"==l[0]||"\n"==l[0]?(x=q.appendChild(r("span","\r"==l[0]?"\u240d":"\u2424","cm-invalidchar")),x.setAttribute("cm-text",l[0])):(x=b.cm.options.specialCharPlaceholder(l[0]),x.setAttribute("cm-text",l[0]),W&&9>fa?q.appendChild(r("span",[x])):q.appendChild(x)),b.col+=1);b.map.push(b.pos,b.pos+1,x);b.pos++}}else b.col+=e.length,q=document.createTextNode(f),b.map.push(b.pos,b.pos+e.length,q),W&&9>fa&&(R=!0),
b.pos+=e.length;b.trailingSpace=32==f.charCodeAt(e.length-1);if(a||h||v||R||d)return e=a||"",h&&(e+=h),v&&(e+=v),h=r("span",[q],e,d),c&&(h.title=c),b.content.appendChild(h);b.content.appendChild(q)}}function Md(b,e){return function(a,h,v,c,d,f,m){v=v?v+" cm-force-border":"cm-force-border";for(var q=a.pos,I=q+h.length;;){for(var R=void 0,Sa=0;Sa<e.length&&!(R=e[Sa],R.to>q&&R.from<=q);Sa++);if(R.to>=I)return b(a,h,v,c,d,f,m);b(a,h.slice(0,R.to-q),v,c,null,f,m);c=null;h=h.slice(R.to-q);q=R.to}}}function zb(b,
e,a,h){var q=!h&&a.widgetNode;q&&b.map.push(b.pos,b.pos+e,q);!h&&b.cm.display.input.needsContentAttribute&&(q||(q=b.content.appendChild(document.createElement("span"))),q.setAttribute("cm-marker",a.id));q&&(b.cm.display.input.setUneditable(q),b.content.appendChild(q));b.pos+=e;b.trailingSpace=!1}function Hb(b,e,a){for(var h=this.line=e,q;h=Ma(h,!1);)h=h.find(1,!0).line,(q||(q=[])).push(h);this.size=(this.rest=q)?N(L(this.rest))-a+1:1;this.node=this.text=null;this.hidden=oa(b,e)}function bc(b,e,a){var h=
[],q;for(q=e;q<a;)e=new Hb(b.doc,F(b.doc,q),q),q+=e.size,h.push(e);return h}function D(b,e){if(b=b.ownsGroup)try{var a=b.delayedCallbacks,h=0;do{for(;h<a.length;h++)a[h].call(null);for(var v=0;v<b.ops.length;v++){var c=b.ops[v];if(c.cursorActivityHandlers)for(;c.cursorActivityCalled<c.cursorActivityHandlers.length;)c.cursorActivityHandlers[c.cursorActivityCalled++].call(null,c.cm)}}while(h<a.length)}finally{cc=null,e(b)}}function ra(b,e){var a=b._handlers&&b._handlers[e]||gd;if(a.length){var h=Array.prototype.slice.call(arguments,
2);if(cc)var v=cc.delayedCallbacks;else Ac?v=Ac:(v=Ac=[],setTimeout(x,0));for(var c=function(b){v.push(function(){return a[b].apply(null,h)})},d=0;d<a.length;++d)c(d)}}function x(){var b=Ac;Ac=null;for(var e=0;e<b.length;++e)b[e]()}function kb(b,e,a,h){for(var q=0;q<e.changes.length;q++){var c=e.changes[q];if("text"==c){c=b;var d=e,f=d.text.className,m=Be(c,d);d.text==d.node&&(d.node=m.pre);d.text.parentNode.replaceChild(m.pre,d.text);d.text=m.pre;m.bgClass!=d.bgClass||m.textClass!=d.textClass?(d.bgClass=
m.bgClass,d.textClass=m.textClass,Nd(c,d)):f&&(d.text.className=f)}else if("gutter"==c)Ce(b,e,a,h);else if("class"==c)Nd(b,e);else if("widget"==c){c=b;d=e;f=h;d.alignable&&(d.alignable=null);m=d.node.firstChild;for(var g;m;m=g)g=m.nextSibling,"CodeMirror-linewidget"==m.className&&d.node.removeChild(m);De(c,d,f)}}e.changes=null}function ja(b){b.node==b.text&&(b.node=r("div",null,null,"position: relative"),b.text.parentNode&&b.text.parentNode.replaceChild(b.node,b.text),b.node.appendChild(b.text),W&&
8>fa&&(b.node.style.zIndex=2));return b.node}function Be(b,e){var a=b.display.externalMeasured;return a&&a.line==e.line?(b.display.externalMeasured=null,e.measure=a.measure,a.built):ac(b,e)}function Nd(b,e){var a=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;a&&(a+=" CodeMirror-linebackground");if(e.background)a?e.background.className=a:(e.background.parentNode.removeChild(e.background),e.background=null);else if(a){var h=ja(e);e.background=h.insertBefore(r("div",null,a),h.firstChild);
b.display.input.setUneditable(e.background)}e.line.wrapClass?ja(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");e.text.className=(e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass)||""}function Ce(b,e,a,h){e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null);e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null);if(e.line.gutterClass){var q=ja(e);e.gutterBackground=r("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,
"left: "+(b.options.fixedGutter?h.fixedPos:-h.gutterTotalWidth)+"px; width: "+h.gutterTotalWidth+"px");b.display.input.setUneditable(e.gutterBackground);q.insertBefore(e.gutterBackground,e.text)}q=e.line.gutterMarkers;if(b.options.lineNumbers||q){var c=ja(e),d=e.gutter=r("div",null,"CodeMirror-gutter-wrapper","left: "+(b.options.fixedGutter?h.fixedPos:-h.gutterTotalWidth)+"px");b.display.input.setUneditable(d);c.insertBefore(d,e.text);e.line.gutterClass&&(d.className+=" "+e.line.gutterClass);!b.options.lineNumbers||
q&&q["CodeMirror-linenumbers"]||(e.lineNumber=d.appendChild(r("div",Ja(b.options,a),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+h.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+b.display.lineNumInnerWidth+"px")));if(q)for(e=0;e<b.options.gutters.length;++e)a=b.options.gutters[e],(c=q.hasOwnProperty(a)&&q[a])&&d.appendChild(r("div",[c],"CodeMirror-gutter-elt","left: "+h.gutterLeft[a]+"px; width: "+h.gutterWidth[a]+"px"))}}function rg(b,e,a,h){var q=Be(b,e);e.text=e.node=q.pre;q.bgClass&&
(e.bgClass=q.bgClass);q.textClass&&(e.textClass=q.textClass);Nd(b,e);Ce(b,e,a,h);De(b,e,h);return e.node}function De(b,e,a){Ee(b,e.line,e,a,!0);if(e.rest)for(var h=0;h<e.rest.length;h++)Ee(b,e.rest[h],e,a,!1)}function Ee(b,e,a,h,v){if(e.widgets){var q=ja(a),c=0;for(e=e.widgets;c<e.length;++c){var d=e[c],f=r("div",[d.node],"CodeMirror-linewidget");d.handleMouseEvents||f.setAttribute("cm-ignore-events","true");var m=d,g=f,l=h;if(m.noHScroll){(a.alignable||(a.alignable=[])).push(g);var x=l.wrapperWidth;
g.style.left=l.fixedPos+"px";m.coverGutter||(x-=l.gutterTotalWidth,g.style.paddingLeft=l.gutterTotalWidth+"px");g.style.width=x+"px"}m.coverGutter&&(g.style.zIndex=5,g.style.position="relative",m.noHScroll||(g.style.marginLeft=-l.gutterTotalWidth+"px"));b.display.input.setUneditable(f);v&&d.above?q.insertBefore(f,a.gutter||a.text):q.appendChild(f);ra(d,"redraw")}}}function Bc(b){if(null!=b.height)return b.height;var e=b.doc.cm;if(!e)return 0;if(!n(document.body,b.node)){var a="position: relative;";
b.coverGutter&&(a+="margin-left: -"+e.display.gutters.offsetWidth+"px;");b.noHScroll&&(a+="width: "+e.display.wrapper.clientWidth+"px;");y(e.display.measure,r("div",[b.node],null,a))}return b.height=b.node.parentNode.offsetHeight}function tb(b,e){for(e=e.target||e.srcElement;e!=b.wrapper;e=e.parentNode)if(!e||1==e.nodeType&&"true"==e.getAttribute("cm-ignore-events")||e.parentNode==b.sizer&&e!=b.mover)return!0}function Od(b){return b.mover.offsetHeight-b.lineSpace.offsetHeight}function Fe(b){if(b.cachedPaddingH)return b.cachedPaddingH;
var e=y(b.measure,r("pre","x"));e=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle;e={left:parseInt(e.paddingLeft),right:parseInt(e.paddingRight)};isNaN(e.left)||isNaN(e.right)||(b.cachedPaddingH=e);return e}function lb(b){return 30-b.display.nativeBarWidth}function Ib(b){return b.display.scroller.clientWidth-lb(b)-b.display.barWidth}function Pd(b){return b.display.scroller.clientHeight-lb(b)-b.display.barHeight}function Ge(b,e,a){if(b.line==e)return{map:b.measure.map,cache:b.measure.cache};
for(var h=0;h<b.rest.length;h++)if(b.rest[h]==e)return{map:b.measure.maps[h],cache:b.measure.caches[h]};for(e=0;e<b.rest.length;e++)if(N(b.rest[e])>a)return{map:b.measure.maps[e],cache:b.measure.caches[e],before:!0}}function Qd(b,e){if(e>=b.display.viewFrom&&e<b.display.viewTo)return b.display.view[Jb(b,e)];if((b=b.display.externalMeasured)&&e>=b.lineN&&e<b.lineN+b.size)return b}function Kb(b,e){var a=N(e),h=Qd(b,a);h&&!h.text?h=null:h&&h.changes&&(kb(b,h,a,Rd(b)),b.curOp.forceUpdate=!0);if(!h){var v=
Ba(e);h=N(v);v=b.display.externalMeasured=new Hb(b.doc,v,h);v.lineN=h;h=v.built=ac(b,v);v.text=h.pre;y(b.display.lineMeasure,h.pre);h=v}b=Ge(h,e,a);return{line:e,view:h,rect:null,map:b.map,cache:b.cache,before:b.before,hasHeights:!1}}function db(b,e,a,h,v){e.before&&(a=-1);var q=a+(h||"");if(e.cache.hasOwnProperty(q))b=e.cache[q];else{e.rect||(e.rect=e.view.text.getBoundingClientRect());if(!e.hasHeights){var c=e.view,f=e.rect,m=b.options.lineWrapping,g=m&&Ib(b);if(!c.measure.heights||m&&c.measure.width!=
g){var l=c.measure.heights=[];if(m)for(c.measure.width=g,c=c.text.firstChild.getClientRects(),m=0;m<c.length-1;m++){g=c[m];var x=c[m+1];2<Math.abs(g.bottom-x.bottom)&&l.push((g.bottom+x.top)/2-f.top)}l.push(f.bottom-f.top)}e.hasHeights=!0}l=h;c=He(e.map,a,l);h=c.node;f=c.start;m=c.end;a=c.collapse;if(3==h.nodeType){for(var p=0;4>p;p++){for(;f&&d(e.line.text.charAt(c.coverStart+f));)--f;for(;c.coverStart+m<c.coverEnd&&d(e.line.text.charAt(c.coverStart+m));)++m;if(W&&9>fa&&0==f&&m==c.coverEnd-c.coverStart)var n=
h.parentNode.getBoundingClientRect();else{n=zc(h,f,m).getClientRects();m=Ie;if("left"==l)for(g=0;g<n.length&&(m=n[g]).left==m.right;g++);else for(g=n.length-1;0<=g&&(m=n[g]).left==m.right;g--);n=m}if(n.left||n.right||0==f)break;m=f;--f;a="right"}W&&11>fa&&((p=!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI)||(null!=Sd?p=Sd:(l=y(b.display.measure,r("span","x")),p=l.getBoundingClientRect(),l=zc(l,0,1).getBoundingClientRect(),p=Sd=1<Math.abs(p.left-l.left)),p=!p),p||(p=
screen.logicalXDPI/screen.deviceXDPI,l=screen.logicalYDPI/screen.deviceYDPI,n={left:n.left*p,right:n.right*p,top:n.top*l,bottom:n.bottom*l}))}else 0<f&&(a=l="right"),n=b.options.lineWrapping&&1<(p=h.getClientRects()).length?p["right"==l?p.length-1:0]:h.getBoundingClientRect();!(W&&9>fa)||f||n&&(n.left||n.right)||(n=(n=h.parentNode.getClientRects()[0])?{left:n.left,right:n.left+Cc(b.display),top:n.top,bottom:n.bottom}:Ie);h=n.top-e.rect.top;f=n.bottom-e.rect.top;p=(h+f)/2;l=e.view.measure.heights;
for(c=0;c<l.length-1&&!(p<l[c]);c++);a={left:("right"==a?n.right:n.left)-e.rect.left,right:("left"==a?n.left:n.right)-e.rect.left,top:c?l[c-1]:0,bottom:l[c]};n.left||n.right||(a.bogus=!0);b.options.singleCursorHeightPerLine||(a.rtop=h,a.rbottom=f);b=a;b.bogus||(e.cache[q]=b)}return{left:b.left,right:b.right,top:v?b.rtop:b.top,bottom:v?b.rbottom:b.bottom}}function He(b,e,a){for(var h,q,c,d,f,m,g=0;g<b.length;g+=3){f=b[g];m=b[g+1];if(e<f)q=0,c=1,d="left";else if(e<m)q=e-f,c=q+1;else if(g==b.length-
3||e==m&&b[g+3]>e)c=m-f,q=c-1,e>=m&&(d="right");if(null!=q){h=b[g+2];f==m&&a==(h.insertLeft?"left":"right")&&(d=a);if("left"==a&&0==q)for(;g&&b[g-2]==b[g-3]&&b[g-1].insertLeft;)h=b[(g-=3)+2],d="left";if("right"==a&&q==m-f)for(;g<b.length-3&&b[g+3]==b[g+4]&&!b[g+5].insertLeft;)h=b[(g+=3)+2],d="right";break}}return{node:h,start:q,end:c,collapse:d,coverStart:f,coverEnd:m}}function Je(b){if(b.measure&&(b.measure.cache={},b.measure.heights=null,b.rest))for(var e=0;e<b.rest.length;e++)b.measure.caches[e]=
{}}function Ke(b){b.display.externalMeasure=null;t(b.display.lineMeasure);for(var e=0;e<b.display.view.length;e++)Je(b.display.view[e])}function Dc(b){Ke(b);b.display.cachedCharWidth=b.display.cachedTextHeight=b.display.cachedPaddingH=null;b.options.lineWrapping||(b.display.maxLineChanged=!0);b.display.lineNumChars=null}function Le(){return md&&nd?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}
function Me(){return md&&nd?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Td(b){var e=0;if(b.widgets)for(var a=0;a<b.widgets.length;++a)b.widgets[a].above&&(e+=Bc(b.widgets[a]));return e}function od(b,e,a,h,v){v||(v=Td(e),a.top+=v,a.bottom+=v);if("line"==h)return a;h||(h="local");e=qa(e);e="local"==h?e+b.display.lineSpace.offsetTop:e-b.display.viewOffset;if("page"==h||
"window"==h)b=b.display.lineSpace.getBoundingClientRect(),e+=b.top+("window"==h?0:Me()),h=b.left+("window"==h?0:Le()),a.left+=h,a.right+=h;a.top+=e;a.bottom+=e;return a}function Ne(b,e,a){if("div"==a)return e;var h=e.left;e=e.top;"page"==a?(h-=Le(),e-=Me()):"local"!=a&&a||(a=b.display.sizer.getBoundingClientRect(),h+=a.left,e+=a.top);b=b.display.lineSpace.getBoundingClientRect();return{left:h-b.left,top:e-b.top}}function Ud(b,e,a,h,v){h||(h=F(b.doc,e.line));var q=h;e=e.ch;h=db(b,Kb(b,h),e,v);return od(b,
q,h,a)}function eb(b,e,a,h,v,c){function q(e,q){e=db(b,v,e,q?"right":"left",c);q?e.left=e.right:e.right=e.left;return od(b,h,e,a)}function d(b,e,a){return q(a?b-1:b,1==f[e].level!=a)}h=h||F(b.doc,e.line);v||(v=Kb(b,h));var f=Ga(h,b.doc.direction),I=e.ch;e=e.sticky;I>=h.text.length?(I=h.text.length,e="before"):0>=I&&(I=0,e="after");if(!f)return q("before"==e?I-1:I,"before"==e);var m=ab(f,I,e),g=qc;m=d(I,m,"before"==e);null!=g&&(m.other=d(I,g,"before"!=e));return m}function Oe(b,e){var a=0;e=M(b.doc,
e);b.options.lineWrapping||(a=Cc(b.display)*e.ch);e=F(b.doc,e.line);b=qa(e)+b.display.lineSpace.offsetTop;return{left:a,right:a,top:b,bottom:b+e.height}}function Vd(b,e,a,h,v){b=C(b,e,a);b.xRel=v;h&&(b.outside=!0);return b}function Wd(b,e,a){var h=b.doc;a+=b.display.viewOffset;if(0>a)return Vd(h.first,0,null,!0,-1);var q=ma(h,a),c=h.first+h.size-1;if(q>c)return Vd(h.first+h.size-1,F(h,c).text.length,null,!0,1);0>e&&(e=0);for(h=F(h,q);;)if(q=sg(b,h,q,e,a),c=(h=Ma(h,!1))&&h.find(0,!0),h&&(q.ch>c.from.ch||
q.ch==c.from.ch&&0<q.xRel))q=N(h=c.to.line);else return q}function Pe(b,e,a,h){h-=Td(e);e=e.text.length;var q=U(function(e){return db(b,a,e-1).bottom<=h},e,0);e=U(function(e){return db(b,a,e).top>h},q,e);return{begin:q,end:e}}function Qe(b,e,a,h){a||(a=Kb(b,e));h=od(b,e,db(b,a,h),"line").top;return Pe(b,e,a,h)}function Xd(b,e,a,h){return b.bottom<=a?!1:b.top>a?!0:(h?b.left:b.right)>e}function sg(b,e,a,h,v){v-=qa(e);var q=Kb(b,e),c=Td(e),d=0,f=e.text.length,m=!0,g=Ga(e,b.doc.direction);g&&(g=(b.options.lineWrapping?
tg:ug)(b,e,a,q,g,h,v),d=(m=1!=g.level)?g.from:g.to-1,f=m?g.to:g.from-1);var l=null,x=null;g=U(function(e){var a=db(b,q,e);a.top+=c;a.bottom+=c;if(!Xd(a,h,v,!1))return!1;a.top<=v&&a.left<=h&&(l=e,x=a);return!0},d,f);var n=!1;x?(d=h-x.left<x.right-h,m=d==m,g=l+(m?0:1),m=m?"after":"before",d=d?x.left:x.right):(m||g!=f&&g!=d||g++,m=0==g?"after":g==e.text.length?"before":db(b,q,g-(m?1:0)).bottom+c<=v==m?"after":"before",n=eb(b,C(a,g,m),"line",e,q),d=n.left,n=v<n.top||v>=n.bottom);g=H(e.text,g,1);return Vd(a,
g,m,n,h-d)}function ug(b,e,a,h,v,c,d){var q=U(function(q){q=v[q];var f=1!=q.level;return Xd(eb(b,C(a,f?q.to:q.from,f?"before":"after"),"line",e,h),c,d,!0)},0,v.length-1),f=v[q];if(0<q){var I=1!=f.level;I=eb(b,C(a,I?f.from:f.to,I?"after":"before"),"line",e,h);Xd(I,c,d,!0)&&I.top>d&&(f=v[q-1])}return f}function tg(b,e,a,h,v,c,d){d=Pe(b,e,h,d);a=d.begin;d=d.end;/\s/.test(e.text.charAt(d-1))&&d--;for(var q=e=null,f=0;f<v.length;f++){var I=v[f];if(!(I.from>=d||I.to<=a)){var R=db(b,h,1!=I.level?Math.min(d,
I.to)-1:Math.max(a,I.from)).right;R=R<c?c-R+1E9:R-c;if(!e||q>R)e=I,q=R}}e||(e=v[v.length-1]);e.from<a&&(e={from:a,to:e.to,level:e.level});e.to>d&&(e={from:e.from,to:d,level:e.level});return e}function Lb(b){if(null!=b.cachedTextHeight)return b.cachedTextHeight;if(null==Mb){Mb=r("pre");for(var e=0;49>e;++e)Mb.appendChild(document.createTextNode("x")),Mb.appendChild(r("br"));Mb.appendChild(document.createTextNode("x"))}y(b.measure,Mb);e=Mb.offsetHeight/50;3<e&&(b.cachedTextHeight=e);t(b.measure);return e||
1}function Cc(b){if(null!=b.cachedCharWidth)return b.cachedCharWidth;var e=r("span","xxxxxxxxxx"),a=r("pre",[e]);y(b.measure,a);e=e.getBoundingClientRect();e=(e.right-e.left)/10;2<e&&(b.cachedCharWidth=e);return e||10}function Rd(b){for(var e=b.display,a={},h={},v=e.gutters.clientLeft,c=e.gutters.firstChild,d=0;c;c=c.nextSibling,++d)a[b.options.gutters[d]]=c.offsetLeft+c.clientLeft+v,h[b.options.gutters[d]]=c.clientWidth;return{fixedPos:Yd(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:a,gutterWidth:h,
wrapperWidth:e.wrapper.clientWidth}}function Yd(b){return b.scroller.getBoundingClientRect().left-b.sizer.getBoundingClientRect().left}function Re(b){var e=Lb(b.display),a=b.options.lineWrapping,h=a&&Math.max(5,b.display.scroller.clientWidth/Cc(b.display)-3);return function(q){if(oa(b.doc,q))return 0;var v=0;if(q.widgets)for(var c=0;c<q.widgets.length;c++)q.widgets[c].height&&(v+=q.widgets[c].height);return a?v+(Math.ceil(q.text.length/h)||1)*e:v+e}}function Zd(b){var e=b.doc,a=Re(b);e.iter(function(b){var e=
a(b);e!=b.height&&wa(b,e)})}function Nb(b,e,q,h){var v=b.display;if(!q&&"true"==(e.target||e.srcElement).getAttribute("cm-not-content"))return null;q=v.lineSpace.getBoundingClientRect();try{var c=e.clientX-q.left;var d=e.clientY-q.top}catch(S){return null}e=Wd(b,c,d);var f;h&&1==e.xRel&&(f=F(b.doc,e.line).text).length==e.ch&&(h=a(f,f.length,b.options.tabSize)-f.length,e=C(e.line,Math.max(0,Math.round((c-Fe(b.display).left)/Cc(b.display))-h)));return e}function Jb(b,e){if(e>=b.display.viewTo)return null;
e-=b.display.viewFrom;if(0>e)return null;b=b.display.view;for(var a=0;a<b.length;a++)if(e-=b[a].size,0>e)return a}function Ec(b){b.display.input.showSelection(b.display.input.prepareSelection())}function Se(b,e){void 0===e&&(e=!0);for(var a=b.doc,h={},v=h.cursors=document.createDocumentFragment(),c=h.selection=document.createDocumentFragment(),d=0;d<a.sel.ranges.length;d++)if(e||d!=a.sel.primIndex){var f=a.sel.ranges[d];if(!(f.from().line>=b.display.viewTo||f.to().line<b.display.viewFrom)){var m=
f.empty();(m||b.options.showCursorWhenSelecting)&&Te(b,f.head,v);m||vg(b,f,c)}}return h}function Te(b,e,a){e=eb(b,e,"div",null,null,!b.options.singleCursorHeightPerLine);var h=a.appendChild(r("div","\u00a0","CodeMirror-cursor"));h.style.left=e.left+"px";h.style.top=e.top+"px";h.style.height=Math.max(0,e.bottom-e.top)*b.options.cursorHeight+"px";e.other&&(b=a.appendChild(r("div","\u00a0","CodeMirror-cursor CodeMirror-secondarycursor")),b.style.display="",b.style.left=e.other.left+"px",b.style.top=
e.other.top+"px",b.style.height=.85*(e.other.bottom-e.other.top)+"px")}function pd(b,e){return b.top-e.top||b.left-e.left}function vg(b,e,a){function h(b,e,a,h){0>e&&(e=0);e=Math.round(e);h=Math.round(h);f.appendChild(r("div",null,"CodeMirror-selected","position: absolute; left: "+b+"px;\n                             top: "+e+"px; width: "+(null==a?l-b:a)+"px;\n                             height: "+(h-e)+"px"))}function q(e,a,q){function c(a,h){return Ud(b,C(e,a),"div",f,h)}function v(e,a,h){e=Qe(b,
f,null,e);a="ltr"==a==("after"==h)?"left":"right";h="after"==h?e.begin:e.end-(/\s/.test(f.text.charAt(e.end-1))?2:1);return c(h,a)[a]}var f=F(d,e),I=f.text.length,m,R,Sa=Ga(f,d.direction);ha(Sa,a||0,null==q?I:q,function(b,e,d,f){var n="ltr"==d,p=c(b,n?"left":"right"),S=c(e-1,n?"right":"left"),w=null==a&&0==b,k=null==q&&e==I,A=0==f;f=!Sa||f==Sa.length-1;3>=S.top-p.top?(e=(x?w:k)&&A?g:(n?p:S).left,h(e,p.top,((x?k:w)&&f?l:(n?S:p).right)-e,p.bottom)):(n?(n=x&&w&&A?g:p.left,w=x?l:v(b,d,"before"),b=x?g:
v(e,d,"after"),k=x&&k&&f?l:S.right):(n=x?v(b,d,"before"):g,w=!x&&w&&A?l:p.right,b=!x&&k&&f?g:S.left,k=x?v(e,d,"after"):l),h(n,p.top,w-n,p.bottom),p.bottom<S.top&&h(g,p.bottom,null,S.top),h(b,S.top,k-b,S.bottom));if(!m||0>pd(p,m))m=p;0>pd(S,m)&&(m=S);if(!R||0>pd(p,R))R=p;0>pd(S,R)&&(R=S)});return{start:m,end:R}}var c=b.display,d=b.doc,f=document.createDocumentFragment(),m=Fe(b.display),g=m.left,l=Math.max(c.sizerWidth,Ib(b)-c.sizer.offsetLeft)-m.right,x="ltr"==d.direction;c=e.from();e=e.to();if(c.line==
e.line)q(c.line,c.ch,e.ch);else{var n=F(d,c.line);m=F(d,e.line);m=Ba(n)==Ba(m);c=q(c.line,c.ch,m?n.text.length+1:null).end;e=q(e.line,m?0:null,e.ch).start;m&&(c.top<e.top-2?(h(c.right,c.top,null,c.bottom),h(g,e.top,e.left,e.bottom)):h(c.right,c.top,e.left-c.right,c.bottom));c.bottom<e.top&&h(g,c.bottom,null,e.top)}a.appendChild(f)}function $d(b){if(b.state.focused){var e=b.display;clearInterval(e.blinker);var a=!0;e.cursorDiv.style.visibility="";0<b.options.cursorBlinkRate?e.blinker=setInterval(function(){return e.cursorDiv.style.visibility=
(a=!a)?"":"hidden"},b.options.cursorBlinkRate):0>b.options.cursorBlinkRate&&(e.cursorDiv.style.visibility="hidden")}}function Ue(b){b.state.focused||(b.display.input.focus(),ae(b))}function Ve(b){b.state.delayingBlurEvent=!0;setTimeout(function(){b.state.delayingBlurEvent&&(b.state.delayingBlurEvent=!1,Fc(b))},100)}function ae(b,e){b.state.delayingBlurEvent&&(b.state.delayingBlurEvent=!1);"nocursor"!=b.options.readOnly&&(b.state.focused||(T(b,"focus",b,e),b.state.focused=!0,A(b.display.wrapper,"CodeMirror-focused"),
b.curOp||b.display.selForContextMenu==b.doc.sel||(b.display.input.reset(),za&&setTimeout(function(){return b.display.input.reset(!0)},20)),b.display.input.receivedFocus()),$d(b))}function Fc(b,e){b.state.delayingBlurEvent||(b.state.focused&&(T(b,"blur",b,e),b.state.focused=!1,Ob(b.display.wrapper,"CodeMirror-focused")),clearInterval(b.display.blinker),setTimeout(function(){b.state.focused||(b.display.shift=!1)},150))}function qd(b){b=b.display;for(var e=b.lineDiv.offsetTop,a=0;a<b.view.length;a++){var h=
b.view[a];if(!h.hidden){if(W&&8>fa){var c=h.node.offsetTop+h.node.offsetHeight;var d=c-e;e=c}else d=h.node.getBoundingClientRect(),d=d.bottom-d.top;c=h.line.height-d;2>d&&(d=Lb(b));if(.005<c||-.005>c)if(wa(h.line,d),We(h.line),h.rest)for(d=0;d<h.rest.length;d++)We(h.rest[d])}}}function We(b){if(b.widgets)for(var e=0;e<b.widgets.length;++e){var a=b.widgets[e],h=a.node.parentNode;h&&(a.height=h.offsetHeight)}}function be(b,e,a){var h=a&&null!=a.top?Math.max(0,a.top):b.scroller.scrollTop;h=Math.floor(h-
b.lineSpace.offsetTop);var q=a&&null!=a.bottom?a.bottom:h+b.wrapper.clientHeight;h=ma(e,h);q=ma(e,q);if(a&&a.ensure){var c=a.ensure.from.line;a=a.ensure.to.line;c<h?(h=c,q=ma(e,qa(F(e,c))+b.wrapper.clientHeight)):Math.min(a,e.lastLine())>=q&&(h=ma(e,qa(F(e,a))-b.wrapper.clientHeight),q=a)}return{from:h,to:Math.max(q,h+1)}}function Xe(b){var e=b.display,a=e.view;if(e.alignWidgets||e.gutters.firstChild&&b.options.fixedGutter){for(var h=Yd(e)-e.scroller.scrollLeft+b.doc.scrollLeft,c=e.gutters.offsetWidth,
d=h+"px",f=0;f<a.length;f++)if(!a[f].hidden){b.options.fixedGutter&&(a[f].gutter&&(a[f].gutter.style.left=d),a[f].gutterBackground&&(a[f].gutterBackground.style.left=d));var m=a[f].alignable;if(m)for(var g=0;g<m.length;g++)m[g].style.left=d}b.options.fixedGutter&&(e.gutters.style.left=h+c+"px")}}function Ye(b){if(!b.options.lineNumbers)return!1;var e=b.doc;e=Ja(b.options,e.first+e.size-1);var a=b.display;if(e.length!=a.lineNumChars){var h=a.measure.appendChild(r("div",[r("div",e)],"CodeMirror-linenumber CodeMirror-gutter-elt")),
c=h.firstChild.offsetWidth;h=h.offsetWidth-c;a.lineGutter.style.width="";a.lineNumInnerWidth=Math.max(c,a.lineGutter.offsetWidth-h)+1;a.lineNumWidth=a.lineNumInnerWidth+h;a.lineNumChars=a.lineNumInnerWidth?e.length:-1;a.lineGutter.style.width=a.lineNumWidth+"px";ce(b);return!0}return!1}function de(b,e){var a=b.display,h=Lb(b.display);0>e.top&&(e.top=0);var c=b.curOp&&null!=b.curOp.scrollTop?b.curOp.scrollTop:a.scroller.scrollTop,d=Pd(b),f={};e.bottom-e.top>d&&(e.bottom=e.top+d);var m=b.doc.height+
Od(a),g=e.top<h;h=e.bottom>m-h;e.top<c?f.scrollTop=g?0:e.top:e.bottom>c+d&&(d=Math.min(e.top,(h?m:e.bottom)-d),d!=c&&(f.scrollTop=d));c=b.curOp&&null!=b.curOp.scrollLeft?b.curOp.scrollLeft:a.scroller.scrollLeft;b=Ib(b)-(b.options.fixedGutter?a.gutters.offsetWidth:0);if(a=e.right-e.left>b)e.right=e.left+b;10>e.left?f.scrollLeft=0:e.left<c?f.scrollLeft=Math.max(0,e.left-(a?0:10)):e.right>b+c-3&&(f.scrollLeft=e.right+(a?0:10)-b);return f}function rd(b,e){null!=e&&(sd(b),b.curOp.scrollTop=(null==b.curOp.scrollTop?
b.doc.scrollTop:b.curOp.scrollTop)+e)}function dc(b){sd(b);var e=b.getCursor();b.curOp.scrollToPos={from:e,to:e,margin:b.options.cursorScrollMargin}}function Gc(b,e,a){null==e&&null==a||sd(b);null!=e&&(b.curOp.scrollLeft=e);null!=a&&(b.curOp.scrollTop=a)}function sd(b){var e=b.curOp.scrollToPos;if(e){b.curOp.scrollToPos=null;var a=Oe(b,e.from),h=Oe(b,e.to);Ze(b,a,h,e.margin)}}function Ze(b,e,a,h){e=de(b,{left:Math.min(e.left,a.left),top:Math.min(e.top,a.top)-h,right:Math.max(e.right,a.right),bottom:Math.max(e.bottom,
a.bottom)+h});Gc(b,e.scrollLeft,e.scrollTop)}function Hc(b,e){2>Math.abs(b.doc.scrollTop-e)||(vb||ee(b,{top:e}),$e(b,e,!0),vb&&ee(b),Ic(b,100))}function $e(b,e,a){e=Math.min(b.display.scroller.scrollHeight-b.display.scroller.clientHeight,e);if(b.display.scroller.scrollTop!=e||a)b.doc.scrollTop=e,b.display.scrollbars.setScrollTop(e),b.display.scroller.scrollTop!=e&&(b.display.scroller.scrollTop=e)}function Pb(b,e,a,h){e=Math.min(e,b.display.scroller.scrollWidth-b.display.scroller.clientWidth);(a?e==
b.doc.scrollLeft:2>Math.abs(b.doc.scrollLeft-e))&&!h||(b.doc.scrollLeft=e,Xe(b),b.display.scroller.scrollLeft!=e&&(b.display.scroller.scrollLeft=e),b.display.scrollbars.setScrollLeft(e))}function Jc(b){var e=b.display,a=e.gutters.offsetWidth,h=Math.round(b.doc.height+Od(b.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:b.options.fixedGutter?a:0,docHeight:h,
scrollHeight:h+lb(b)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:a}}function ec(b,e){e||(e=Jc(b));var a=b.display.barWidth,h=b.display.barHeight;af(b,e);for(e=0;4>e&&a!=b.display.barWidth||h!=b.display.barHeight;e++)a!=b.display.barWidth&&b.options.lineWrapping&&qd(b),af(b,Jc(b)),a=b.display.barWidth,h=b.display.barHeight}function af(b,e){var a=b.display,h=a.scrollbars.update(e);a.sizer.style.paddingRight=(a.barWidth=h.right)+"px";a.sizer.style.paddingBottom=(a.barHeight=h.bottom)+"px";
a.heightForcer.style.borderBottom=h.bottom+"px solid transparent";h.right&&h.bottom?(a.scrollbarFiller.style.display="block",a.scrollbarFiller.style.height=h.bottom+"px",a.scrollbarFiller.style.width=h.right+"px"):a.scrollbarFiller.style.display="";h.bottom&&b.options.coverGutterNextToScrollbar&&b.options.fixedGutter?(a.gutterFiller.style.display="block",a.gutterFiller.style.height=h.bottom+"px",a.gutterFiller.style.width=e.gutterWidth+"px"):a.gutterFiller.style.display=""}function bf(b){b.display.scrollbars&&
(b.display.scrollbars.clear(),b.display.scrollbars.addClass&&Ob(b.display.wrapper,b.display.scrollbars.addClass));b.display.scrollbars=new cf[b.options.scrollbarStyle](function(e){b.display.wrapper.insertBefore(e,b.display.scrollbarFiller);K(e,"mousedown",function(){b.state.focused&&setTimeout(function(){return b.display.input.focus()},0)});e.setAttribute("cm-not-content","true")},function(e,a){"horizontal"==a?Pb(b,e):Hc(b,e)},b);b.display.scrollbars.addClass&&A(b.display.wrapper,b.display.scrollbars.addClass)}
function Qb(b){b.curOp={cm:b,viewChanged:!1,startHeight:b.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++wg};b=b.curOp;cc?cc.ops.push(b):b.ownsGroup=cc={ops:[b],delayedCallbacks:[]}}function Rb(b){D(b.curOp,function(b){for(var e=0;e<b.ops.length;e++)b.ops[e].cm.curOp=null;b=b.ops;for(e=0;e<b.length;e++){var a=b[e],c=a.cm,d=c.display,
f=c.display;!f.scrollbarsClipped&&f.scroller.offsetWidth&&(f.nativeBarWidth=f.scroller.offsetWidth-f.scroller.clientWidth,f.heightForcer.style.height=lb(c)+"px",f.sizer.style.marginBottom=-f.nativeBarWidth+"px",f.sizer.style.borderRightWidth=lb(c)+"px",f.scrollbarsClipped=!0);a.updateMaxLine&&bb(c);a.mustUpdate=a.viewChanged||a.forceUpdate||null!=a.scrollTop||a.scrollToPos&&(a.scrollToPos.from.line<d.viewFrom||a.scrollToPos.to.line>=d.viewTo)||d.maxLineChanged&&c.options.lineWrapping;a.update=a.mustUpdate&&
new td(c,a.mustUpdate&&{top:a.scrollTop,ensure:a.scrollToPos},a.forceUpdate)}for(e=0;e<b.length;e++)a=b[e],a.updatedDisplay=a.mustUpdate&&fe(a.cm,a.update);for(e=0;e<b.length;e++)if(a=b[e],c=a.cm,d=c.display,a.updatedDisplay&&qd(c),a.barMeasure=Jc(c),d.maxLineChanged&&!c.options.lineWrapping&&(f=d.maxLine.text.length,f=db(c,Kb(c,d.maxLine),f,void 0),a.adjustWidthTo=f.left+3,c.display.sizerWidth=a.adjustWidthTo,a.barMeasure.scrollWidth=Math.max(d.scroller.clientWidth,d.sizer.offsetLeft+a.adjustWidthTo+
lb(c)+c.display.barWidth),a.maxScrollLeft=Math.max(0,d.sizer.offsetLeft+a.adjustWidthTo-Ib(c))),a.updatedDisplay||a.selectionChanged)a.preparedSelection=d.input.prepareSelection();for(e=0;e<b.length;e++)a=b[e],c=a.cm,null!=a.adjustWidthTo&&(c.display.sizer.style.minWidth=a.adjustWidthTo+"px",a.maxScrollLeft<c.doc.scrollLeft&&Pb(c,Math.min(c.display.scroller.scrollLeft,a.maxScrollLeft),!0),c.display.maxLineChanged=!1),d=a.focus&&a.focus==w(),a.preparedSelection&&c.display.input.showSelection(a.preparedSelection,
d),(a.updatedDisplay||a.startHeight!=c.doc.height)&&ec(c,a.barMeasure),a.updatedDisplay&&ge(c,a.barMeasure),a.selectionChanged&&$d(c),c.state.focused&&a.updateInput&&c.display.input.reset(a.typing),d&&Ue(a.cm);for(e=0;e<b.length;e++){var m=void 0;a=b[e];c=a.cm;d=c.display;f=c.doc;a.updatedDisplay&&df(c,a.update);null==d.wheelStartX||null==a.scrollTop&&null==a.scrollLeft&&!a.scrollToPos||(d.wheelStartX=d.wheelStartY=null);null!=a.scrollTop&&$e(c,a.scrollTop,a.forceScroll);null!=a.scrollLeft&&Pb(c,
a.scrollLeft,!0,!0);if(a.scrollToPos){var g=M(f,a.scrollToPos.from);var l=M(f,a.scrollToPos.to);var x=a.scrollToPos.margin;null==x&&(x=0);c.options.lineWrapping||g!=l||(g=g.ch?C(g.line,"before"==g.sticky?g.ch-1:g.ch,"after"):g,l="before"==g.sticky?C(g.line,g.ch+1,"before"):g);for(var n=0;5>n;n++){var p=!1;m=eb(c,g);var k=l&&l!=g?eb(c,l):m;m={left:Math.min(m.left,k.left),top:Math.min(m.top,k.top)-x,right:Math.max(m.left,k.left),bottom:Math.max(m.bottom,k.bottom)+x};k=de(c,m);var A=c.doc.scrollTop,
u=c.doc.scrollLeft;null!=k.scrollTop&&(Hc(c,k.scrollTop),1<Math.abs(c.doc.scrollTop-A)&&(p=!0));null!=k.scrollLeft&&(Pb(c,k.scrollLeft),1<Math.abs(c.doc.scrollLeft-u)&&(p=!0));if(!p)break}l=m;Z(c,"scrollCursorIntoView")||(x=c.display,n=x.sizer.getBoundingClientRect(),g=null,0>l.top+n.top?g=!0:l.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(g=!1),null==g||xg||(l=r("div","\u200b",null,"position: absolute;\n                         top: "+(l.top-x.viewOffset-c.display.lineSpace.offsetTop)+
"px;\n                         height: "+(l.bottom-l.top+lb(c)+x.barHeight)+"px;\n                         left: "+l.left+"px; width: "+Math.max(2,l.right-l.left)+"px;"),c.display.lineSpace.appendChild(l),l.scrollIntoView(g),c.display.lineSpace.removeChild(l)))}l=a.maybeHiddenMarkers;g=a.maybeUnhiddenMarkers;if(l)for(x=0;x<l.length;++x)l[x].lines.length||T(l[x],"hide");if(g)for(l=0;l<g.length;++l)g[l].lines.length&&T(g[l],"unhide");d.wrapper.offsetHeight&&(f.scrollTop=c.display.scroller.scrollTop);
a.changeObjs&&T(c,"changes",c,a.changeObjs);a.update&&a.update.finish()}})}function Qa(b,a){if(b.curOp)return a();Qb(b);try{return a()}finally{Rb(b)}}function ua(b,a){return function(){if(b.curOp)return a.apply(b,arguments);Qb(b);try{return a.apply(b,arguments)}finally{Rb(b)}}}function Ca(b){return function(){if(this.curOp)return b.apply(this,arguments);Qb(this);try{return b.apply(this,arguments)}finally{Rb(this)}}}function va(b){return function(){var a=this.cm;if(!a||a.curOp)return b.apply(this,
arguments);Qb(a);try{return b.apply(this,arguments)}finally{Rb(a)}}}function Ha(b,a,c,h){null==a&&(a=b.doc.first);null==c&&(c=b.doc.first+b.doc.size);h||(h=0);var e=b.display;h&&c<e.viewTo&&(null==e.updateLineNumbers||e.updateLineNumbers>a)&&(e.updateLineNumbers=a);b.curOp.viewChanged=!0;if(a>=e.viewTo)xb&&Na(b.doc,a)<e.viewTo&&Ab(b);else if(c<=e.viewFrom)xb&&Fa(b.doc,c+h)>e.viewFrom?Ab(b):(e.viewFrom+=h,e.viewTo+=h);else if(a<=e.viewFrom&&c>=e.viewTo)Ab(b);else if(a<=e.viewFrom){var d=ud(b,c,c+h,
1);d?(e.view=e.view.slice(d.index),e.viewFrom=d.lineN,e.viewTo+=h):Ab(b)}else if(c>=e.viewTo)(d=ud(b,a,a,-1))?(e.view=e.view.slice(0,d.index),e.viewTo=d.lineN):Ab(b);else{d=ud(b,a,a,-1);var q=ud(b,c,c+h,1);d&&q?(e.view=e.view.slice(0,d.index).concat(bc(b,d.lineN,q.lineN)).concat(e.view.slice(q.index)),e.viewTo+=h):Ab(b)}if(b=e.externalMeasured)c<b.lineN?b.lineN+=h:a<b.lineN+b.size&&(e.externalMeasured=null)}function Bb(b,a,d){b.curOp.viewChanged=!0;var e=b.display,q=b.display.externalMeasured;q&&
a>=q.lineN&&a<q.lineN+q.size&&(e.externalMeasured=null);a<e.viewFrom||a>=e.viewTo||(b=e.view[Jb(b,a)],null!=b.node&&(b=b.changes||(b.changes=[]),-1==c(b,d)&&b.push(d)))}function Ab(b){b.display.viewFrom=b.display.viewTo=b.doc.first;b.display.view=[];b.display.viewOffset=0}function ud(b,a,c,h){var e=Jb(b,a),d=b.display.view;if(!xb||c==b.doc.first+b.doc.size)return{index:e,lineN:c};for(var q=b.display.viewFrom,f=0;f<e;f++)q+=d[f].size;if(q!=a){if(0<h){if(e==d.length-1)return null;a=q+d[e].size-a;e++}else a=
q-a;c+=a}for(;Na(b.doc,c)!=c;){if(e==(0>h?0:d.length-1))return null;c+=h*d[e-(0>h?1:0)].size;e+=h}return{index:e,lineN:c}}function ef(b){b=b.display.view;for(var a=0,c=0;c<b.length;c++){var h=b[c];h.hidden||h.node&&!h.changes||++a}return a}function Ic(b,a){b.doc.highlightFrontier<b.display.viewTo&&b.state.highlight.set(a,G(yg,b))}function yg(b){var a=b.doc;if(!(a.highlightFrontier>=b.display.viewTo)){var c=+new Date+b.options.workTime,h=qb(b,a.highlightFrontier),d=[];a.iter(h.line,Math.min(a.first+
a.size,b.display.viewTo+500),function(e){if(h.line>=b.display.viewFrom){var q=e.styles,v=e.text.length>b.options.maxHighlightLength?ib(a.mode,h.state):null,f=tc(b,e,h,!0);v&&(h.state=v);e.styles=f.styles;v=e.styleClasses;(f=f.classes)?e.styleClasses=f:v&&(e.styleClasses=null);f=!q||q.length!=e.styles.length||v!=f&&(!v||!f||v.bgClass!=f.bgClass||v.textClass!=f.textClass);for(v=0;!f&&v<q.length;++v)f=q[v]!=e.styles[v];f&&d.push(h.line);e.stateAfter=h.save()}else e.text.length<=b.options.maxHighlightLength&&
vc(b,e.text,h),e.stateAfter=0==h.line%5?h.save():null;h.nextLine();if(+new Date>c)return Ic(b,b.options.workDelay),!0});a.highlightFrontier=h.line;a.modeFrontier=Math.max(a.modeFrontier,h.line);d.length&&Qa(b,function(){for(var a=0;a<d.length;a++)Bb(b,d[a],"text")})}}function fe(b,a){var e=b.display,h=b.doc;if(a.editorIsHidden)return Ab(b),!1;if(!a.force&&a.visible.from>=e.viewFrom&&a.visible.to<=e.viewTo&&(null==e.updateLineNumbers||e.updateLineNumbers>=e.viewTo)&&e.renderedView==e.view&&0==ef(b))return!1;
Ye(b)&&(Ab(b),a.dims=Rd(b));var c=h.first+h.size,d=Math.max(a.visible.from-b.options.viewportMargin,h.first),f=Math.min(c,a.visible.to+b.options.viewportMargin);e.viewFrom<d&&20>d-e.viewFrom&&(d=Math.max(h.first,e.viewFrom));e.viewTo>f&&20>e.viewTo-f&&(f=Math.min(c,e.viewTo));xb&&(d=Na(b.doc,d),f=Fa(b.doc,f));h=d!=e.viewFrom||f!=e.viewTo||e.lastWrapHeight!=a.wrapperHeight||e.lastWrapWidth!=a.wrapperWidth;c=b.display;0==c.view.length||d>=c.viewTo||f<=c.viewFrom?(c.view=bc(b,d,f),c.viewFrom=d):(c.viewFrom>
d?c.view=bc(b,d,c.viewFrom).concat(c.view):c.viewFrom<d&&(c.view=c.view.slice(Jb(b,d))),c.viewFrom=d,c.viewTo<f?c.view=c.view.concat(bc(b,c.viewTo,f)):c.viewTo>f&&(c.view=c.view.slice(0,Jb(b,f))));c.viewTo=f;e.viewOffset=qa(F(b.doc,e.viewFrom));b.display.mover.style.top=e.viewOffset+"px";f=ef(b);if(!h&&0==f&&!a.force&&e.renderedView==e.view&&(null==e.updateLineNumbers||e.updateLineNumbers>=e.viewTo))return!1;b.hasFocus()?d=null:(d=w())&&n(b.display.lineDiv,d)?(d={activeElt:d},window.getSelection&&
(c=window.getSelection(),c.anchorNode&&c.extend&&n(b.display.lineDiv,c.anchorNode)&&(d.anchorNode=c.anchorNode,d.anchorOffset=c.anchorOffset,d.focusNode=c.focusNode,d.focusOffset=c.focusOffset))):d=null;4<f&&(e.lineDiv.style.display="none");zg(b,e.updateLineNumbers,a.dims);4<f&&(e.lineDiv.style.display="");e.renderedView=e.view;(f=d)&&f.activeElt&&f.activeElt!=w()&&(f.activeElt.focus(),f.anchorNode&&n(document.body,f.anchorNode)&&n(document.body,f.focusNode)&&(d=window.getSelection(),c=document.createRange(),
c.setEnd(f.anchorNode,f.anchorOffset),c.collapse(!1),d.removeAllRanges(),d.addRange(c),d.extend(f.focusNode,f.focusOffset)));t(e.cursorDiv);t(e.selectionDiv);e.gutters.style.height=e.sizer.style.minHeight=0;h&&(e.lastWrapHeight=a.wrapperHeight,e.lastWrapWidth=a.wrapperWidth,Ic(b,400));e.updateLineNumbers=null;return!0}function df(b,a){for(var e=a.viewport,h=!0;;h=!1){if(!h||!b.options.lineWrapping||a.oldDisplayWidth==Ib(b))if(e&&null!=e.top&&(e={top:Math.min(b.doc.height+Od(b.display)-Pd(b),e.top)}),
a.visible=be(b.display,b.doc,e),a.visible.from>=b.display.viewFrom&&a.visible.to<=b.display.viewTo)break;if(!fe(b,a))break;qd(b);h=Jc(b);Ec(b);ec(b,h);ge(b,h);a.force=!1}a.signal(b,"update",b);if(b.display.viewFrom!=b.display.reportedViewFrom||b.display.viewTo!=b.display.reportedViewTo)a.signal(b,"viewportChange",b,b.display.viewFrom,b.display.viewTo),b.display.reportedViewFrom=b.display.viewFrom,b.display.reportedViewTo=b.display.viewTo}function ee(b,a){a=new td(b,a);if(fe(b,a)){qd(b);df(b,a);var e=
Jc(b);Ec(b);ec(b,e);ge(b,e);a.finish()}}function zg(b,a,d){function e(a){var e=a.nextSibling;za&&cb&&b.display.currentWheelTarget==a?a.style.display="none":a.parentNode.removeChild(a);return e}var q=b.display,f=b.options.lineNumbers,m=q.lineDiv,g=m.firstChild,l=q.view;q=q.viewFrom;for(var x=0;x<l.length;x++){var n=l[x];if(!n.hidden)if(n.node&&n.node.parentNode==m){for(;g!=n.node;)g=e(g);g=f&&null!=a&&a<=q&&n.lineNumber;n.changes&&(-1<c(n.changes,"gutter")&&(g=!1),kb(b,n,q,d));g&&(t(n.lineNumber),
n.lineNumber.appendChild(document.createTextNode(Ja(b.options,q))));g=n.node.nextSibling}else{var p=rg(b,n,q,d);m.insertBefore(p,g)}q+=n.size}for(;g;)g=e(g)}function ce(b){b.display.sizer.style.marginLeft=b.display.gutters.offsetWidth+"px"}function ge(b,a){b.display.sizer.style.minHeight=a.docHeight+"px";b.display.heightForcer.style.top=a.docHeight+"px";b.display.gutters.style.height=a.docHeight+b.display.barHeight+lb(b)+"px"}function ff(b){var a=b.display.gutters,c=b.options.gutters;t(a);for(var h=
0;h<c.length;++h){var d=c[h],f=a.appendChild(r("div",null,"CodeMirror-gutter "+d));"CodeMirror-linenumbers"==d&&(b.display.lineGutter=f,f.style.width=(b.display.lineNumWidth||1)+"px")}a.style.display=h?"":"none";ce(b)}function he(b){var a=c(b.gutters,"CodeMirror-linenumbers");-1==a&&b.lineNumbers?b.gutters=b.gutters.concat(["CodeMirror-linenumbers"]):-1<a&&!b.lineNumbers&&(b.gutters=b.gutters.slice(0),b.gutters.splice(a,1))}function gf(b){var a=b.wheelDeltaX,c=b.wheelDeltaY;null==a&&b.detail&&b.axis==
b.HORIZONTAL_AXIS&&(a=b.detail);null==c&&b.detail&&b.axis==b.VERTICAL_AXIS?c=b.detail:null==c&&(c=b.wheelDelta);return{x:a,y:c}}function Ag(b){b=gf(b);b.x*=Xa;b.y*=Xa;return b}function hf(b,a){var e=gf(a),h=e.x;e=e.y;var c=b.display,d=c.scroller,f=d.scrollWidth>d.clientWidth,m=d.scrollHeight>d.clientHeight;if(h&&f||e&&m){if(e&&cb&&za){f=a.target;var g=c.view;a:for(;f!=d;f=f.parentNode)for(var l=0;l<g.length;l++)if(g[l].node==f){b.display.currentWheelTarget=f;break a}}!h||vb||fb||null==Xa?(e&&null!=
Xa&&(a=e*Xa,m=b.doc.scrollTop,f=m+c.wrapper.clientHeight,0>a?m=Math.max(0,m+a-50):f=Math.min(b.doc.height,f+a+50),ee(b,{top:m,bottom:f})),20>vd&&(null==c.wheelStartX?(c.wheelStartX=d.scrollLeft,c.wheelStartY=d.scrollTop,c.wheelDX=h,c.wheelDY=e,setTimeout(function(){if(null!=c.wheelStartX){var b=d.scrollLeft-c.wheelStartX,a=d.scrollTop-c.wheelStartY;b=a&&c.wheelDY&&a/c.wheelDY||b&&c.wheelDX&&b/c.wheelDX;c.wheelStartX=c.wheelStartY=null;b&&(Xa=(Xa*vd+b)/(vd+1),++vd)}},200)):(c.wheelDX+=h,c.wheelDY+=
e))):(e&&m&&Hc(b,Math.max(0,d.scrollTop+e*Xa)),Pb(b,Math.max(0,d.scrollLeft+h*Xa)),(!e||e&&m)&&da(a),c.wheelStartX=null)}}function gb(b,a){a=b[a];b.sort(function(b,a){return J(b.from(),a.from())});a=c(b,a);for(var e=1;e<b.length;e++){var h=b[e],d=b[e-1];if(0<=J(d.to(),h.from())){var f=$a(d.from(),h.from()),m=Za(d.to(),h.to());h=d.empty()?h.from()==h.head:d.from()==d.head;e<=a&&--a;b.splice(--e,2,new X(h?m:f,h?f:m))}}return new Ya(b,a)}function ub(b,a){return new Ya([new X(b,a||b)],0)}function Cb(b){return b.text?
C(b.from.line+b.text.length-1,L(b.text).length+(1==b.text.length?b.from.ch:0)):b.to}function jf(b,a){if(0>J(b,a.from))return b;if(0>=J(b,a.to))return Cb(a);var e=b.line+a.text.length-(a.to.line-a.from.line)-1,h=b.ch;b.line==a.to.line&&(h+=Cb(a).ch-a.to.ch);return C(e,h)}function ie(b,a){for(var e=[],h=0;h<b.sel.ranges.length;h++){var c=b.sel.ranges[h];e.push(new X(jf(c.anchor,a),jf(c.head,a)))}return gb(e,b.sel.primIndex)}function kf(b,a,c){return b.line==a.line?C(c.line,b.ch-a.ch+c.ch):C(c.line+
(b.line-a.line),b.ch)}function je(b){b.doc.mode=yb(b.options,b.doc.modeOption);Kc(b)}function Kc(b){b.doc.iter(function(b){b.stateAfter&&(b.stateAfter=null);b.styles&&(b.styles=null)});b.doc.modeFrontier=b.doc.highlightFrontier=b.doc.first;Ic(b,100);b.state.modeGen++;b.curOp&&Ha(b)}function lf(b,a){return 0==a.from.ch&&0==a.to.ch&&""==L(a.text)&&(!b.cm||b.cm.options.wholeLineUpdateBefore)}function ke(b,a,c,h){function e(b,e,c){b.text=e;b.stateAfter&&(b.stateAfter=null);b.styles&&(b.styles=null);null!=
b.order&&(b.order=null);La(b);wb(b,c);e=h?h(b):1;e!=b.height&&wa(b,e);ra(b,"change",b,a)}function d(b,a){for(var e=[];b<a;++b)e.push(new fc(m[b],c?c[b]:null,h));return e}var q=a.from,f=a.to,m=a.text,g=F(b,q.line),l=F(b,f.line),x=L(m),n=c?c[m.length-1]:null,p=f.line-q.line;a.full?(b.insert(0,d(0,m.length)),b.remove(m.length,b.size-m.length)):lf(b,a)?(f=d(0,m.length-1),e(l,l.text,n),p&&b.remove(q.line,p),f.length&&b.insert(q.line,f)):g==l?1==m.length?e(g,g.text.slice(0,q.ch)+x+g.text.slice(f.ch),n):
(p=d(1,m.length-1),p.push(new fc(x+g.text.slice(f.ch),n,h)),e(g,g.text.slice(0,q.ch)+m[0],c?c[0]:null),b.insert(q.line+1,p)):1==m.length?(e(g,g.text.slice(0,q.ch)+m[0]+l.text.slice(f.ch),c?c[0]:null),b.remove(q.line+1,p)):(e(g,g.text.slice(0,q.ch)+m[0],c?c[0]:null),e(l,x+l.text.slice(f.ch),n),n=d(1,m.length-1),1<p&&b.remove(q.line+1,p-1),b.insert(q.line+1,n));ra(b,"change",b,a)}function Sb(b,a,c){function e(b,h,d){if(b.linked)for(var q=0;q<b.linked.length;++q){var f=b.linked[q];if(f.doc!=h){var v=
d&&f.sharedHist;if(!c||v)a(f.doc,v),e(f.doc,b,v)}}}e(b,null,!0)}function mf(b,a){if(a.cm)throw Error("This document is already in use.");b.doc=a;a.cm=b;Zd(b);je(b);nf(b);b.options.lineWrapping||bb(b);b.options.mode=a.modeOption;Ha(b)}function nf(b){("rtl"==b.doc.direction?A:Ob)(b.display.lineDiv,"CodeMirror-rtl")}function Bg(b){Qa(b,function(){nf(b);Ha(b)})}function wd(b){this.done=[];this.undone=[];this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=0;this.lastOrigin=this.lastSelOrigin=this.lastOp=
this.lastSelOp=null;this.generation=this.maxGeneration=b||1}function le(b,a){var e={from:ob(a.from),to:Cb(a),text:ya(b,a.from,a.to)};of(b,e,a.from.line,a.to.line+1);Sb(b,function(b){return of(b,e,a.from.line,a.to.line+1)},!0);return e}function pf(b){for(;b.length;)if(L(b).ranges)b.pop();else break}function qf(b,a,c,h){var e=b.history;e.undone.length=0;var d=+new Date,q;if(q=e.lastOp==h||e.lastOrigin==a.origin&&a.origin&&("+"==a.origin.charAt(0)&&b.cm&&e.lastModTime>d-b.cm.options.historyEventDelay||
"*"==a.origin.charAt(0))){if(e.lastOp==h){pf(e.done);var f=L(e.done)}else e.done.length&&!L(e.done).ranges?f=L(e.done):1<e.done.length&&!e.done[e.done.length-2].ranges?(e.done.pop(),f=L(e.done)):f=void 0;q=f}if(q){var m=L(f.changes);0==J(a.from,a.to)&&0==J(a.from,m.to)?m.to=Cb(a):f.changes.push(le(b,a))}else for((f=L(e.done))&&f.ranges||xd(b.sel,e.done),f={changes:[le(b,a)],generation:e.generation},e.done.push(f);e.done.length>e.undoDepth;)e.done.shift(),e.done[0].ranges||e.done.shift();e.done.push(c);
e.generation=++e.maxGeneration;e.lastModTime=e.lastSelTime=d;e.lastOp=e.lastSelOp=h;e.lastOrigin=e.lastSelOrigin=a.origin;m||T(b,"historyAdded")}function xd(b,a){var e=L(a);e&&e.ranges&&e.equals(b)||a.push(b)}function of(b,a,c,h){var e=a["spans_"+b.id],d=0;b.iter(Math.max(b.first,c),Math.min(b.first+b.size,h),function(h){h.markedSpans&&((e||(e=a["spans_"+b.id]={}))[d]=h.markedSpans);++d})}function Cg(b){if(!b)return null;for(var a,c=0;c<b.length;++c)b[c].marker.explicitlyCleared?a||(a=b.slice(0,c)):
a&&a.push(b[c]);return a?a.length?a:null:b}function rf(b,a){var e;if(e=a["spans_"+b.id]){for(var h=[],c=0;c<a.text.length;++c)h.push(Cg(e[c]));e=h}else e=null;b=ba(b,a);if(!e)return b;if(!b)return e;for(a=0;a<e.length;++a)if(h=e[a],c=b[a],h&&c){var d=0;a:for(;d<c.length;++d){for(var f=c[d],m=0;m<h.length;++m)if(h[m].marker==f.marker)continue a;h.push(f)}}else c&&(e[a]=c);return e}function gc(b,a,d){for(var e=[],q=0;q<b.length;++q){var f=b[q];if(f.ranges)e.push(d?Ya.prototype.deepCopy.call(f):f);else{f=
f.changes;var m=[];e.push({changes:m});for(var g=0;g<f.length;++g){var l=f[g],x;m.push({from:l.from,to:l.to,text:l.text});if(a)for(var n in l)(x=n.match(/^spans_(\d+)$/))&&-1<c(a,Number(x[1]))&&(L(m)[n]=l[n],delete l[n])}}}return e}function me(b,a,c,h){return h?(b=b.anchor,c&&(h=0>J(a,b),h!=0>J(c,b)?(b=a,a=c):h!=0>J(a,c)&&(a=c)),new X(b,a)):new X(c||a,a)}function yd(b,a,c,h,d){null==d&&(d=b.cm&&(b.cm.display.shift||b.extend));xa(b,new Ya([me(b.sel.primary(),a,c,d)],0),h)}function sf(b,a,c){for(var e=
[],d=b.cm&&(b.cm.display.shift||b.extend),q=0;q<b.sel.ranges.length;q++)e[q]=me(b.sel.ranges[q],a[q],null,d);a=gb(e,b.sel.primIndex);xa(b,a,c)}function ne(b,a,c,h){var e=b.sel.ranges.slice(0);e[a]=c;xa(b,gb(e,b.sel.primIndex),h)}function Dg(b,a,c){c={ranges:a.ranges,update:function(a){this.ranges=[];for(var e=0;e<a.length;e++)this.ranges[e]=new X(M(b,a[e].anchor),M(b,a[e].head))},origin:c&&c.origin};T(b,"beforeSelectionChange",b,c);b.cm&&T(b.cm,"beforeSelectionChange",b.cm,c);return c.ranges!=a.ranges?
gb(c.ranges,c.ranges.length-1):a}function tf(b,a,c){var e=b.history.done,d=L(e);d&&d.ranges?(e[e.length-1]=a,zd(b,a,c)):xa(b,a,c)}function xa(b,a,c){zd(b,a,c);a=b.sel;var e=b.cm?b.cm.curOp.id:NaN,d=b.history,q=c&&c.origin,f;if(!(f=e==d.lastSelOp)&&(f=q&&d.lastSelOrigin==q)&&!(f=d.lastModTime==d.lastSelTime&&d.lastOrigin==q)){f=L(d.done);var m=q.charAt(0);f="*"==m||"+"==m&&f.ranges.length==a.ranges.length&&f.somethingSelected()==a.somethingSelected()&&new Date-b.history.lastSelTime<=(b.cm?b.cm.options.historyEventDelay:
500)}f?d.done[d.done.length-1]=a:xd(a,d.done);d.lastSelTime=+new Date;d.lastSelOrigin=q;d.lastSelOp=e;c&&!1!==c.clearRedo&&pf(d.undone)}function zd(b,a,c){if(Oa(b,"beforeSelectionChange")||b.cm&&Oa(b.cm,"beforeSelectionChange"))a=Dg(b,a,c);var e=c&&c.bias||(0>J(a.primary().head,b.sel.primary().head)?-1:1);uf(b,vf(b,a,e,!0));c&&!1===c.scroll||!b.cm||dc(b.cm)}function uf(b,a){a.equals(b.sel)||(b.sel=a,b.cm&&(b.cm.curOp.updateInput=b.cm.curOp.selectionChanged=!0,rc(b.cm)),ra(b,"cursorActivity",b))}function wf(b){uf(b,
vf(b,b.sel,null,!1))}function vf(b,a,c,h){for(var e,d=0;d<a.ranges.length;d++){var q=a.ranges[d],f=a.ranges.length==b.sel.ranges.length&&b.sel.ranges[d],m=oe(b,q.anchor,f&&f.anchor,c,h);f=oe(b,q.head,f&&f.head,c,h);if(e||m!=q.anchor||f!=q.head)e||(e=a.ranges.slice(0,d)),e[d]=new X(m,f)}return e?gb(e,a.primIndex):a}function hc(b,a,c,h,d){var e=F(b,a.line);if(e.markedSpans)for(var f=0;f<e.markedSpans.length;++f){var q=e.markedSpans[f],v=q.marker;if((null==q.from||(v.inclusiveLeft?q.from<=a.ch:q.from<
a.ch))&&(null==q.to||(v.inclusiveRight?q.to>=a.ch:q.to>a.ch))){if(d&&(T(v,"beforeCursorEnter"),v.explicitlyCleared))if(e.markedSpans){--f;continue}else break;if(v.atomic){if(c){f=v.find(0>h?1:-1);q=void 0;if(0>h?v.inclusiveRight:v.inclusiveLeft)f=xf(b,f,-h,f&&f.line==a.line?e:null);if(f&&f.line==a.line&&(q=J(f,c))&&(0>h?0>q:0<q))return hc(b,f,a,h,d)}c=v.find(0>h?-1:1);if(0>h?v.inclusiveLeft:v.inclusiveRight)c=xf(b,c,h,c.line==a.line?e:null);return c?hc(b,c,a,h,d):null}}}return a}function oe(b,a,c,
h,d){h=h||1;a=hc(b,a,c,h,d)||!d&&hc(b,a,c,h,!0)||hc(b,a,c,-h,d)||!d&&hc(b,a,c,-h,!0);return a?a:(b.cantEdit=!0,C(b.first,0))}function xf(b,a,c,h){return 0>c&&0==a.ch?a.line>b.first?M(b,C(a.line-1)):null:0<c&&a.ch==(h||F(b,a.line)).text.length?a.line<b.first+b.size-1?C(a.line+1,0):null:new C(a.line,a.ch+c)}function yf(b){b.setSelection(C(b.firstLine(),0),C(b.lastLine()),mb)}function zf(b,a,c){var e={canceled:!1,from:a.from,to:a.to,text:a.text,origin:a.origin,cancel:function(){return e.canceled=!0}};
c&&(e.update=function(a,h,c,d){a&&(e.from=M(b,a));h&&(e.to=M(b,h));c&&(e.text=c);void 0!==d&&(e.origin=d)});T(b,"beforeChange",b,e);b.cm&&T(b.cm,"beforeChange",b.cm,e);return e.canceled?null:{from:e.from,to:e.to,text:e.text,origin:e.origin}}function ic(b,a,c){if(b.cm){if(!b.cm.curOp)return ua(b.cm,ic)(b,a,c);if(b.cm.state.suppressEdits)return}if(Oa(b,"beforeChange")||b.cm&&Oa(b.cm,"beforeChange"))if(a=zf(b,a,!0),!a)return;if(c=Af&&!c&&hb(b,a.from,a.to))for(var e=c.length-1;0<=e;--e)Bf(b,{from:c[e].from,
to:c[e].to,text:e?[""]:a.text,origin:a.origin});else Bf(b,a)}function Bf(b,a){if(1!=a.text.length||""!=a.text[0]||0!=J(a.from,a.to)){var e=ie(b,a);qf(b,a,e,b.cm?b.cm.curOp.id:NaN);Lc(b,a,e,ba(b,a));var h=[];Sb(b,function(b,e){e||-1!=c(h,b.history)||(Cf(b.history,a),h.push(b.history));Lc(b,a,null,ba(b,a))})}}function Ad(b,a,d){var e=b.cm&&b.cm.state.suppressEdits;if(!e||d){for(var f=b.history,q,m=b.sel,g="undo"==a?f.done:f.undone,l="undo"==a?f.undone:f.done,x=0;x<g.length&&(q=g[x],d?!q.ranges||q.equals(b.sel):
q.ranges);x++);if(x!=g.length){for(f.lastOrigin=f.lastSelOrigin=null;;)if(q=g.pop(),q.ranges){xd(q,l);if(d&&!q.equals(b.sel)){xa(b,q,{clearRedo:!1});return}m=q}else{if(e){g.push(q);return}break}var n=[];xd(m,l);l.push({changes:n,generation:f.generation});f.generation=q.generation||++f.maxGeneration;var p=Oa(b,"beforeChange")||b.cm&&Oa(b.cm,"beforeChange");d=function(e){var h=q.changes[e];h.origin=a;if(p&&!zf(b,h,!1))return g.length=0,{};n.push(le(b,h));var d=e?ie(b,h):L(g);Lc(b,h,d,rf(b,h));!e&&b.cm&&
b.cm.scrollIntoView({from:h.from,to:Cb(h)});var f=[];Sb(b,function(b,a){a||-1!=c(f,b.history)||(Cf(b.history,h),f.push(b.history));Lc(b,h,null,rf(b,h))})};for(e=q.changes.length-1;0<=e;--e)if(f=d(e))return f.v}}}function Df(b,a){if(0!=a&&(b.first+=a,b.sel=new Ya(O(b.sel.ranges,function(b){return new X(C(b.anchor.line+a,b.anchor.ch),C(b.head.line+a,b.head.ch))}),b.sel.primIndex),b.cm)){Ha(b.cm,b.first,b.first-a,a);for(var e=b.cm.display,h=e.viewFrom;h<e.viewTo;h++)Bb(b.cm,h,"gutter")}}function Lc(b,
a,c,h){if(b.cm&&!b.cm.curOp)return ua(b.cm,Lc)(b,a,c,h);if(a.to.line<b.first)Df(b,a.text.length-1-(a.to.line-a.from.line));else if(!(a.from.line>b.lastLine())){if(a.from.line<b.first){var e=a.text.length-1-(b.first-a.from.line);Df(b,e);a={from:C(b.first,0),to:C(a.to.line+e,a.to.ch),text:[L(a.text)],origin:a.origin}}e=b.lastLine();a.to.line>e&&(a={from:a.from,to:C(e,F(b,e).text.length),text:[a.text[0]],origin:a.origin});a.removed=ya(b,a.from,a.to);c||(c=ie(b,a));b.cm?Eg(b.cm,a,h):ke(b,a,h);zd(b,c,
mb)}}function Eg(b,a,c){var e=b.doc,d=b.display,f=a.from,q=a.to,m=!1,g=f.line;b.options.lineWrapping||(g=N(Ba(F(e,f.line))),e.iter(g,q.line+1,function(b){if(b==d.maxLine)return m=!0}));-1<e.sel.contains(a.from,a.to)&&rc(b);ke(e,a,c,Re(b));b.options.lineWrapping||(e.iter(g,f.line+a.text.length,function(b){var a=Ua(b);a>d.maxLineLength&&(d.maxLine=b,d.maxLineLength=a,d.maxLineChanged=!0,m=!1)}),m&&(b.curOp.updateMaxLine=!0));sb(e,f.line);Ic(b,400);c=a.text.length-(q.line-f.line)-1;a.full?Ha(b):f.line!=
q.line||1!=a.text.length||lf(b.doc,a)?Ha(b,f.line,q.line+1,c):Bb(b,f.line,"text");c=Oa(b,"changes");if((e=Oa(b,"change"))||c)a={from:f,to:q,text:a.text,removed:a.removed,origin:a.origin},e&&ra(b,"change",b,a),c&&(b.curOp.changeObjs||(b.curOp.changeObjs=[])).push(a);b.display.selForContextMenu=null}function jc(b,a,c,h,d){h||(h=c);0>J(h,c)&&(h=[h,c],c=h[0],h=h[1]);"string"==typeof a&&(a=b.splitLines(a));ic(b,{from:c,to:h,text:a,origin:d})}function Ef(b,a,c,h){c<b.line?b.line+=h:a<b.line&&(b.line=a,
b.ch=0)}function Ff(b,a,c,h){for(var e=0;e<b.length;++e){var d=b[e],f=!0;if(d.ranges)for(d.copied||(d=b[e]=d.deepCopy(),d.copied=!0),f=0;f<d.ranges.length;f++)Ef(d.ranges[f].anchor,a,c,h),Ef(d.ranges[f].head,a,c,h);else{for(var q=0;q<d.changes.length;++q){var m=d.changes[q];if(c<m.from.line)m.from=C(m.from.line+h,m.from.ch),m.to=C(m.to.line+h,m.to.ch);else if(a<=m.to.line){f=!1;break}}f||(b.splice(0,e+1),e=0)}}}function Cf(b,a){var e=a.from.line,c=a.to.line;a=a.text.length-(c-e)-1;Ff(b.done,e,c,a);
Ff(b.undone,e,c,a)}function Mc(b,a,c,h){var e=a,d=a;"number"==typeof a?d=F(b,Math.max(b.first,Math.min(a,b.first+b.size-1))):e=N(a);if(null==e)return null;h(d,e)&&b.cm&&Bb(b.cm,e,c);return d}function Nc(b){this.lines=b;this.parent=null;for(var a=0,c=0;c<b.length;++c)b[c].parent=this,a+=b[c].height;this.height=a}function Oc(b){this.children=b;for(var a=0,c=0,h=0;h<b.length;++h){var d=b[h];a+=d.chunkSize();c+=d.height;d.parent=this}this.size=a;this.height=c;this.parent=null}function Fg(b,a,c,h){var e=
new Pc(b,c,h),d=b.cm;d&&e.noHScroll&&(d.display.alignWidgets=!0);Mc(b,a,"widget",function(a){var c=a.widgets||(a.widgets=[]);null==e.insertAt?c.push(e):c.splice(Math.min(c.length-1,Math.max(0,e.insertAt)),0,e);e.line=a;d&&!oa(b,a)&&(c=qa(a)<b.scrollTop,wa(a,a.height+Bc(e)),c&&rd(d,e.height),d.curOp.forceUpdate=!0);return!0});d&&ra(d,"lineWidgetAdded",d,e,"number"==typeof a?a:N(a));return e}function kc(b,a,c,h,d){if(h&&h.shared)return Gg(b,a,c,h,d);if(b.cm&&!b.cm.curOp)return ua(b.cm,kc)(b,a,c,h,d);
var e=new Db(b,d);d=J(a,c);h&&g(h,e,!1);if(0<d||0==d&&!1!==e.clearWhenEmpty)return e;e.replacedWith&&(e.collapsed=!0,e.widgetNode=p("span",[e.replacedWith],"CodeMirror-widget"),h.handleMouseEvents||e.widgetNode.setAttribute("cm-ignore-events","true"),h.insertLeft&&(e.widgetNode.insertLeft=!0));if(e.collapsed){if(V(b,a.line,a,c,e)||a.line!=c.line&&V(b,c.line,a,c,e))throw Error("Inserting collapsed marker partially overlapping an existing one");xb=!0}e.addToHistory&&qf(b,{from:a,to:c,origin:"markText"},
b.sel,NaN);var f=a.line,q=b.cm,v;b.iter(f,c.line+1,function(b){q&&e.collapsed&&!q.options.lineWrapping&&Ba(b)==q.display.maxLine&&(v=!0);e.collapsed&&f!=a.line&&wa(b,0);var h=new ka(e,f==a.line?a.ch:null,f==c.line?c.ch:null);b.markedSpans=b.markedSpans?b.markedSpans.concat([h]):[h];h.marker.attachLine(b);++f});e.collapsed&&b.iter(a.line,c.line+1,function(a){oa(b,a)&&wa(a,0)});e.clearOnEnter&&K(e,"beforeCursorEnter",function(){return e.clear()});e.readOnly&&(Af=!0,(b.history.done.length||b.history.undone.length)&&
b.clearHistory());e.collapsed&&(e.id=++Gf,e.atomic=!0);if(q){v&&(q.curOp.updateMaxLine=!0);if(e.collapsed)Ha(q,a.line,c.line+1);else if(e.className||e.title||e.startStyle||e.endStyle||e.css)for(h=a.line;h<=c.line;h++)Bb(q,h,"text");e.atomic&&wf(q.doc);ra(q,"markerAdded",q,e)}return e}function Gg(b,a,c,h,d){h=g(h);h.shared=!1;var e=[kc(b,a,c,h,d)],f=e[0],q=h.widgetNode;Sb(b,function(b){q&&(h.widgetNode=q.cloneNode(!0));e.push(kc(b,M(b,a),M(b,c),h,d));for(var v=0;v<b.linked.length;++v)if(b.linked[v].isParent)return;
f=L(e)});return new Qc(e,f)}function Hf(b){return b.findMarks(C(b.first,0),b.clipPos(C(b.lastLine())),function(b){return b.parent})}function Hg(b){for(var a=function(a){a=b[a];var e=[a.primary.doc];Sb(a.primary.doc,function(b){return e.push(b)});for(var h=0;h<a.markers.length;h++){var d=a.markers[h];-1==c(e,d.doc)&&(d.parent=null,a.markers.splice(h--,1))}},d=0;d<b.length;d++)a(d)}function Ig(b){var a=this;If(a);if(!Z(a,b)&&!tb(a.display,b)){da(b);W&&(Jf=+new Date);var d=Nb(a,b,!0),h=b.dataTransfer.files;
if(d&&!a.isReadOnly())if(h&&h.length&&window.FileReader&&window.File)for(var f=h.length,m=Array(f),g=0,l=function(b,e){if(!a.options.allowDropFileTypes||-1!=c(a.options.allowDropFileTypes,b.type)){var h=new FileReader;h.onload=ua(a,function(){var b=h.result;/[\x00-\x08\x0e-\x1f]{2}/.test(b)&&(b="");m[e]=b;++g==f&&(d=M(a.doc,d),b={from:d,to:d,text:a.doc.splitLines(m.join(a.doc.lineSeparator())),origin:"paste"},ic(a.doc,b),tf(a.doc,ub(d,Cb(b))))});h.readAsText(b)}},x=0;x<f;++x)l(h[x],x);else if(a.state.draggingText&&
-1<a.doc.sel.contains(d))a.state.draggingText(b),setTimeout(function(){return a.display.input.focus()},20);else try{if(l=b.dataTransfer.getData("Text")){a.state.draggingText&&!a.state.draggingText.copy&&(x=a.listSelections());zd(a.doc,ub(d,d));if(x)for(h=0;h<x.length;++h)jc(a.doc,"",x[h].anchor,x[h].head,"drag");a.replaceSelection(l,"around","paste");a.display.input.focus()}}catch(lh){}}}function If(b){b.display.dragCursor&&(b.display.lineSpace.removeChild(b.display.dragCursor),b.display.dragCursor=
null)}function Kf(b){if(document.getElementsByClassName)for(var a=document.getElementsByClassName("CodeMirror"),c=0;c<a.length;c++){var h=a[c].CodeMirror;h&&b(h)}}function Jg(){var b;K(window,"resize",function(){null==b&&(b=setTimeout(function(){b=null;Kf(Kg)},100))});K(window,"blur",function(){return Kf(Fc)})}function Kg(b){var a=b.display;if(a.lastWrapHeight!=a.wrapper.clientHeight||a.lastWrapWidth!=a.wrapper.clientWidth)a.cachedCharWidth=a.cachedTextHeight=a.cachedPaddingH=null,a.scrollbarsClipped=
!1,b.setSize()}function Lg(b){var a=b.split(/-(?!$)/);b=a[a.length-1];for(var c,h,d,f,m=0;m<a.length-1;m++){var g=a[m];if(/^(cmd|meta|m)$/i.test(g))f=!0;else if(/^a(lt)?$/i.test(g))c=!0;else if(/^(c|ctrl|control)$/i.test(g))h=!0;else if(/^s(hift)?$/i.test(g))d=!0;else throw Error("Unrecognized modifier name: "+g);}c&&(b="Alt-"+b);h&&(b="Ctrl-"+b);f&&(b="Cmd-"+b);d&&(b="Shift-"+b);return b}function Mg(b){var a={},c;for(c in b)if(b.hasOwnProperty(c)){var h=b[c];if(!/^(name|fallthrough|(de|at)tach)$/.test(c)){if("..."!=
h)for(var d=O(c.split(" "),Lg),f=0;f<d.length;f++){if(f==d.length-1){var m=d.join(" ");var g=h}else m=d.slice(0,f+1).join(" "),g="...";var l=a[m];if(!l)a[m]=g;else if(l!=g)throw Error("Inconsistent bindings for "+m);}delete b[c]}}for(var x in a)b[x]=a[x];return b}function lc(b,a,c,h){a=Bd(a);var e=a.call?a.call(b,h):a[b];if(!1===e)return"nothing";if("..."===e)return"multi";if(null!=e&&c(e))return"handled";if(a.fallthrough){if("[object Array]"!=Object.prototype.toString.call(a.fallthrough))return lc(b,
a.fallthrough,c,h);for(e=0;e<a.fallthrough.length;e++){var d=lc(b,a.fallthrough[e],c,h);if(d)return d}}}function Lf(b){b="string"==typeof b?b:Eb[b.keyCode];return"Ctrl"==b||"Alt"==b||"Shift"==b||"Mod"==b}function Mf(b,a,c){var e=b;a.altKey&&"Alt"!=e&&(b="Alt-"+b);(Nf?a.metaKey:a.ctrlKey)&&"Ctrl"!=e&&(b="Ctrl-"+b);(Nf?a.ctrlKey:a.metaKey)&&"Cmd"!=e&&(b="Cmd-"+b);!c&&a.shiftKey&&"Shift"!=e&&(b="Shift-"+b);return b}function Of(b,a){if(fb&&34==b.keyCode&&b["char"])return!1;var e=Eb[b.keyCode];if(null==
e||b.altGraphKey)return!1;3==b.keyCode&&b.code&&(e=b.code);return Mf(e,b,a)}function Bd(b){return"string"==typeof b?Rc[b]:b}function mc(b,a){for(var e=b.doc.sel.ranges,c=[],d=0;d<e.length;d++){for(var f=a(e[d]);c.length&&0>=J(f.from,L(c).to);){var m=c.pop();if(0>J(m.from,f.from)){f.from=m.from;break}}c.push(f)}Qa(b,function(){for(var a=c.length-1;0<=a;a--)jc(b.doc,"",c[a].from,c[a].to,"+delete");dc(b)})}function pe(b,a,c){a=H(b.text,a+c,c);return 0>a||a>b.text.length?null:a}function qe(b,a,c){b=pe(b,
a.ch,c);return null==b?null:new C(a.line,b,0>c?"after":"before")}function re(b,a,c,h,d){if(b&&(b=Ga(c,a.doc.direction))){b=0>d?L(b):b[0];var e=0>d==(1==b.level)?"after":"before";if(0<b.level||"rtl"==a.doc.direction){var f=Kb(a,c);var q=0>d?c.text.length-1:0;var v=db(a,f,q).top;q=U(function(b){return db(a,f,b).top==v},0>d==(1==b.level)?b.from:b.to-1,q);"before"==e&&(q=pe(c,q,1))}else q=0>d?b.to:b.from;return new C(h,q,e)}return new C(h,0>d?c.text.length:0,0>d?"before":"after")}function Ng(b,a,c,h){var e=
Ga(a,b.doc.direction);if(!e)return qe(a,c,h);c.ch>=a.text.length?(c.ch=a.text.length,c.sticky="before"):0>=c.ch&&(c.ch=0,c.sticky="after");var d=ab(e,c.ch,c.sticky),f=e[d];if("ltr"==b.doc.direction&&0==f.level%2&&(0<h?f.to>c.ch:f.from<c.ch))return qe(a,c,h);var q=function(b,e){return pe(a,b instanceof C?b.ch:b,e)},m,g=function(e){if(!b.options.lineWrapping)return{begin:0,end:a.text.length};m=m||Kb(b,a);return Qe(b,a,m,e)},l=g("before"==c.sticky?q(c,-1):c.ch);if("rtl"==b.doc.direction||1==f.level){var x=
1==f.level==0>h,n=q(c,x?1:-1);if(null!=n&&(x?n<=f.to&&n<=l.end:n>=f.from&&n>=l.begin))return new C(c.line,n,x?"before":"after")}f=function(b,a,h){for(var d=function(b,a){return a?new C(c.line,q(b,1),"before"):new C(c.line,b,"after")};0<=b&&b<e.length;b+=a){var f=e[b],v=0<a==(1!=f.level),m=v?h.begin:q(h.end,-1);if(f.from<=m&&m<f.to)return d(m,v);m=v?f.from:q(f.to,-1);if(h.begin<=m&&m<h.end)return d(m,v)}};if(d=f(d+h,h,l))return d;l=0<h?l.end:q(l.begin,-1);return null==l||0<h&&l==a.text.length||!(d=
f(0<h?0:e.length-1,h,g(l)))?null:d}function Pf(b,a){var e=F(b.doc,a),c=Ba(e);c!=e&&(a=N(c));return re(!0,b,c,a,1)}function Qf(b,a){var e=Pf(b,a.line),c=F(b.doc,e.line);b=Ga(c,b.doc.direction);return b&&0!=b[0].level?e:(c=Math.max(0,c.text.search(/\S/)),C(e.line,a.line==e.line&&a.ch<=c&&a.ch?0:c,e.sticky))}function Cd(b,a,c){if("string"==typeof a&&(a=Sc[a],!a))return!1;b.display.input.ensurePolled();var e=b.display.shift,d=!1;try{b.isReadOnly()&&(b.state.suppressEdits=!0),c&&(b.display.shift=!1),d=
a(b)!=Dd}finally{b.display.shift=e,b.state.suppressEdits=!1}return d}function Tc(b,a,c,h){var e=b.state.keySeq;if(e){if(Lf(a))return"handled";/'$/.test(a)?b.state.keySeq=null:Og.set(50,function(){b.state.keySeq==e&&(b.state.keySeq=null,b.display.input.reset())});if(Rf(b,e+" "+a,c,h))return!0}return Rf(b,a,c,h)}function Rf(b,a,c,h){a:{for(var e=0;e<b.state.keyMaps.length;e++){var d=lc(a,b.state.keyMaps[e],h,b);if(d){h=d;break a}}h=b.options.extraKeys&&lc(a,b.options.extraKeys,h,b)||lc(a,b.options.keyMap,
h,b)}"multi"==h&&(b.state.keySeq=a);"handled"==h&&ra(b,"keyHandled",b,a,c);if("handled"==h||"multi"==h)da(c),$d(b);return!!h}function Sf(b,a){var e=Of(a,!0);return e?a.shiftKey&&!b.state.keySeq?Tc(b,"Shift-"+e,a,function(a){return Cd(b,a,!0)})||Tc(b,e,a,function(a){if("string"==typeof a?/^go[A-Z]/.test(a):a.motion)return Cd(b,a)}):Tc(b,e,a,function(a){return Cd(b,a)}):!1}function Pg(b,a,c){return Tc(b,"'"+c+"'",a,function(a){return Cd(b,a,!0)})}function Tf(b){this.curOp.focus=w();if(!Z(this,b)){W&&
11>fa&&27==b.keyCode&&(b.returnValue=!1);var a=b.keyCode;this.display.shift=16==a||b.shiftKey;var c=Sf(this,b);fb&&(se=c?a:null,!c&&88==a&&!Qg&&(cb?b.metaKey:b.ctrlKey)&&this.replaceSelection("",null,"cut"));18!=a||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||Rg(this)}}function Rg(b){function a(b){18!=b.keyCode&&b.altKey||(Ob(c,"CodeMirror-crosshair"),ca(document,"keyup",a),ca(document,"mouseover",a))}var c=b.display.lineDiv;A(c,"CodeMirror-crosshair");K(document,"keyup",a);K(document,
"mouseover",a)}function Uf(b){16==b.keyCode&&(this.doc.sel.shift=!1);Z(this,b)}function Vf(b){if(!(tb(this.display,b)||Z(this,b)||b.ctrlKey&&!b.altKey||cb&&b.metaKey)){var a=b.keyCode,c=b.charCode;if(fb&&a==se)se=null,da(b);else if(!fb||b.which&&!(10>b.which)||!Sf(this,b))if(a=String.fromCharCode(null==c?a:c),"\b"!=a&&!Pg(this,b,a))this.display.input.onKeyPress(b)}}function Sg(b,a){var e=+new Date;if(Uc&&Uc.compare(e,b,a))return Vc=Uc=null,"triple";if(Vc&&Vc.compare(e,b,a))return Uc=new te(e,b,a),
Vc=null,"double";Vc=new te(e,b,a);Uc=null;return"single"}function Wf(b){var a=this.display;if(!(Z(this,b)||a.activeTouch&&a.input.supportsTouch()))if(a.input.ensurePolled(),a.shift=b.shiftKey,tb(a,b))za||(a.scroller.draggable=!1,setTimeout(function(){return a.scroller.draggable=!0},100));else if(!Ed(this,b,"gutterClick",!0)){var c=Nb(this,b),h=Fb(b),d=c?Sg(c,h):"single";window.focus();1==h&&this.state.selectingText&&this.state.selectingText(b);c&&Tg(this,h,c,d,b)||(1==h?c?Ug(this,c,d,b):(b.target||
b.srcElement)==a.scroller&&da(b):2==h?(c&&yd(this.doc,c),setTimeout(function(){return a.input.focus()},20)):3==h&&(ue?Xf(this,b):Ve(this)))}}function Tg(b,a,c,h,d){var e="Click";"double"==h?e="Double"+e:"triple"==h&&(e="Triple"+e);return Tc(b,Mf((1==a?"Left":2==a?"Middle":"Right")+e,d),d,function(a){"string"==typeof a&&(a=Sc[a]);if(!a)return!1;var e=!1;try{b.isReadOnly()&&(b.state.suppressEdits=!0),e=a(b,c)!=Dd}finally{b.state.suppressEdits=!1}return e})}function Ug(b,a,c,h){W?setTimeout(G(Ue,b),
0):b.curOp.focus=w();var e=b.getOption("configureMouse");e=e?e(b,c,h):{};null==e.unit&&(e.unit=(Vg?h.shiftKey&&h.metaKey:h.altKey)?"rectangle":"single"==c?"char":"double"==c?"word":"line");if(null==e.extend||b.doc.extend)e.extend=b.doc.extend||h.shiftKey;null==e.addNew&&(e.addNew=cb?h.metaKey:h.ctrlKey);null==e.moveOnDrag&&(e.moveOnDrag=!(cb?h.altKey:h.ctrlKey));var d=b.doc.sel,f;b.options.dragDrop&&Wg&&!b.isReadOnly()&&"single"==c&&-1<(f=d.contains(a))&&(0>J((f=d.ranges[f]).from(),a)||0<a.xRel)&&
(0<J(f.to(),a)||0>a.xRel)?Xg(b,h,a,e):Yg(b,h,a,e)}function Xg(b,a,c,h){var e=b.display,d=!1,f=ua(b,function(a){za&&(e.scroller.draggable=!1);b.state.draggingText=!1;ca(document,"mouseup",f);ca(document,"mousemove",q);ca(e.scroller,"dragstart",m);ca(e.scroller,"drop",f);d||(da(a),h.addNew||yd(b.doc,c,null,null,h.extend),za||W&&9==fa?setTimeout(function(){document.body.focus();e.input.focus()},20):e.input.focus())}),q=function(b){d=d||10<=Math.abs(a.clientX-b.clientX)+Math.abs(a.clientY-b.clientY)},
m=function(){return d=!0};za&&(e.scroller.draggable=!0);b.state.draggingText=f;f.copy=!h.moveOnDrag;e.scroller.dragDrop&&e.scroller.dragDrop();K(document,"mouseup",f);K(document,"mousemove",q);K(e.scroller,"dragstart",m);K(e.scroller,"drop",f);Ve(b);setTimeout(function(){return e.input.focus()},20)}function Yf(b,a,c){if("char"==c)return new X(a,a);if("word"==c)return b.findWordAt(a);if("line"==c)return new X(C(a.line,0),M(b.doc,C(a.line+1,0)));b=c(b,a);return new X(b.from,b.to)}function Yg(b,e,c,
h){function d(e){if(0!=J(A,e))if(A=e,"rectangle"==h.unit){var d=[],q=b.options.tabSize,v=a(F(l,c.line).text,c.ch,q),m=a(F(l,e.line).text,e.ch,q),g=Math.min(v,m);v=Math.max(v,m);m=Math.min(c.line,e.line);for(var n=Math.min(b.lastLine(),Math.max(c.line,e.line));m<=n;m++){var I=F(l,m).text,w=f(I,g,q);g==v?d.push(new X(C(m,w),C(m,w))):I.length>w&&d.push(new X(C(m,w),C(m,f(I,v,q))))}d.length||d.push(new X(c,c));xa(l,gb(x.ranges.slice(0,p).concat(d),p),{origin:"*mouse",scroll:!1});b.scrollIntoView(e)}else d=
k,g=Yf(b,e,h.unit),e=d.anchor,0<J(g.anchor,e)?(q=g.head,e=$a(d.from(),g.anchor)):(q=g.anchor,e=Za(d.to(),g.head)),d=x.ranges.slice(0),d[p]=Zg(b,new X(M(l,e),q)),xa(l,gb(d,p),ve)}function q(a){var e=++G,c=Nb(b,a,!0,"rectangle"==h.unit);if(c)if(0!=J(c,A)){b.curOp.focus=w();d(c);var f=be(g,l);(c.line>=f.to||c.line<f.from)&&setTimeout(ua(b,function(){G==e&&q(a)}),150)}else{var v=a.clientY<u.top?-20:a.clientY>u.bottom?20:0;v&&setTimeout(ua(b,function(){G==e&&(g.scroller.scrollTop+=v,q(a))}),50)}}function m(a){b.state.selectingText=
!1;G=Infinity;da(a);g.input.focus();ca(document,"mousemove",r);ca(document,"mouseup",kb);l.history.lastSelOrigin=null}var g=b.display,l=b.doc;da(e);var x=l.sel,n=x.ranges;if(h.addNew&&!h.extend){var p=l.sel.contains(c);var k=-1<p?n[p]:new X(c,c)}else k=l.sel.primary(),p=l.sel.primIndex;"rectangle"==h.unit?(h.addNew||(k=new X(c,c)),c=Nb(b,e,!0,!0),p=-1):(e=Yf(b,c,h.unit),k=h.extend?me(k,e.anchor,e.head,h.extend):e);h.addNew?-1==p?(p=n.length,xa(l,gb(n.concat([k]),p),{scroll:!1,origin:"*mouse"})):1<
n.length&&n[p].empty()&&"char"==h.unit&&!h.extend?(xa(l,gb(n.slice(0,p).concat(n.slice(p+1)),0),{scroll:!1,origin:"*mouse"}),x=l.sel):ne(l,p,k,ve):(p=0,xa(l,new Ya([k],0),ve),x=l.sel);var A=c,u=g.wrapper.getBoundingClientRect(),G=0,r=ua(b,function(b){Fb(b)?q(b):m(b)}),kb=ua(b,m);b.state.selectingText=kb;K(document,"mousemove",r);K(document,"mouseup",kb)}function Zg(b,a){var e=a.anchor,c=a.head,d=F(b.doc,e.line);if(0==J(e,c)&&e.sticky==c.sticky)return a;d=Ga(d);if(!d)return a;var f=ab(d,e.ch,e.sticky),
m=d[f];if(m.from!=e.ch&&m.to!=e.ch)return a;var g=f+(m.from==e.ch==(1!=m.level)?0:1);if(0==g||g==d.length)return a;c.line!=e.line?b=0<(c.line-e.line)*("ltr"==b.doc.direction?1:-1):(b=ab(d,c.ch,c.sticky),f=b-f||(c.ch-e.ch)*(1==m.level?-1:1),b=b==g-1||b==g?0>f:0<f);d=d[g+(b?-1:0)];d=(g=b==(1==d.level))?d.from:d.to;g=g?"after":"before";return e.ch==d&&e.sticky==g?a:new X(new C(e.line,d,g),c)}function Ed(b,a,c,d){if(a.touches){var e=a.touches[0].clientX;var h=a.touches[0].clientY}else try{e=a.clientX,
h=a.clientY}catch(S){return!1}if(e>=Math.floor(b.display.gutters.getBoundingClientRect().right))return!1;d&&da(a);d=b.display;var f=d.lineDiv.getBoundingClientRect();if(h>f.bottom||!Oa(b,c))return Wb(a);h-=f.top-d.viewOffset;for(f=0;f<b.options.gutters.length;++f){var q=d.gutters.childNodes[f];if(q&&q.getBoundingClientRect().right>=e)return e=ma(b.doc,h),T(b,c,b,e,b.options.gutters[f],a),Wb(a)}}function Xf(b,a){var e;(e=tb(b.display,a))||(e=Oa(b,"gutterContextMenu")?Ed(b,a,"gutterContextMenu",!1):
!1);if(!e&&!Z(b,a,"contextmenu"))b.display.input.onContextMenu(a)}function Zf(b){b.display.wrapper.className=b.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+b.options.theme.replace(/(^|\s)\s*/g," cm-s-");Dc(b)}function Wc(b){ff(b);Ha(b);Xe(b)}function $g(b,a,c){!a!=!(c&&c!=nc)&&(c=b.display.dragFunctions,a=a?K:ca,a(b.display.scroller,"dragstart",c.start),a(b.display.scroller,"dragenter",c.enter),a(b.display.scroller,"dragover",c.over),a(b.display.scroller,"dragleave",c.leave),a(b.display.scroller,
"drop",c.drop))}function ah(b){b.options.lineWrapping?(A(b.display.wrapper,"CodeMirror-wrap"),b.display.sizer.style.minWidth="",b.display.sizerWidth=null):(Ob(b.display.wrapper,"CodeMirror-wrap"),bb(b));Zd(b);Ha(b);Dc(b);setTimeout(function(){return ec(b)},100)}function ia(b,a){var e=this;if(!(this instanceof ia))return new ia(b,a);this.options=a=a?g(a):{};g($f,a,!1);he(a);var c=a.value;"string"==typeof c&&(c=new Ia(c,a.mode,null,a.lineSeparator,a.direction));this.doc=c;var d=new ia.inputStyles[a.inputStyle](this);
b=this.display=new P(b,c,d);b.wrapper.CodeMirror=this;ff(this);Zf(this);a.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");bf(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Tb,keySeq:null,specialChars:null};a.autofocus&&!pc&&b.input.focus();W&&11>fa&&setTimeout(function(){return e.display.input.reset(!0)},20);bh(this);ag||(Jg(),ag=!0);Qb(this);
this.curOp.forceUpdate=!0;mf(this,c);a.autofocus&&!pc||this.hasFocus()?setTimeout(G(ae,this),20):Fc(this);for(var f in Fd)if(Fd.hasOwnProperty(f))Fd[f](e,a[f],nc);Ye(this);a.finishInit&&a.finishInit(this);for(c=0;c<we.length;++c)we[c](e);Rb(this);za&&a.lineWrapping&&"optimizelegibility"==getComputedStyle(b.lineDiv).textRendering&&(b.lineDiv.style.textRendering="auto")}function bh(b){function a(){d.activeTouch&&(f=setTimeout(function(){return d.activeTouch=null},1E3),m=d.activeTouch,m.end=+new Date)}
function c(b,a){if(null==a.left)return!0;var e=a.left-b.left;b=a.top-b.top;return 400<e*e+b*b}var d=b.display;K(d.scroller,"mousedown",ua(b,Wf));W&&11>fa?K(d.scroller,"dblclick",ua(b,function(a){if(!Z(b,a)){var e=Nb(b,a);!e||Ed(b,a,"gutterClick",!0)||tb(b.display,a)||(da(a),a=b.findWordAt(e),yd(b.doc,a.anchor,a.head))}})):K(d.scroller,"dblclick",function(a){return Z(b,a)||da(a)});ue||K(d.scroller,"contextmenu",function(a){return Xf(b,a)});var f,m={end:0};K(d.scroller,"touchstart",function(a){var e;
if(e=!Z(b,a))1!=a.touches.length?e=!1:(e=a.touches[0],e=1>=e.radiusX&&1>=e.radiusY),e=!e;e&&!Ed(b,a,"gutterClick",!0)&&(d.input.ensurePolled(),clearTimeout(f),e=+new Date,d.activeTouch={start:e,moved:!1,prev:300>=e-m.end?m:null},1==a.touches.length&&(d.activeTouch.left=a.touches[0].pageX,d.activeTouch.top=a.touches[0].pageY))});K(d.scroller,"touchmove",function(){d.activeTouch&&(d.activeTouch.moved=!0)});K(d.scroller,"touchend",function(e){var h=d.activeTouch;if(h&&!tb(d,e)&&null!=h.left&&!h.moved&&
300>new Date-h.start){var f=b.coordsChar(d.activeTouch,"page");h=!h.prev||c(h,h.prev)?new X(f,f):!h.prev.prev||c(h,h.prev.prev)?b.findWordAt(f):new X(C(f.line,0),M(b.doc,C(f.line+1,0)));b.setSelection(h.anchor,h.head);b.focus();da(e)}a()});K(d.scroller,"touchcancel",a);K(d.scroller,"scroll",function(){d.scroller.clientHeight&&(Hc(b,d.scroller.scrollTop),Pb(b,d.scroller.scrollLeft,!0),T(b,"scroll",b))});K(d.scroller,"mousewheel",function(a){return hf(b,a)});K(d.scroller,"DOMMouseScroll",function(a){return hf(b,
a)});K(d.wrapper,"scroll",function(){return d.wrapper.scrollTop=d.wrapper.scrollLeft=0});d.dragFunctions={enter:function(a){Z(b,a)||Wa(a)},over:function(a){if(!Z(b,a)){var e=Nb(b,a);if(e){var c=document.createDocumentFragment();Te(b,e,c);b.display.dragCursor||(b.display.dragCursor=r("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),b.display.lineSpace.insertBefore(b.display.dragCursor,b.display.cursorDiv));y(b.display.dragCursor,c)}Wa(a)}},start:function(a){if(W&&(!b.state.draggingText||100>
+new Date-Jf))Wa(a);else if(!Z(b,a)&&!tb(b.display,a)&&(a.dataTransfer.setData("Text",b.getSelection()),a.dataTransfer.effectAllowed="copyMove",a.dataTransfer.setDragImage&&!bg)){var e=r("img",null,null,"position: fixed; left: 0; top: 0;");e.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";fb&&(e.width=e.height=1,b.display.wrapper.appendChild(e),e._top=e.offsetTop);a.dataTransfer.setDragImage(e,0,0);fb&&e.parentNode.removeChild(e)}},drop:ua(b,Ig),leave:function(a){Z(b,
a)||If(b)}};var g=d.input.getField();K(g,"keyup",function(a){return Uf.call(b,a)});K(g,"keydown",ua(b,Tf));K(g,"keypress",ua(b,Vf));K(g,"focus",function(a){return ae(b,a)});K(g,"blur",function(a){return Fc(b,a)})}function Xc(b,e,c,d){var h=b.doc,f;null==c&&(c="add");"smart"==c&&(h.mode.indent?f=qb(b,e).state:c="prev");var q=b.options.tabSize,g=F(h,e),l=a(g.text,null,q);g.stateAfter&&(g.stateAfter=null);var x=g.text.match(/^\s*/)[0];if(!d&&!/\S/.test(g.text)){var n=0;c="not"}else if("smart"==c&&(n=
h.mode.indent(f,g.text.slice(x.length),g.text),n==Dd||150<n)){if(!d)return;c="prev"}"prev"==c?n=e>h.first?a(F(h,e-1).text,null,q):0:"add"==c?n=l+b.options.indentUnit:"subtract"==c?n=l-b.options.indentUnit:"number"==typeof c&&(n=l+c);n=Math.max(0,n);c="";d=0;if(b.options.indentWithTabs)for(b=Math.floor(n/q);b;--b)d+=q,c+="\t";d<n&&(c+=m(n-d));if(c!=x)return jc(h,c,C(e,0),C(e,x.length),"+input"),g.stateAfter=null,!0;for(q=0;q<h.sel.ranges.length;q++)if(g=h.sel.ranges[q],g.head.line==e&&g.head.ch<x.length){e=
C(e,x.length);ne(h,q,new X(e,e));break}}function xe(b,a,c,d,f){var e=b.doc;b.display.shift=!1;d||(d=e.sel);var h=b.state.pasteIncoming||"paste"==f,q=ye(a),m=null;if(h&&1<d.ranges.length)if(Ra&&Ra.text.join("\n")==a){if(0==d.ranges.length%Ra.text.length){m=[];for(var v=0;v<Ra.text.length;v++)m.push(e.splitLines(Ra.text[v]))}}else q.length==d.ranges.length&&b.options.pasteLinesPerSelection&&(m=O(q,function(b){return[b]}));for(v=d.ranges.length-1;0<=v;v--){var g=d.ranges[v];var l=g.from(),x=g.to();g.empty()&&
(c&&0<c?l=C(l.line,l.ch-c):b.state.overwrite&&!h?x=C(x.line,Math.min(F(e,x.line).text.length,x.ch+L(q).length)):Ra&&Ra.lineWise&&Ra.text.join("\n")==a&&(l=x=C(l.line,0)));g=b.curOp.updateInput;l={from:l,to:x,text:m?m[v%m.length]:q,origin:f||(h?"paste":b.state.cutIncoming?"cut":"+input")};ic(b.doc,l);ra(b,"inputRead",b,l)}a&&!h&&cg(b,a);dc(b);b.curOp.updateInput=g;b.curOp.typing=!0;b.state.pasteIncoming=b.state.cutIncoming=!1}function dg(b,a){var e=b.clipboardData&&b.clipboardData.getData("Text");
if(e)return b.preventDefault(),a.isReadOnly()||a.options.disableInput||Qa(a,function(){return xe(a,e,0,null,"paste")}),!0}function cg(b,a){if(b.options.electricChars&&b.options.smartIndent)for(var e=b.doc.sel,c=e.ranges.length-1;0<=c;c--){var d=e.ranges[c];if(!(100<d.head.ch||c&&e.ranges[c-1].head.line==d.head.line)){var f=b.getModeAt(d.head),m=!1;if(f.electricChars)for(var g=0;g<f.electricChars.length;g++){if(-1<a.indexOf(f.electricChars.charAt(g))){m=Xc(b,d.head.line,"smart");break}}else f.electricInput&&
f.electricInput.test(F(b.doc,d.head.line).text.slice(0,d.head.ch))&&(m=Xc(b,d.head.line,"smart"));m&&ra(b,"electricInput",b,d.head.line)}}}function eg(b){for(var a=[],c=[],d=0;d<b.doc.sel.ranges.length;d++){var f=b.doc.sel.ranges[d].head.line;f={anchor:C(f,0),head:C(f+1,0)};c.push(f);a.push(b.getRange(f.anchor,f.head))}return{text:a,ranges:c}}function fg(b,a){b.setAttribute("autocorrect","off");b.setAttribute("autocapitalize","off");b.setAttribute("spellcheck",!!a)}function gg(){var b=r("textarea",
null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),a=r("div",[b],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");za?b.style.width="1000px":b.setAttribute("wrap","off");Yc&&(b.style.border="1px solid black");fg(b);return a}function ze(b,a,c,d,f){function e(e){var d=f?Ng(b.cm,m,a,c):qe(m,a,c);if(null==d){if(e=!e)e=a.line+c,e<b.first||e>=b.first+b.size?e=!1:(a=new C(e,a.ch,a.sticky),e=m=F(b,e));if(e)a=re(f,b.cm,m,a.line,c);else return!1}else a=
d;return!0}var h=a,q=c,m=F(b,a.line);if("char"==d)e();else if("column"==d)e(!0);else if("word"==d||"group"==d){var v=null;d="group"==d;for(var g=b.cm&&b.cm.getHelper(a,"wordChars"),l=!0;!(0>c)||e(!l);l=!1){var x=m.text.charAt(a.ch)||"\n";x=u(x,g)?"w":d&&"\n"==x?"n":!d||/\s/.test(x)?null:"p";!d||l||x||(x="s");if(v&&v!=x){0>c&&(c=1,e(),a.sticky="after");break}x&&(v=x);if(0<c&&!e(!l))break}}q=oe(b,a,h,q,!0);nb(h,q)&&(q.hitSide=!0);return q}function hg(b,a,c,d){var e=b.doc,h=a.left;if("page"==d){var f=
Math.max(Math.min(b.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight)-.5*Lb(b.display),3);f=(0<c?a.bottom:a.top)+c*f}else"line"==d&&(f=0<c?a.bottom+3:a.top-3);for(;;){a=Wd(b,h,f);if(!a.outside)break;if(0>c?0>=f:f>=e.height){a.hitSide=!0;break}f+=5*c}return a}function ig(b,a){var e=Qd(b,a.line);if(!e||e.hidden)return null;var c=F(b.doc,a.line);e=Ge(e,c,a.line);b=Ga(c,b.doc.direction);c="left";b&&(c=ab(b,a.ch)%2?"right":"left");a=He(e.map,a.ch,c);a.offset="right"==
a.collapse?a.end:a.start;return a}function ch(b){for(;b;b=b.parentNode)if(/CodeMirror-gutter-wrapper/.test(b.className))return!0;return!1}function oc(b,a){a&&(b.bad=!0);return b}function dh(b,a,c,d,f){function e(b){return function(a){return a.id==b}}function h(b){b&&(v&&(m+=g,v=!1),m+=b)}function q(a){if(1==a.nodeType){var c=a.getAttribute("cm-text");if(null!=c)h(c||a.textContent.replace(/\u200b/g,""));else{c=a.getAttribute("cm-marker");var l;if(c)a=b.findMarks(C(d,0),C(f+1,0),e(+c)),a.length&&(l=
a[0].find(0))&&h(ya(b.doc,l.from,l.to).join(g));else if("false"!=a.getAttribute("contenteditable")){(l=/^(pre|div|p)$/i.test(a.nodeName))&&v&&(m+=g,v=!1);for(c=0;c<a.childNodes.length;c++)q(a.childNodes[c]);l&&(v=!0)}}}else 3==a.nodeType&&h(a.nodeValue)}for(var m="",v=!1,g=b.doc.lineSeparator();;){q(a);if(a==c)break;a=a.nextSibling}return m}function Gd(b,a,c){if(a==b.display.lineDiv){var e=b.display.lineDiv.childNodes[c];if(!e)return oc(b.clipPos(C(b.display.viewTo-1)),!0);a=null;c=0}else for(e=a;;e=
e.parentNode){if(!e||e==b.display.lineDiv)return null;if(e.parentNode&&e.parentNode==b.display.lineDiv)break}for(var d=0;d<b.display.view.length;d++){var f=b.display.view[d];if(f.node==e)return eh(f,a,c)}}function eh(a,e,c){function b(b,e,c){for(var d=-1;d<(l?l.length:0);d++)for(var h=0>d?g.map:l[d],f=0;f<h.length;f+=3){var q=h[f+2];if(q==b||q==e){e=N(0>d?a.line:a.rest[d]);d=h[f]+c;if(0>c||q!=b)d=h[f+(c?1:0)];return C(e,d)}}}var d=a.text.firstChild,f=!1;if(!e||!n(d,e))return oc(C(N(a.line),0),!0);
if(e==d&&(f=!0,e=d.childNodes[c],c=0,!e))return c=a.rest?L(a.rest):a.line,oc(C(N(c),c.text.length),f);var q=3==e.nodeType?e:null,m=e;q||1!=e.childNodes.length||3!=e.firstChild.nodeType||(q=e.firstChild,c&&(c=q.nodeValue.length));for(;m.parentNode!=d;)m=m.parentNode;var g=a.measure,l=g.maps;if(e=b(q,m,c))return oc(e,f);d=m.nextSibling;for(q=q?q.nodeValue.length-c:0;d;d=d.nextSibling){if(e=b(d,d.firstChild,0))return oc(C(e.line,e.ch-q),f);q+=d.textContent.length}for(m=m.previousSibling;m;m=m.previousSibling){if(e=
b(m,m.firstChild,-1))return oc(C(e.line,e.ch+c),f);c+=m.textContent.length}}var Da=navigator.userAgent,jg=navigator.platform,vb=/gecko\/\d/i.test(Da),kg=/MSIE \d/.test(Da),lg=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Da),Zc=/Edge\/(\d+)/.exec(Da),W=kg||lg||Zc,fa=W&&(kg?document.documentMode||6:+(Zc||lg)[1]),za=!Zc&&/WebKit\//.test(Da),fh=za&&/Qt\/\d+\.\d+/.test(Da),md=!Zc&&/Chrome\//.test(Da),fb=/Opera\//.test(Da),bg=/Apple Computer/.test(navigator.vendor),gh=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(Da),
xg=/PhantomJS/.test(Da),Yc=!Zc&&/AppleWebKit/.test(Da)&&/Mobile\/\w+/.test(Da),nd=/Android/.test(Da),pc=Yc||nd||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(Da),cb=Yc||/Mac/.test(jg),Vg=/\bCrOS\b/.test(Da),hh=/win/i.test(jg),Ub=fb&&Da.match(/Version\/(\d*\.\d*)/);Ub&&(Ub=Number(Ub[1]));Ub&&15<=Ub&&(fb=!1,za=!0);var Nf=cb&&(fh||fb&&(null==Ub||12.11>Ub)),ue=vb||W&&9<=fa,Ob=function(a,e){var b=a.className;if(e=k(e).exec(b)){var c=b.slice(e.index+e[0].length);a.className=b.slice(0,e.index)+
(c?e[1]+c:"")}};var zc=document.createRange?function(a,e,c,d){var b=document.createRange();b.setEnd(d||a,c);b.setStart(a,e);return b}:function(a,e,c){var b=document.body.createTextRange();try{b.moveToElementText(a.parentNode)}catch(v){return b}b.collapse(!0);b.moveEnd("character",c);b.moveStart("character",e);return b};var $c=function(a){a.select()};Yc?$c=function(a){a.selectionStart=0;a.selectionEnd=a.value.length}:W&&($c=function(a){try{a.select()}catch(e){}});var Tb=function(){this.id=null};Tb.prototype.set=
function(a,e){clearTimeout(this.id);this.id=setTimeout(e,a)};var Dd={toString:function(){return"CodeMirror.Pass"}},mb={scroll:!1},ve={origin:"*mouse"},ad={origin:"+move"},fd=[""],mg=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,ng=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,
Af=!1,xb=!1,qc=null,og=function(){function a(a){return 247>=a?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(a):1424<=a&&1524>=a?"R":1536<=a&&1785>=a?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(a-
1536):1774<=a&&2220>=a?"r":8192<=a&&8203>=a?"w":8204==a?"b":"L"}function e(a,b,e){this.level=a;this.from=b;this.to=e}var c=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,d=/[stwN]/,f=/[LRr]/,m=/[Lb1n]/,g=/[1n]/;return function(b,h){var q="ltr"==h?"L":"R";if(0==b.length||"ltr"==h&&!c.test(b))return!1;for(var v=b.length,l=[],x=0;x<v;++x)l.push(a(b.charCodeAt(x)));x=0;for(var n=q;x<v;++x){var p=l[x];"m"==p?l[x]=n:n=p}x=0;for(n=q;x<v;++x)p=l[x],"1"==p&&"r"==n?l[x]="n":f.test(p)&&(n=p,"r"==p&&(l[x]="R"));
x=1;for(n=l[0];x<v-1;++x)p=l[x],"+"==p&&"1"==n&&"1"==l[x+1]?l[x]="1":","!=p||n!=l[x+1]||"1"!=n&&"n"!=n||(l[x]=n),n=p;for(x=0;x<v;++x)if(n=l[x],","==n)l[x]="N";else if("%"==n){for(n=x+1;n<v&&"%"==l[n];++n);for(p=x&&"!"==l[x-1]||n<v&&"1"==l[n]?"1":"N";x<n;++x)l[x]=p;x=n-1}x=0;for(n=q;x<v;++x)p=l[x],"L"==n&&"1"==p?l[x]="L":f.test(p)&&(n=p);for(n=0;n<v;++n)if(d.test(l[n])){for(x=n+1;x<v&&d.test(l[x]);++x);p="L"==(n?l[n-1]:q);for(p=p==("L"==(x<v?l[x]:q))?p?"L":"R":q;n<x;++n)l[n]=p;n=x-1}q=[];var k;for(x=
0;x<v;)if(m.test(l[x])){n=x;for(++x;x<v&&m.test(l[x]);++x);q.push(new e(0,n,x))}else{var w=x;n=q.length;for(++x;x<v&&"L"!=l[x];++x);for(p=w;p<x;)if(g.test(l[p])){w<p&&q.splice(n,0,new e(1,w,p));w=p;for(++p;p<x&&g.test(l[p]);++p);q.splice(n,0,new e(2,w,p));w=p}else++p;w<x&&q.splice(n,0,new e(1,w,x))}"ltr"==h&&(1==q[0].level&&(k=b.match(/^\s+/))&&(q[0].from=k[0].length,q.unshift(new e(0,0,k[0].length))),1==L(q).level&&(k=b.match(/\s+$/))&&(L(q).to-=k[0].length,q.push(new e(0,v-k[0].length,v))));return"rtl"==
h?q.reverse():q}}(),gd=[],K=function(a,e,c){a.addEventListener?a.addEventListener(e,c,!1):a.attachEvent?a.attachEvent("on"+e,c):(a=a._handlers||(a._handlers={}),a[e]=(a[e]||gd).concat(c))},Wg=function(){if(W&&9>fa)return!1;var a=r("div");return"draggable"in a||"dragDrop"in a}(),Id,Ld,ye=3!="\n\nb".split(/\n/).length?function(a){for(var b=0,c=[],d=a.length;b<=d;){var f=a.indexOf("\n",b);-1==f&&(f=a.length);var m=a.slice(b,"\r"==a.charAt(f-1)?f-1:f),g=m.indexOf("\r");-1!=g?(c.push(m.slice(0,g)),b+=
g+1):(c.push(m),b=f+1)}return c}:function(a){return a.split(/\r\n?|\n/)},ih=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(e){return!1}}:function(a){try{var b=a.ownerDocument.selection.createRange()}catch(q){}return b&&b.parentElement()==a?0!=b.compareEndPoints("StartToEnd",b):!1},Qg=function(){var a=r("div");if("oncopy"in a)return!0;a.setAttribute("oncopy","return;");return"function"==typeof a.oncopy}(),Sd=null,Jd={},Yb={},Zb={},pa=function(a,e,c){this.pos=this.start=
0;this.string=a;this.tabSize=e||8;this.lineStart=this.lastColumnPos=this.lastColumnValue=0;this.lineOracle=c};pa.prototype.eol=function(){return this.pos>=this.string.length};pa.prototype.sol=function(){return this.pos==this.lineStart};pa.prototype.peek=function(){return this.string.charAt(this.pos)||void 0};pa.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)};pa.prototype.eat=function(a){var b=this.string.charAt(this.pos);if("string"==typeof a?b==a:b&&
(a.test?a.test(b):a(b)))return++this.pos,b};pa.prototype.eatWhile=function(a){for(var b=this.pos;this.eat(a););return this.pos>b};pa.prototype.eatSpace=function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a};pa.prototype.skipToEnd=function(){this.pos=this.string.length};pa.prototype.skipTo=function(a){a=this.string.indexOf(a,this.pos);if(-1<a)return this.pos=a,!0};pa.prototype.backUp=function(a){this.pos-=a};pa.prototype.column=function(){this.lastColumnPos<
this.start&&(this.lastColumnValue=a(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start);return this.lastColumnValue-(this.lineStart?a(this.string,this.lineStart,this.tabSize):0)};pa.prototype.indentation=function(){return a(this.string,null,this.tabSize)-(this.lineStart?a(this.string,this.lineStart,this.tabSize):0)};pa.prototype.match=function(a,e,c){if("string"==typeof a){var b=function(a){return c?a.toLowerCase():a},d=this.string.substr(this.pos,
a.length);if(b(d)==b(a))return!1!==e&&(this.pos+=a.length),!0}else{if((a=this.string.slice(this.pos).match(a))&&0<a.index)return null;a&&!1!==e&&(this.pos+=a[0].length);return a}};pa.prototype.current=function(){return this.string.slice(this.start,this.pos)};pa.prototype.hideFirstChars=function(a,e){this.lineStart+=a;try{return e()}finally{this.lineStart-=a}};pa.prototype.lookAhead=function(a){var b=this.lineOracle;return b&&b.lookAhead(a)};pa.prototype.baseToken=function(){var a=this.lineOracle;
return a&&a.baseToken(this.pos)};var jd=function(a,e){this.state=a;this.lookAhead=e},jb=function(a,e,c,d){this.state=e;this.doc=a;this.line=c;this.maxLookAhead=d||0;this.baseTokens=null;this.baseTokenPos=1};jb.prototype.lookAhead=function(a){var b=this.doc.getLine(this.line+a);null!=b&&a>this.maxLookAhead&&(this.maxLookAhead=a);return b};jb.prototype.baseToken=function(a){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=a;)this.baseTokenPos+=2;var b=this.baseTokens[this.baseTokenPos+
1];return{type:b&&b.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-a}};jb.prototype.nextLine=function(){this.line++;0<this.maxLookAhead&&this.maxLookAhead--};jb.fromSaved=function(a,e,c){return e instanceof jd?new jb(a,ib(a.mode,e.state),c,e.lookAhead):new jb(a,ib(a.mode,e),c)};jb.prototype.save=function(a){a=!1!==a?ib(this.doc.mode,this.state):this.state;return 0<this.maxLookAhead?new jd(a,this.maxLookAhead):a};var Ae=function(a,e,c){this.start=a.start;this.end=a.pos;this.string=
a.current();this.type=e||null;this.state=c},fc=function(a,e,c){this.text=a;wb(this,e);this.height=c?c(this):1};fc.prototype.lineNo=function(){return N(this)};Va(fc);var qg={},pg={},cc=null,Ac=null,Ie={left:0,right:0,top:0,bottom:0},Mb,Vb=function(a,e,c){this.cm=c;var b=this.vert=r("div",[r("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),d=this.horiz=r("div",[r("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");a(b);a(d);K(b,"scroll",function(){b.clientHeight&&e(b.scrollTop,
"vertical")});K(d,"scroll",function(){d.clientWidth&&e(d.scrollLeft,"horizontal")});this.checkedZeroWidth=!1;W&&8>fa&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Vb.prototype.update=function(a){var b=a.scrollWidth>a.clientWidth+1,c=a.scrollHeight>a.clientHeight+1,d=a.nativeBarWidth;c?(this.vert.style.display="block",this.vert.style.bottom=b?d+"px":"0",this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+(a.viewHeight-(b?d:0)))+"px"):(this.vert.style.display=
"",this.vert.firstChild.style.height="0");b?(this.horiz.style.display="block",this.horiz.style.right=c?d+"px":"0",this.horiz.style.left=a.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,a.scrollWidth-a.clientWidth+(a.viewWidth-a.barLeft-(c?d:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0");!this.checkedZeroWidth&&0<a.clientHeight&&(0==d&&this.zeroWidthHack(),this.checkedZeroWidth=!0);return{right:c?d:0,bottom:b?d:0}};Vb.prototype.setScrollLeft=function(a){this.horiz.scrollLeft!=
a&&(this.horiz.scrollLeft=a);this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")};Vb.prototype.setScrollTop=function(a){this.vert.scrollTop!=a&&(this.vert.scrollTop=a);this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")};Vb.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=cb&&!gh?"12px":"18px";this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none";this.disableHoriz=new Tb;this.disableVert=new Tb};Vb.prototype.enableZeroWidthBar=
function(a,e,c){function b(){var d=a.getBoundingClientRect();("vert"==c?document.elementFromPoint(d.right-1,(d.top+d.bottom)/2):document.elementFromPoint((d.right+d.left)/2,d.bottom-1))!=a?a.style.pointerEvents="none":e.set(1E3,b)}a.style.pointerEvents="auto";e.set(1E3,b)};Vb.prototype.clear=function(){var a=this.horiz.parentNode;a.removeChild(this.horiz);a.removeChild(this.vert)};var bd=function(){};bd.prototype.update=function(){return{bottom:0,right:0}};bd.prototype.setScrollLeft=function(){};
bd.prototype.setScrollTop=function(){};bd.prototype.clear=function(){};var cf={"native":Vb,"null":bd},wg=0,td=function(a,e,c){var b=a.display;this.viewport=e;this.visible=be(b,a.doc,e);this.editorIsHidden=!b.wrapper.offsetWidth;this.wrapperHeight=b.wrapper.clientHeight;this.wrapperWidth=b.wrapper.clientWidth;this.oldDisplayWidth=Ib(a);this.force=c;this.dims=Rd(a);this.events=[]};td.prototype.signal=function(a,e){Oa(a,e)&&this.events.push(arguments)};td.prototype.finish=function(){for(var a=0;a<this.events.length;a++)T.apply(null,
this.events[a])};var vd=0,Xa=null;W?Xa=-.53:vb?Xa=15:md?Xa=-.7:bg&&(Xa=-1/3);var Ya=function(a,e){this.ranges=a;this.primIndex=e};Ya.prototype.primary=function(){return this.ranges[this.primIndex]};Ya.prototype.equals=function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var b=0;b<this.ranges.length;b++){var c=this.ranges[b],d=a.ranges[b];if(!nb(c.anchor,d.anchor)||!nb(c.head,d.head))return!1}return!0};Ya.prototype.deepCopy=function(){for(var a=
[],e=0;e<this.ranges.length;e++)a[e]=new X(ob(this.ranges[e].anchor),ob(this.ranges[e].head));return new Ya(a,this.primIndex)};Ya.prototype.somethingSelected=function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1};Ya.prototype.contains=function(a,e){e||(e=a);for(var b=0;b<this.ranges.length;b++){var c=this.ranges[b];if(0<=J(e,c.from())&&0>=J(a,c.to()))return b}return-1};var X=function(a,e){this.anchor=a;this.head=e};X.prototype.from=function(){return $a(this.anchor,
this.head)};X.prototype.to=function(){return Za(this.anchor,this.head)};X.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};Nc.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,e){for(var b=a,c=a+e;b<c;++b){var d=this.lines[b];this.height-=d.height;var f=d;f.parent=null;La(f);ra(d,"delete")}this.lines.splice(a,e)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,e,c){this.height+=c;this.lines=this.lines.slice(0,
a).concat(e).concat(this.lines.slice(a));for(a=0;a<e.length;++a)e[a].parent=this},iterN:function(a,e,c){for(e=a+e;a<e;++a)if(c(this.lines[a]))return!0}};Oc.prototype={chunkSize:function(){return this.size},removeInner:function(a,e){this.size-=e;for(var b=0;b<this.children.length;++b){var c=this.children[b],d=c.chunkSize();if(a<d){var f=Math.min(e,d-a),m=c.height;c.removeInner(a,f);this.height-=m-c.height;d==f&&(this.children.splice(b--,1),c.parent=null);if(0==(e-=f))break;a=0}else a-=d}25>this.size-
e&&(1<this.children.length||!(this.children[0]instanceof Nc))&&(a=[],this.collapse(a),this.children=[new Nc(a)],this.children[0].parent=this)},collapse:function(a){for(var b=0;b<this.children.length;++b)this.children[b].collapse(a)},insertInner:function(a,e,c){this.size+=e.length;this.height+=c;for(var b=0;b<this.children.length;++b){var d=this.children[b],f=d.chunkSize();if(a<=f){d.insertInner(a,e,c);if(d.lines&&50<d.lines.length){for(e=a=d.lines.length%25+25;e<d.lines.length;)c=new Nc(d.lines.slice(e,
e+=25)),d.height-=c.height,this.children.splice(++b,0,c),c.parent=this;d.lines=d.lines.slice(0,a);this.maybeSpill()}break}a-=f}},maybeSpill:function(){if(!(10>=this.children.length)){var a=this;do{var e=a.children.splice(a.children.length-5,5);e=new Oc(e);if(a.parent){a.size-=e.size;a.height-=e.height;var d=c(a.parent.children,a);a.parent.children.splice(d+1,0,e)}else d=new Oc(a.children),d.parent=a,a.children=[d,e],a=d;e.parent=a.parent}while(10<a.children.length);a.parent.maybeSpill()}},iterN:function(a,
e,c){for(var b=0;b<this.children.length;++b){var d=this.children[b],f=d.chunkSize();if(a<f){f=Math.min(e,f-a);if(d.iterN(a,f,c))return!0;if(0==(e-=f))break;a=0}else a-=f}}};var Pc=function(a,e,c){if(c)for(var b in c)c.hasOwnProperty(b)&&(this[b]=c[b]);this.doc=a;this.node=e};Pc.prototype.clear=function(){var a=this.doc.cm,e=this.line.widgets,c=this.line,d=N(c);if(null!=d&&e){for(var f=0;f<e.length;++f)e[f]==this&&e.splice(f--,1);e.length||(c.widgets=null);var m=Bc(this);wa(c,Math.max(0,c.height-m));
a&&(Qa(a,function(){var b=-m;qa(c)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&rd(a,b);Bb(a,d,"widget")}),ra(a,"lineWidgetCleared",a,this,d))}};Pc.prototype.changed=function(){var a=this,e=this.height,c=this.doc.cm,d=this.line;this.height=null;var f=Bc(this)-e;f&&(wa(d,d.height+f),c&&Qa(c,function(){c.curOp.forceUpdate=!0;qa(d)<(c.curOp&&c.curOp.scrollTop||c.doc.scrollTop)&&rd(c,f);ra(c,"lineWidgetChanged",c,a,N(d))}))};Va(Pc);var Gf=0,Db=function(a,e){this.lines=[];this.type=e;this.doc=a;this.id=
++Gf};Db.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,e=a&&!a.curOp;e&&Qb(a);if(Oa(this,"clear")){var c=this.find();c&&ra(this,"clear",c.from,c.to)}for(var d=c=null,f=0;f<this.lines.length;++f){var m=this.lines[f],g=Aa(m.markedSpans,this);a&&!this.collapsed?Bb(a,N(m),"text"):a&&(null!=g.to&&(d=N(m)),null!=g.from&&(c=N(m)));for(var l=m,x=void 0,n=m.markedSpans,p=g,k=0;k<n.length;++k)n[k]!=p&&(x||(x=[])).push(n[k]);l.markedSpans=x;null==g.from&&this.collapsed&&!oa(this.doc,
m)&&a&&wa(m,Lb(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(f=0;f<this.lines.length;++f)m=Ba(this.lines[f]),g=Ua(m),g>a.display.maxLineLength&&(a.display.maxLine=m,a.display.maxLineLength=g,a.display.maxLineChanged=!0);null!=c&&a&&this.collapsed&&Ha(a,c,d+1);this.lines.length=0;this.explicitlyCleared=!0;this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&wf(a.doc));a&&ra(a,"markerCleared",a,this,c,d);e&&Rb(a);this.parent&&this.parent.clear()}};Db.prototype.find=function(a,e){null==
a&&"bookmark"==this.type&&(a=1);for(var b,c,d=0;d<this.lines.length;++d){var f=this.lines[d],m=Aa(f.markedSpans,this);if(null!=m.from&&(b=C(e?f:N(f),m.from),-1==a))return b;if(null!=m.to&&(c=C(e?f:N(f),m.to),1==a))return c}return b&&{from:b,to:c}};Db.prototype.changed=function(){var a=this,e=this.find(-1,!0),c=this,d=this.doc.cm;e&&d&&Qa(d,function(){var b=e.line,h=N(e.line);if(h=Qd(d,h))Je(h),d.curOp.selectionChanged=d.curOp.forceUpdate=!0;d.curOp.updateMaxLine=!0;oa(c.doc,b)||null==c.height||(h=
c.height,c.height=null,(h=Bc(c)-h)&&wa(b,b.height+h));ra(d,"markerChanged",d,a)})};Db.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var b=this.doc.cm.curOp;b.maybeHiddenMarkers&&-1!=c(b.maybeHiddenMarkers,this)||(b.maybeUnhiddenMarkers||(b.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)};Db.prototype.detachLine=function(a){this.lines.splice(c(this.lines,a),1);!this.lines.length&&this.doc.cm&&(a=this.doc.cm.curOp,(a.maybeHiddenMarkers||(a.maybeHiddenMarkers=[])).push(this))};
Va(Db);var Qc=function(a,e){this.markers=a;this.primary=e;for(e=0;e<a.length;++e)a[e].parent=this};Qc.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();ra(this,"clear")}};Qc.prototype.find=function(a,e){return this.primary.find(a,e)};Va(Qc);var jh=0,Ia=function(a,e,c,d,f){if(!(this instanceof Ia))return new Ia(a,e,c,d,f);null==c&&(c=0);Oc.call(this,[new Nc([new fc("",null)])]);this.first=c;this.scrollTop=
this.scrollLeft=0;this.cantEdit=!1;this.cleanGeneration=1;this.modeFrontier=this.highlightFrontier=c;c=C(c,0);this.sel=ub(c);this.history=new wd(null);this.id=++jh;this.modeOption=e;this.lineSep=d;this.direction="rtl"==f?"rtl":"ltr";this.extend=!1;"string"==typeof a&&(a=this.splitLines(a));ke(this,{from:c,to:c,text:a});xa(this,ub(c),mb)};Ia.prototype=B(Oc.prototype,{constructor:Ia,iter:function(a,e,c){c?this.iterN(a-this.first,e-a,c):this.iterN(this.first,this.first+this.size,a)},insert:function(a,
e){for(var b=0,c=0;c<e.length;++c)b+=e[c].height;this.insertInner(a-this.first,e,b)},remove:function(a,e){this.removeInner(a-this.first,e)},getValue:function(a){var b=Ea(this,this.first,this.first+this.size);return!1===a?b:b.join(a||this.lineSeparator())},setValue:va(function(a){var b=C(this.first,0),c=this.first+this.size-1;ic(this,{from:b,to:C(c,F(this,c).text.length),text:this.splitLines(a),origin:"setValue",full:!0},!0);this.cm&&Gc(this.cm,0,0);xa(this,ub(b),mb)}),replaceRange:function(a,e,c,
d){e=M(this,e);c=c?M(this,c):e;jc(this,a,e,c,d)},getRange:function(a,e,c){a=ya(this,M(this,a),M(this,e));return!1===c?a:a.join(c||this.lineSeparator())},getLine:function(a){return(a=this.getLineHandle(a))&&a.text},getLineHandle:function(a){if(ta(this,a))return F(this,a)},getLineNumber:function(a){return N(a)},getLineHandleVisualStart:function(a){"number"==typeof a&&(a=F(this,a));return Ba(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+
this.size-1},clipPos:function(a){return M(this,a)},getCursor:function(a){var b=this.sel.primary();return null==a||"head"==a?b.head:"anchor"==a?b.anchor:"end"==a||"to"==a||!1===a?b.to():b.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:va(function(a,e,c){a=M(this,"number"==typeof a?C(a,e||0):a);xa(this,ub(a,null),c)}),setSelection:va(function(a,e,c){var b=M(this,a);a=M(this,e||a);xa(this,ub(b,a),c)}),extendSelection:va(function(a,
e,c){yd(this,M(this,a),e&&M(this,e),c)}),extendSelections:va(function(a,e){sf(this,Ka(this,a),e)}),extendSelectionsBy:va(function(a,e){a=O(this.sel.ranges,a);sf(this,Ka(this,a),e)}),setSelections:va(function(a,e,c){if(a.length){for(var b=[],d=0;d<a.length;d++)b[d]=new X(M(this,a[d].anchor),M(this,a[d].head));null==e&&(e=Math.min(a.length-1,this.sel.primIndex));xa(this,gb(b,e),c)}}),addSelection:va(function(a,e,c){var b=this.sel.ranges.slice(0);b.push(new X(M(this,a),M(this,e||a)));xa(this,gb(b,b.length-
1),c)}),getSelection:function(a){for(var b=this.sel.ranges,c,d=0;d<b.length;d++){var f=ya(this,b[d].from(),b[d].to());c=c?c.concat(f):f}return!1===a?c:c.join(a||this.lineSeparator())},getSelections:function(a){for(var b=[],c=this.sel.ranges,d=0;d<c.length;d++){var f=ya(this,c[d].from(),c[d].to());!1!==a&&(f=f.join(a||this.lineSeparator()));b[d]=f}return b},replaceSelection:function(a,e,c){for(var b=[],d=0;d<this.sel.ranges.length;d++)b[d]=a;this.replaceSelections(b,e,c||"+input")},replaceSelections:va(function(a,
e,c){for(var b=[],d=this.sel,f=0;f<d.ranges.length;f++){var m=d.ranges[f];b[f]={from:m.from(),to:m.to(),text:this.splitLines(a[f]),origin:c}}if(a=e&&"end"!=e){a=[];d=c=C(this.first,0);for(f=0;f<b.length;f++){var g=b[f];m=kf(g.from,c,d);var q=kf(Cb(g),c,d);c=g.to;d=q;"around"==e?(g=this.sel.ranges[f],g=0>J(g.head,g.anchor),a[f]=new X(g?q:m,g?m:q)):a[f]=new X(m,m)}a=new Ya(a,this.sel.primIndex)}e=a;for(a=b.length-1;0<=a;a--)ic(this,b[a]);e?tf(this,e):this.cm&&dc(this.cm)}),undo:va(function(){Ad(this,
"undo")}),redo:va(function(){Ad(this,"redo")}),undoSelection:va(function(){Ad(this,"undo",!0)}),redoSelection:va(function(){Ad(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,e=0,c=0,d=0;d<a.done.length;d++)a.done[d].ranges||++e;for(d=0;d<a.undone.length;d++)a.undone[d].ranges||++c;return{undo:e,redo:c}},clearHistory:function(){this.history=new wd(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=
this.changeGeneration(!0)},changeGeneration:function(a){a&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null);return this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:gc(this.history.done),undone:gc(this.history.undone)}},setHistory:function(a){var b=this.history=new wd(this.history.maxGeneration);b.done=gc(a.done.slice(0),null,!0);b.undone=gc(a.undone.slice(0),null,!0)},setGutterMarker:va(function(a,
e,c){return Mc(this,a,"gutter",function(a){var b=a.gutterMarkers||(a.gutterMarkers={});b[e]=c;!c&&E(b)&&(a.gutterMarkers=null);return!0})}),clearGutter:va(function(a){var b=this;this.iter(function(e){e.gutterMarkers&&e.gutterMarkers[a]&&Mc(b,e,"gutter",function(){e.gutterMarkers[a]=null;E(e.gutterMarkers)&&(e.gutterMarkers=null);return!0})})}),lineInfo:function(a){if("number"==typeof a){if(!ta(this,a))return null;var b=a;a=F(this,a);if(!a)return null}else if(b=N(a),null==b)return null;return{line:b,
handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},addLineClass:va(function(a,e,c){return Mc(this,a,"gutter"==e?"gutter":"class",function(a){var b="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass";if(a[b]){if(k(c).test(a[b]))return!1;a[b]+=" "+c}else a[b]=c;return!0})}),removeLineClass:va(function(a,e,c){return Mc(this,a,"gutter"==e?"gutter":"class",function(a){var b="text"==e?"textClass":
"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass",d=a[b];if(d)if(null==c)a[b]=null;else{var f=d.match(k(c));if(!f)return!1;var h=f.index+f[0].length;a[b]=d.slice(0,f.index)+(f.index&&h!=d.length?" ":"")+d.slice(h)||null}else return!1;return!0})}),addLineWidget:va(function(a,e,c){return Fg(this,a,e,c)}),removeLineWidget:function(a){a.clear()},markText:function(a,e,c){return kc(this,M(this,a),M(this,e),c,c&&c.type||"range")},setBookmark:function(a,e){e={replacedWith:e&&(null==e.nodeType?
e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};a=M(this,a);return kc(this,a,a,e,"bookmark")},findMarksAt:function(a){a=M(this,a);var b=[],c=F(this,a.line).markedSpans;if(c)for(var d=0;d<c.length;++d){var f=c[d];(null==f.from||f.from<=a.ch)&&(null==f.to||f.to>=a.ch)&&b.push(f.marker.parent||f.marker)}return b},findMarks:function(a,e,c){a=M(this,a);e=M(this,e);var b=[],d=a.line;this.iter(a.line,e.line+1,function(f){if(f=f.markedSpans)for(var h=
0;h<f.length;h++){var m=f[h];null!=m.to&&d==a.line&&a.ch>=m.to||null==m.from&&d!=a.line||null!=m.from&&d==e.line&&m.from>=e.ch||c&&!c(m.marker)||b.push(m.marker.parent||m.marker)}++d});return b},getAllMarks:function(){var a=[];this.iter(function(b){if(b=b.markedSpans)for(var e=0;e<b.length;++e)null!=b[e].from&&a.push(b[e].marker)});return a},posFromIndex:function(a){var b,c=this.first,d=this.lineSeparator().length;this.iter(function(e){e=e.text.length+d;if(e>a)return b=a,!0;a-=e;++c});return M(this,
C(c,b))},indexFromPos:function(a){a=M(this,a);var b=a.ch;if(a.line<this.first||0>a.ch)return 0;var c=this.lineSeparator().length;this.iter(this.first,a.line,function(a){b+=a.text.length+c});return b},copy:function(a){var b=new Ia(Ea(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);b.scrollTop=this.scrollTop;b.scrollLeft=this.scrollLeft;b.sel=this.sel;b.extend=!1;a&&(b.history.undoDepth=this.history.undoDepth,b.setHistory(this.getHistory()));return b},linkedDoc:function(a){a||
(a={});var b=this.first,c=this.first+this.size;null!=a.from&&a.from>b&&(b=a.from);null!=a.to&&a.to<c&&(c=a.to);b=new Ia(Ea(this,b,c),a.mode||this.modeOption,b,this.lineSep,this.direction);a.sharedHist&&(b.history=this.history);(this.linked||(this.linked=[])).push({doc:b,sharedHist:a.sharedHist});b.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}];a=Hf(this);for(c=0;c<a.length;c++){var d=a[c],f=d.find(),m=b.clipPos(f.from);f=b.clipPos(f.to);J(m,f)&&(m=kc(b,m,f,d.primary,d.primary.type),d.markers.push(m),
m.parent=d)}return b},unlinkDoc:function(a){a instanceof ia&&(a=a.doc);if(this.linked)for(var b=0;b<this.linked.length;++b)if(this.linked[b].doc==a){this.linked.splice(b,1);a.unlinkDoc(this);Hg(Hf(this));break}if(a.history==this.history){var c=[a.id];Sb(a,function(a){return c.push(a.id)},!0);a.history=new wd(null);a.history.done=gc(this.history.done,c);a.history.undone=gc(this.history.undone,c)}},iterLinkedDocs:function(a){Sb(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},
splitLines:function(a){return this.lineSep?a.split(this.lineSep):ye(a)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:va(function(a){"rtl"!=a&&(a="ltr");a!=this.direction&&(this.direction=a,this.iter(function(a){return a.order=null}),this.cm&&Bg(this.cm))})});Ia.prototype.eachLine=Ia.prototype.iter;for(var Jf=0,ag=!1,Eb={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",
37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},cd=0;10>cd;cd++)Eb[cd+48]=Eb[cd+96]=String(cd);for(var Hd=65;90>=Hd;Hd++)Eb[Hd]=
String.fromCharCode(Hd);for(var dd=1;12>=dd;dd++)Eb[dd+111]=Eb[dd+63235]="F"+dd;var Rc={basic:{Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},pcDefault:{"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo",
"Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection",
"Alt-U":"redoSelection",fallthrough:"basic"},emacsy:{"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},macDefault:{"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo",
"Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft",
"Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]}};Rc["default"]=cb?Rc.macDefault:Rc.pcDefault;var Sc={selectAll:yf,singleSelection:function(a){return a.setSelection(a.getCursor("anchor"),a.getCursor("head"),mb)},killLine:function(a){return mc(a,function(b){if(b.empty()){var e=F(a.doc,b.head.line).text.length;return b.head.ch==e&&b.head.line<a.lastLine()?{from:b.head,to:C(b.head.line+
1,0)}:{from:b.head,to:C(b.head.line,e)}}return{from:b.from(),to:b.to()}})},deleteLine:function(a){return mc(a,function(b){return{from:C(b.from().line,0),to:M(a.doc,C(b.to().line+1,0))}})},delLineLeft:function(a){return mc(a,function(a){return{from:C(a.from().line,0),to:a.from()}})},delWrappedLineLeft:function(a){return mc(a,function(b){var e=a.charCoords(b.head,"div").top+5;return{from:a.coordsChar({left:0,top:e},"div"),to:b.from()}})},delWrappedLineRight:function(a){return mc(a,function(b){var e=
a.charCoords(b.head,"div").top+5;e=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:e},"div");return{from:b.from(),to:e}})},undo:function(a){return a.undo()},redo:function(a){return a.redo()},undoSelection:function(a){return a.undoSelection()},redoSelection:function(a){return a.redoSelection()},goDocStart:function(a){return a.extendSelection(C(a.firstLine(),0))},goDocEnd:function(a){return a.extendSelection(C(a.lastLine()))},goLineStart:function(a){return a.extendSelectionsBy(function(b){return Pf(a,
b.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){return a.extendSelectionsBy(function(b){return Qf(a,b.head)},{origin:"+move",bias:1})},goLineEnd:function(a){return a.extendSelectionsBy(function(b){b=b.head.line;var e=F(a.doc,b);var c=e;for(var d;d=Ma(c,!1);)c=d.find(1,!0).line;c!=e&&(b=N(c));return re(!0,a,e,b,-1)},{origin:"+move",bias:-1})},goLineRight:function(a){return a.extendSelectionsBy(function(b){b=a.cursorCoords(b.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+
100,top:b},"div")},ad)},goLineLeft:function(a){return a.extendSelectionsBy(function(b){b=a.cursorCoords(b.head,"div").top+5;return a.coordsChar({left:0,top:b},"div")},ad)},goLineLeftSmart:function(a){return a.extendSelectionsBy(function(b){var e=a.cursorCoords(b.head,"div").top+5;e=a.coordsChar({left:0,top:e},"div");return e.ch<a.getLine(e.line).search(/\S/)?Qf(a,b.head):e},ad)},goLineUp:function(a){return a.moveV(-1,"line")},goLineDown:function(a){return a.moveV(1,"line")},goPageUp:function(a){return a.moveV(-1,
"page")},goPageDown:function(a){return a.moveV(1,"page")},goCharLeft:function(a){return a.moveH(-1,"char")},goCharRight:function(a){return a.moveH(1,"char")},goColumnLeft:function(a){return a.moveH(-1,"column")},goColumnRight:function(a){return a.moveH(1,"column")},goWordLeft:function(a){return a.moveH(-1,"word")},goGroupRight:function(a){return a.moveH(1,"group")},goGroupLeft:function(a){return a.moveH(-1,"group")},goWordRight:function(a){return a.moveH(1,"word")},delCharBefore:function(a){return a.deleteH(-1,
"char")},delCharAfter:function(a){return a.deleteH(1,"char")},delWordBefore:function(a){return a.deleteH(-1,"word")},delWordAfter:function(a){return a.deleteH(1,"word")},delGroupBefore:function(a){return a.deleteH(-1,"group")},delGroupAfter:function(a){return a.deleteH(1,"group")},indentAuto:function(a){return a.indentSelection("smart")},indentMore:function(a){return a.indentSelection("add")},indentLess:function(a){return a.indentSelection("subtract")},insertTab:function(a){return a.replaceSelection("\t")},
insertSoftTab:function(b){for(var e=[],c=b.listSelections(),d=b.options.tabSize,f=0;f<c.length;f++){var g=c[f].from();g=a(b.getLine(g.line),g.ch,d);e.push(m(d-g%d))}b.replaceSelections(e)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){return Qa(a,function(){for(var b=a.listSelections(),c=[],d=0;d<b.length;d++)if(b[d].empty()){var f=b[d].head,m=F(a.doc,f.line).text;if(m)if(f.ch==m.length&&(f=new C(f.line,f.ch-1)),0<f.ch)f=
new C(f.line,f.ch+1),a.replaceRange(m.charAt(f.ch-1)+m.charAt(f.ch-2),C(f.line,f.ch-2),f,"+transpose");else if(f.line>a.doc.first){var g=F(a.doc,f.line-1).text;g&&(f=new C(f.line,1),a.replaceRange(m.charAt(0)+a.doc.lineSeparator()+g.charAt(g.length-1),C(f.line-1,g.length-1),f,"+transpose"))}c.push(new X(f,f))}a.setSelections(c)})},newlineAndIndent:function(a){return Qa(a,function(){for(var b=a.listSelections(),c=b.length-1;0<=c;c--)a.replaceRange(a.doc.lineSeparator(),b[c].anchor,b[c].head,"+input");
b=a.listSelections();for(c=0;c<b.length;c++)a.indentLine(b[c].from().line,null,!0);dc(a)})},openLine:function(a){return a.replaceSelection("\n","start")},toggleOverwrite:function(a){return a.toggleOverwrite()}},Og=new Tb,se=null,te=function(a,e,c){this.time=a;this.pos=e;this.button=c};te.prototype.compare=function(a,e,c){return this.time+400>a&&0==J(e,this.pos)&&c==this.button};var Vc,Uc,nc={toString:function(){return"CodeMirror.Init"}},$f={},Fd={};ia.defaults=$f;ia.optionHandlers=Fd;var we=[];ia.defineInitHook=
function(a){return we.push(a)};var Ra=null,aa=function(a){this.cm=a;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new Tb;this.composing=null;this.gracePeriod=!1;this.readDOMTimeout=null};aa.prototype.init=function(a){function b(a){if(!Z(f,a)){if(f.somethingSelected())Ra={lineWise:!1,text:f.getSelections()},"cut"==a.type&&f.replaceSelection("",null,"cut");else if(f.options.lineWiseCopyCut){var b=eg(f);Ra={lineWise:!0,text:b.text};"cut"==a.type&&
f.operation(function(){f.setSelections(b.ranges,0,mb);f.replaceSelection("",null,"cut")})}else return;if(a.clipboardData){a.clipboardData.clearData();var e=Ra.text.join("\n");a.clipboardData.setData("Text",e);if(a.clipboardData.getData("Text")==e){a.preventDefault();return}}var c=gg();a=c.firstChild;f.display.lineSpace.insertBefore(c,f.display.lineSpace.firstChild);a.value=Ra.text.join("\n");var h=document.activeElement;$c(a);setTimeout(function(){f.display.lineSpace.removeChild(c);h.focus();h==m&&
d.showPrimarySelection()},50)}}var c=this,d=this,f=d.cm,m=d.div=a.lineDiv;fg(m,f.options.spellcheck);K(m,"paste",function(a){Z(f,a)||dg(a,f)||11>=fa&&setTimeout(ua(f,function(){return c.updateFromDOM()}),20)});K(m,"compositionstart",function(a){c.composing={data:a.data,done:!1}});K(m,"compositionupdate",function(a){c.composing||(c.composing={data:a.data,done:!1})});K(m,"compositionend",function(a){c.composing&&(a.data!=c.composing.data&&c.readFromDOMSoon(),c.composing.done=!0)});K(m,"touchstart",
function(){return d.forceCompositionEnd()});K(m,"input",function(){c.composing||c.readFromDOMSoon()});K(m,"copy",b);K(m,"cut",b)};aa.prototype.prepareSelection=function(){var a=Se(this.cm,!1);a.focus=this.cm.state.focused;return a};aa.prototype.showSelection=function(a,e){a&&this.cm.display.view.length&&((a.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(a))};aa.prototype.showPrimarySelection=function(){var a=window.getSelection(),e=this.cm,c=e.doc.sel.primary(),d=c.from();c=c.to();
if(e.display.viewTo==e.display.viewFrom||d.line>=e.display.viewTo||c.line<e.display.viewFrom)a.removeAllRanges();else{var f=Gd(e,a.anchorNode,a.anchorOffset),m=Gd(e,a.focusNode,a.focusOffset);if(!f||f.bad||!m||m.bad||0!=J($a(f,m),d)||0!=J(Za(f,m),c))if(f=e.display.view,d=d.line>=e.display.viewFrom&&ig(e,d)||{node:f[0].measure.map[2],offset:0},c=c.line<e.display.viewTo&&ig(e,c),c||(c=f[f.length-1].measure,c=c.maps?c.maps[c.maps.length-1]:c.map,c={node:c[c.length-1],offset:c[c.length-2]-c[c.length-
3]}),d&&c){f=a.rangeCount&&a.getRangeAt(0);try{var g=zc(d.node,d.offset,c.offset,c.node)}catch(Sa){}g&&(!vb&&e.state.focused?(a.collapse(d.node,d.offset),g.collapsed||(a.removeAllRanges(),a.addRange(g))):(a.removeAllRanges(),a.addRange(g)),f&&null==a.anchorNode?a.addRange(f):vb&&this.startGracePeriod());this.rememberSelection()}else a.removeAllRanges()}};aa.prototype.startGracePeriod=function(){var a=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){a.gracePeriod=!1;a.selectionChanged()&&
a.cm.operation(function(){return a.cm.curOp.selectionChanged=!0})},20)};aa.prototype.showMultipleSelections=function(a){y(this.cm.display.cursorDiv,a.cursors);y(this.cm.display.selectionDiv,a.selection)};aa.prototype.rememberSelection=function(){var a=window.getSelection();this.lastAnchorNode=a.anchorNode;this.lastAnchorOffset=a.anchorOffset;this.lastFocusNode=a.focusNode;this.lastFocusOffset=a.focusOffset};aa.prototype.selectionInEditor=function(){var a=window.getSelection();if(!a.rangeCount)return!1;
a=a.getRangeAt(0).commonAncestorContainer;return n(this.div,a)};aa.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())};aa.prototype.blur=function(){this.div.blur()};aa.prototype.getField=function(){return this.div};aa.prototype.supportsTouch=function(){return!0};aa.prototype.receivedFocus=function(){function a(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,a))}
var e=this;this.selectionInEditor()?this.pollSelection():Qa(this.cm,function(){return e.cm.curOp.selectionChanged=!0});this.polling.set(this.cm.options.pollInterval,a)};aa.prototype.selectionChanged=function(){var a=window.getSelection();return a.anchorNode!=this.lastAnchorNode||a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=this.lastFocusNode||a.focusOffset!=this.lastFocusOffset};aa.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var a=
window.getSelection(),e=this.cm;if(nd&&md&&this.cm.options.gutters.length&&ch(a.anchorNode))this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();else if(!this.composing){this.rememberSelection();var c=Gd(e,a.anchorNode,a.anchorOffset),d=Gd(e,a.focusNode,a.focusOffset);c&&d&&Qa(e,function(){xa(e.doc,ub(c,d),mb);if(c.bad||d.bad)e.curOp.selectionChanged=!0})}}};aa.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),
this.readDOMTimeout=null);var a=this.cm,e=a.display,c=a.doc.sel.primary(),d=c.from(),f=c.to();0==d.ch&&d.line>a.firstLine()&&(d=C(d.line-1,F(a.doc,d.line-1).length));f.ch==F(a.doc,f.line).text.length&&f.line<a.lastLine()&&(f=C(f.line+1,0));if(d.line<e.viewFrom||f.line>e.viewTo-1)return!1;var m;d.line==e.viewFrom||0==(m=Jb(a,d.line))?(c=N(e.view[0].line),m=e.view[0].node):(c=N(e.view[m].line),m=e.view[m-1].node.nextSibling);var g=Jb(a,f.line);g==e.view.length-1?(f=e.viewTo-1,e=e.lineDiv.lastChild):
(f=N(e.view[g+1].line)-1,e=e.view[g+1].node.previousSibling);if(!m)return!1;e=a.doc.splitLines(dh(a,m,e,c,f));for(m=ya(a.doc,C(c,0),C(f,F(a.doc,f).text.length));1<e.length&&1<m.length;)if(L(e)==L(m))e.pop(),m.pop(),f--;else if(e[0]==m[0])e.shift(),m.shift(),c++;else break;var l=0;g=0;for(var x=e[0],n=m[0],p=Math.min(x.length,n.length);l<p&&x.charCodeAt(l)==n.charCodeAt(l);)++l;x=L(e);n=L(m);for(p=Math.min(x.length-(1==e.length?l:0),n.length-(1==m.length?l:0));g<p&&x.charCodeAt(x.length-g-1)==n.charCodeAt(n.length-
g-1);)++g;if(1==e.length&&1==m.length&&c==d.line)for(;l&&l>d.ch&&x.charCodeAt(x.length-g-1)==n.charCodeAt(n.length-g-1);)l--,g++;e[e.length-1]=x.slice(0,x.length-g).replace(/^\u200b+/,"");e[0]=e[0].slice(l).replace(/\u200b+$/,"");d=C(c,l);c=C(f,m.length?L(m).length-g:0);if(1<e.length||e[0]||J(d,c))return jc(a.doc,e,d,c,"+input"),!0};aa.prototype.ensurePolled=function(){this.forceCompositionEnd()};aa.prototype.reset=function(){this.forceCompositionEnd()};aa.prototype.forceCompositionEnd=function(){this.composing&&
(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())};aa.prototype.readFromDOMSoon=function(){var a=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){a.readDOMTimeout=null;if(a.composing)if(a.composing.done)a.composing=null;else return;a.updateFromDOM()},80))};aa.prototype.updateFromDOM=function(){var a=this;!this.cm.isReadOnly()&&this.pollContent()||Qa(this.cm,function(){return Ha(a.cm)})};aa.prototype.setUneditable=
function(a){a.contentEditable="false"};aa.prototype.onKeyPress=function(a){0!=a.charCode&&(a.preventDefault(),this.cm.isReadOnly()||ua(this.cm,xe)(this.cm,String.fromCharCode(null==a.charCode?a.keyCode:a.charCode),0))};aa.prototype.readOnlyChanged=function(a){this.div.contentEditable=String("nocursor"!=a)};aa.prototype.onContextMenu=function(){};aa.prototype.resetPosition=function(){};aa.prototype.needsContentAttribute=!0;var sa=function(a){this.cm=a;this.prevInput="";this.pollingFast=!1;this.polling=
new Tb;this.hasSelection=!1;this.composing=null};sa.prototype.init=function(a){function b(a){if(!Z(f,a)){if(f.somethingSelected())Ra={lineWise:!1,text:f.getSelections()};else if(f.options.lineWiseCopyCut){var b=eg(f);Ra={lineWise:!0,text:b.text};"cut"==a.type?f.setSelections(b.ranges,null,mb):(d.prevInput="",g.value=b.text.join("\n"),$c(g))}else return;"cut"==a.type&&(f.state.cutIncoming=!0)}}var c=this,d=this,f=this.cm,m=this.wrapper=gg(),g=this.textarea=m.firstChild;a.wrapper.insertBefore(m,a.wrapper.firstChild);
Yc&&(g.style.width="0px");K(g,"input",function(){W&&9<=fa&&c.hasSelection&&(c.hasSelection=null);d.poll()});K(g,"paste",function(a){Z(f,a)||dg(a,f)||(f.state.pasteIncoming=!0,d.fastPoll())});K(g,"cut",b);K(g,"copy",b);K(a.scroller,"paste",function(b){tb(a,b)||Z(f,b)||(f.state.pasteIncoming=!0,d.focus())});K(a.lineSpace,"selectstart",function(b){tb(a,b)||da(b)});K(g,"compositionstart",function(){var a=f.getCursor("from");d.composing&&d.composing.range.clear();d.composing={start:a,range:f.markText(a,
f.getCursor("to"),{className:"CodeMirror-composing"})}});K(g,"compositionend",function(){d.composing&&(d.poll(),d.composing.range.clear(),d.composing=null)})};sa.prototype.prepareSelection=function(){var a=this.cm,c=a.display,d=a.doc,f=Se(a);if(a.options.moveInputWithCursor){a=eb(a,d.sel.primary().head,"div");d=c.wrapper.getBoundingClientRect();var m=c.lineDiv.getBoundingClientRect();f.teTop=Math.max(0,Math.min(c.wrapper.clientHeight-10,a.top+m.top-d.top));f.teLeft=Math.max(0,Math.min(c.wrapper.clientWidth-
10,a.left+m.left-d.left))}return f};sa.prototype.showSelection=function(a){var b=this.cm.display;y(b.cursorDiv,a.cursors);y(b.selectionDiv,a.selection);null!=a.teTop&&(this.wrapper.style.top=a.teTop+"px",this.wrapper.style.left=a.teLeft+"px")};sa.prototype.reset=function(a){if(!this.contextMenuPending&&!this.composing){var b=this.cm;b.somethingSelected()?(this.prevInput="",a=b.getSelection(),this.textarea.value=a,b.state.focused&&$c(this.textarea),W&&9<=fa&&(this.hasSelection=a)):a||(this.prevInput=
this.textarea.value="",W&&9<=fa&&(this.hasSelection=null))}};sa.prototype.getField=function(){return this.textarea};sa.prototype.supportsTouch=function(){return!1};sa.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!pc||w()!=this.textarea))try{this.textarea.focus()}catch(b){}};sa.prototype.blur=function(){this.textarea.blur()};sa.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0};sa.prototype.receivedFocus=function(){this.slowPoll()};sa.prototype.slowPoll=
function(){var a=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){a.poll();a.cm.state.focused&&a.slowPoll()})};sa.prototype.fastPoll=function(){function a(){d.poll()||c?(d.pollingFast=!1,d.slowPoll()):(c=!0,d.polling.set(60,a))}var c=!1,d=this;d.pollingFast=!0;d.polling.set(20,a)};sa.prototype.poll=function(){var a=this,c=this.cm,d=this.textarea,f=this.prevInput;if(this.contextMenuPending||!c.state.focused||ih(d)&&!f&&!this.composing||c.isReadOnly()||c.options.disableInput||
c.state.keySeq)return!1;var m=d.value;if(m==f&&!c.somethingSelected())return!1;if(W&&9<=fa&&this.hasSelection===m||cb&&/[\uf700-\uf7ff]/.test(m))return c.display.input.reset(),!1;if(c.doc.sel==c.display.selForContextMenu){var g=m.charCodeAt(0);8203!=g||f||(f="\u200b");if(8666==g)return this.reset(),this.cm.execCommand("undo")}var l=0;for(g=Math.min(f.length,m.length);l<g&&f.charCodeAt(l)==m.charCodeAt(l);)++l;Qa(c,function(){xe(c,m.slice(l),f.length-l,null,a.composing?"*compose":null);1E3<m.length||
-1<m.indexOf("\n")?d.value=a.prevInput="":a.prevInput=m;a.composing&&(a.composing.range.clear(),a.composing.range=c.markText(a.composing.start,c.getCursor("to"),{className:"CodeMirror-composing"}))});return!0};sa.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)};sa.prototype.onKeyPress=function(){W&&9<=fa&&(this.hasSelection=null);this.fastPoll()};sa.prototype.onContextMenu=function(a){function b(){if(null!=g.selectionStart){var a=f.somethingSelected(),b="\u200b"+
(a?g.value:"");g.value="\u21da";g.value=b;d.prevInput=a?"":"\u200b";g.selectionStart=1;g.selectionEnd=b.length;m.selForContextMenu=f.doc.sel}}function c(){d.contextMenuPending=!1;d.wrapper.style.cssText=p;g.style.cssText=n;W&&9>fa&&m.scrollbars.setScrollTop(m.scroller.scrollTop=x);if(null!=g.selectionStart){(!W||W&&9>fa)&&b();var a=0,c=function(){m.selForContextMenu==f.doc.sel&&0==g.selectionStart&&0<g.selectionEnd&&"\u200b"==d.prevInput?ua(f,yf)(f):10>a++?m.detectingSelectAll=setTimeout(c,500):(m.selForContextMenu=
null,m.input.reset())};m.detectingSelectAll=setTimeout(c,200)}}var d=this,f=d.cm,m=f.display,g=d.textarea,l=Nb(f,a),x=m.scroller.scrollTop;if(l&&!fb){f.options.resetSelectionOnContextMenu&&-1==f.doc.sel.contains(l)&&ua(f,xa)(f.doc,ub(l),mb);var n=g.style.cssText,p=d.wrapper.style.cssText;d.wrapper.style.cssText="position: absolute";l=d.wrapper.getBoundingClientRect();g.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(a.clientY-l.top-5)+"px; left: "+(a.clientX-l.left-5)+
"px;\n      z-index: 1000; background: "+(W?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";if(za)var k=window.scrollY;m.input.focus();za&&window.scrollTo(null,k);m.input.reset();f.somethingSelected()||(g.value=d.prevInput=" ");d.contextMenuPending=!0;m.selForContextMenu=f.doc.sel;clearTimeout(m.detectingSelectAll);W&&9<=fa&&b();if(ue){Wa(a);var w=function(){ca(window,"mouseup",w);setTimeout(c,
20)};K(window,"mouseup",w)}else setTimeout(c,50)}};sa.prototype.readOnlyChanged=function(a){a||this.reset();this.textarea.disabled="nocursor"==a};sa.prototype.setUneditable=function(){};sa.prototype.needsContentAttribute=!1;(function(a){function b(b,e,d,f){a.defaults[b]=e;d&&(c[b]=f?function(a,b,c){c!=nc&&d(a,b,c)}:d)}var c=a.optionHandlers;a.defineOption=b;a.Init=nc;b("value","",function(a,b){return a.setValue(b)},!0);b("mode",null,function(a,b){a.doc.modeOption=b;je(a)},!0);b("indentUnit",2,je,
!0);b("indentWithTabs",!1);b("smartIndent",!0);b("tabSize",4,function(a){Kc(a);Dc(a);Ha(a)},!0);b("lineSeparator",null,function(a,b){if(a.doc.lineSep=b){var c=[],e=a.doc.first;a.doc.iter(function(a){for(var d=0;;){var f=a.text.indexOf(b,d);if(-1==f)break;d=f+b.length;c.push(C(e,f))}e++});for(var d=c.length-1;0<=d;d--)jc(a.doc,b,c[d],C(c[d].line,c[d].ch+b.length))}});b("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(a,b,c){a.state.specialChars=new RegExp(b.source+
(b.test("\t")?"":"|\t"),"g");c!=nc&&a.refresh()});b("specialCharPlaceholder",ld,function(a){return a.refresh()},!0);b("electricChars",!0);b("inputStyle",pc?"contenteditable":"textarea",function(){throw Error("inputStyle can not (yet) be changed in a running editor");},!0);b("spellcheck",!1,function(a,b){return a.getInputField().spellcheck=b},!0);b("rtlMoveVisually",!hh);b("wholeLineUpdateBefore",!0);b("theme","default",function(a){Zf(a);Wc(a)},!0);b("keyMap","default",function(a,b,c){b=Bd(b);(c=c!=
nc&&Bd(c))&&c.detach&&c.detach(a,b);b.attach&&b.attach(a,c||null)});b("extraKeys",null);b("configureMouse",null);b("lineWrapping",!1,ah,!0);b("gutters",[],function(a){he(a.options);Wc(a)},!0);b("fixedGutter",!0,function(a,b){a.display.gutters.style.left=b?Yd(a.display)+"px":"0";a.refresh()},!0);b("coverGutterNextToScrollbar",!1,function(a){return ec(a)},!0);b("scrollbarStyle","native",function(a){bf(a);ec(a);a.display.scrollbars.setScrollTop(a.doc.scrollTop);a.display.scrollbars.setScrollLeft(a.doc.scrollLeft)},
!0);b("lineNumbers",!1,function(a){he(a.options);Wc(a)},!0);b("firstLineNumber",1,Wc,!0);b("lineNumberFormatter",function(a){return a},Wc,!0);b("showCursorWhenSelecting",!1,Ec,!0);b("resetSelectionOnContextMenu",!0);b("lineWiseCopyCut",!0);b("pasteLinesPerSelection",!0);b("readOnly",!1,function(a,b){"nocursor"==b&&(Fc(a),a.display.input.blur());a.display.input.readOnlyChanged(b)});b("disableInput",!1,function(a,b){b||a.display.input.reset()},!0);b("dragDrop",!0,$g);b("allowDropFileTypes",null);b("cursorBlinkRate",
530);b("cursorScrollMargin",0);b("cursorHeight",1,Ec,!0);b("singleCursorHeightPerLine",!0,Ec,!0);b("workTime",100);b("workDelay",100);b("flattenSpans",!0,Kc,!0);b("addModeClass",!1,Kc,!0);b("pollInterval",100);b("undoDepth",200,function(a,b){return a.doc.history.undoDepth=b});b("historyEventDelay",1250);b("viewportMargin",10,function(a){return a.refresh()},!0);b("maxHighlightLength",1E4,Kc,!0);b("moveInputWithCursor",!0,function(a,b){b||a.display.input.resetPosition()});b("tabindex",null,function(a,
b){return a.display.input.getField().tabIndex=b||""});b("autofocus",null);b("direction","ltr",function(a,b){return a.doc.setDirection(b)},!0)})(ia);(function(a){var b=a.optionHandlers,d=a.helpers={};a.prototype={constructor:a,focus:function(){window.focus();this.display.input.focus()},setOption:function(a,c){var e=this.options,d=e[a];if(e[a]!=c||"mode"==a)e[a]=c,b.hasOwnProperty(a)&&ua(this,b[a])(this,c,d),T(this,"optionChange",this,a)},getOption:function(a){return this.options[a]},getDoc:function(){return this.doc},
addKeyMap:function(a,b){this.state.keyMaps[b?"push":"unshift"](Bd(a))},removeKeyMap:function(a){for(var b=this.state.keyMaps,c=0;c<b.length;++c)if(b[c]==a||b[c].name==a)return b.splice(c,1),!0},addOverlay:Ca(function(b,c){var e=b.token?b:a.getMode(this.options,b);if(e.startState)throw Error("Overlays may not be stateful.");Q(this.state.overlays,{mode:e,modeSpec:b,opaque:c&&c.opaque,priority:c&&c.priority||0},function(a){return a.priority});this.state.modeGen++;Ha(this)}),removeOverlay:Ca(function(a){for(var b=
this.state.overlays,c=0;c<b.length;++c){var e=b[c].modeSpec;if(e==a||"string"==typeof a&&e.name==a){b.splice(c,1);this.state.modeGen++;Ha(this);break}}}),indentLine:Ca(function(a,b,c){"string"!=typeof b&&"number"!=typeof b&&(b=null==b?this.options.smartIndent?"smart":"prev":b?"add":"subtract");ta(this.doc,a)&&Xc(this,a,b,c)}),indentSelection:Ca(function(a){for(var b=this.doc.sel.ranges,c=-1,e=0;e<b.length;e++){var d=b[e];if(d.empty())d.head.line>c&&(Xc(this,d.head.line,a,!0),c=d.head.line,e==this.doc.sel.primIndex&&
dc(this));else{var f=d.from();d=d.to();var h=Math.max(c,f.line);c=Math.min(this.lastLine(),d.line-(d.ch?0:1))+1;for(d=h;d<c;++d)Xc(this,d,a);d=this.doc.sel.ranges;0==f.ch&&b.length==d.length&&0<d[e].from().ch&&ne(this.doc,e,new X(f,d[e].to()),mb)}}}),getTokenAt:function(a,b){return yc(this,a,b)},getLineTokens:function(a,b){return yc(this,C(a),b,!0)},getTokenTypeAt:function(a){a=M(this.doc,a);var b=id(this,F(this.doc,a.line)),c=0,e=(b.length-1)/2;a=a.ch;if(0==a)b=b[2];else for(;;){var d=c+e>>1;if((d?
b[2*d-1]:0)>=a)e=d;else if(b[2*d+1]<a)c=d+1;else{b=b[2*d+2];break}}c=b?b.indexOf("overlay "):-1;return 0>c?b:0==c?null:b.slice(0,c-1)},getModeAt:function(b){var c=this.doc.mode;return c.innerMode?a.innerMode(c,this.getTokenAt(b).state).mode:c},getHelper:function(a,b){return this.getHelpers(a,b)[0]},getHelpers:function(a,b){var e=[];if(!d.hasOwnProperty(b))return e;var f=d[b];a=this.getModeAt(a);if("string"==typeof a[b])f[a[b]]&&e.push(f[a[b]]);else if(a[b])for(var h=0;h<a[b].length;h++){var m=f[a[b][h]];
m&&e.push(m)}else a.helperType&&f[a.helperType]?e.push(f[a.helperType]):f[a.name]&&e.push(f[a.name]);for(b=0;b<f._global.length;b++)h=f._global[b],h.pred(a,this)&&-1==c(e,h.val)&&e.push(h.val);return e},getStateAfter:function(a,b){var c=this.doc;a=Math.max(c.first,Math.min(null==a?c.first+c.size-1:a,c.first+c.size-1));return qb(this,a+1,b).state},cursorCoords:function(a,b){var c=this.doc.sel.primary();a=null==a?c.head:"object"==typeof a?M(this.doc,a):a?c.from():c.to();return eb(this,a,b||"page")},
charCoords:function(a,b){return Ud(this,M(this.doc,a),b||"page")},coordsChar:function(a,b){a=Ne(this,a,b||"page");return Wd(this,a.left,a.top)},lineAtHeight:function(a,b){a=Ne(this,{top:a,left:0},b||"page").top;return ma(this.doc,a+this.display.viewOffset)},heightAtLine:function(a,b,c){var e=!1;if("number"==typeof a){var d=this.doc.first+this.doc.size-1;a<this.doc.first?a=this.doc.first:a>d&&(a=d,e=!0);a=F(this.doc,a)}return od(this,a,{top:0,left:0},b||"page",c||e).top+(e?this.doc.height-qa(a):0)},
defaultTextHeight:function(){return Lb(this.display)},defaultCharWidth:function(){return Cc(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(a,b,c,e,d){var f=this.display;a=eb(this,M(this.doc,a));var h=a.bottom,m=a.left;b.style.position="absolute";b.setAttribute("cm-ignore-events","true");this.display.input.setUneditable(b);f.sizer.appendChild(b);if("over"==e)h=a.top;else if("above"==e||"near"==e){var g=Math.max(f.wrapper.clientHeight,
this.doc.height),l=Math.max(f.sizer.clientWidth,f.lineSpace.clientWidth);("above"==e||a.bottom+b.offsetHeight>g)&&a.top>b.offsetHeight?h=a.top-b.offsetHeight:a.bottom+b.offsetHeight<=g&&(h=a.bottom);m+b.offsetWidth>l&&(m=l-b.offsetWidth)}b.style.top=h+"px";b.style.left=b.style.right="";"right"==d?(m=f.sizer.clientWidth-b.offsetWidth,b.style.right="0px"):("left"==d?m=0:"middle"==d&&(m=(f.sizer.clientWidth-b.offsetWidth)/2),b.style.left=m+"px");c&&(a=de(this,{left:m,top:h,right:m+b.offsetWidth,bottom:h+
b.offsetHeight}),null!=a.scrollTop&&Hc(this,a.scrollTop),null!=a.scrollLeft&&Pb(this,a.scrollLeft))},triggerOnKeyDown:Ca(Tf),triggerOnKeyPress:Ca(Vf),triggerOnKeyUp:Uf,triggerOnMouseDown:Ca(Wf),execCommand:function(a){if(Sc.hasOwnProperty(a))return Sc[a].call(null,this)},triggerElectric:Ca(function(a){cg(this,a)}),findPosH:function(a,b,c,e){var d=1;0>b&&(d=-1,b=-b);a=M(this.doc,a);for(var f=0;f<b&&(a=ze(this.doc,a,d,c,e),!a.hitSide);++f);return a},moveH:Ca(function(a,b){var c=this;this.extendSelectionsBy(function(e){return c.display.shift||
c.doc.extend||e.empty()?ze(c.doc,e.head,a,b,c.options.rtlMoveVisually):0>a?e.from():e.to()},ad)}),deleteH:Ca(function(a,b){var c=this.doc;this.doc.sel.somethingSelected()?c.replaceSelection("",null,"+delete"):mc(this,function(e){var d=ze(c,e.head,a,b,!1);return 0>a?{from:d,to:e.head}:{from:e.head,to:d}})}),findPosV:function(a,b,c,e){var d=1;0>b&&(d=-1,b=-b);var f=M(this.doc,a);for(a=0;a<b&&(f=eb(this,f,"div"),null==e?e=f.left:f.left=e,f=hg(this,f,d,c),!f.hitSide);++a);return f},moveV:Ca(function(a,
b){var c=this,e=this.doc,d=[],f=!this.display.shift&&!e.extend&&e.sel.somethingSelected();e.extendSelectionsBy(function(h){if(f)return 0>a?h.from():h.to();var m=eb(c,h.head,"div");null!=h.goalColumn&&(m.left=h.goalColumn);d.push(m.left);var g=hg(c,m,a,b);"page"==b&&h==e.sel.primary()&&rd(c,Ud(c,g,"div").top-m.top);return g},ad);if(d.length)for(var h=0;h<e.sel.ranges.length;h++)e.sel.ranges[h].goalColumn=d[h]}),findWordAt:function(a){var b=F(this.doc,a.line).text,c=a.ch,e=a.ch;if(b){var d=this.getHelper(a,
"wordChars");"before"!=a.sticky&&e!=b.length||!c?++e:--c;var f=b.charAt(c);for(f=u(f,d)?function(a){return u(a,d)}:/\s/.test(f)?function(a){return/\s/.test(a)}:function(a){return!/\s/.test(a)&&!u(a)};0<c&&f(b.charAt(c-1));)--c;for(;e<b.length&&f(b.charAt(e));)++e}return new X(C(a.line,c),C(a.line,e))},toggleOverwrite:function(a){if(null==a||a!=this.state.overwrite)(this.state.overwrite=!this.state.overwrite)?A(this.display.cursorDiv,"CodeMirror-overwrite"):Ob(this.display.cursorDiv,"CodeMirror-overwrite"),
T(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==w()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Ca(function(a,b){Gc(this,a,b)}),getScrollInfo:function(){var a=this.display.scroller;return{left:a.scrollLeft,top:a.scrollTop,height:a.scrollHeight-lb(this)-this.display.barHeight,width:a.scrollWidth-lb(this)-this.display.barWidth,clientHeight:Pd(this),clientWidth:Ib(this)}},scrollIntoView:Ca(function(a,
b){null==a?(a={from:this.doc.sel.primary().head,to:null},null==b&&(b=this.options.cursorScrollMargin)):"number"==typeof a?a={from:C(a,0),to:null}:null==a.from&&(a={from:a,to:null});a.to||(a.to=a.from);a.margin=b||0;null!=a.from.line?(sd(this),this.curOp.scrollToPos=a):Ze(this,a.from,a.to,a.margin)}),setSize:Ca(function(a,b){var c=this,e=function(a){return"number"==typeof a||/^\d+$/.test(String(a))?a+"px":a};null!=a&&(this.display.wrapper.style.width=e(a));null!=b&&(this.display.wrapper.style.height=
e(b));this.options.lineWrapping&&Ke(this);var d=this.display.viewFrom;this.doc.iter(d,this.display.viewTo,function(a){if(a.widgets)for(var b=0;b<a.widgets.length;b++)if(a.widgets[b].noHScroll){Bb(c,d,"widget");break}++d});this.curOp.forceUpdate=!0;T(this,"refresh",this)}),operation:function(a){return Qa(this,a)},startOperation:function(){return Qb(this)},endOperation:function(){return Rb(this)},refresh:Ca(function(){var a=this.display.cachedTextHeight;Ha(this);this.curOp.forceUpdate=!0;Dc(this);Gc(this,
this.doc.scrollLeft,this.doc.scrollTop);ce(this);(null==a||.5<Math.abs(a-Lb(this.display)))&&Zd(this);T(this,"refresh",this)}),swapDoc:Ca(function(a){var b=this.doc;b.cm=null;mf(this,a);Dc(this);this.display.input.reset();Gc(this,a.scrollLeft,a.scrollTop);this.curOp.forceScroll=!0;ra(this,"swapDoc",this,b);return b}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};
Va(a);a.registerHelper=function(b,c,e){d.hasOwnProperty(b)||(d[b]=a[b]={_global:[]});d[b][c]=e};a.registerGlobalHelper=function(b,c,e,f){a.registerHelper(b,c,f);d[b]._global.push({pred:e,val:f})}})(ia);var kh="iter insert remove copy getEditor constructor".split(" "),ed;for(ed in Ia.prototype)Ia.prototype.hasOwnProperty(ed)&&0>c(kh,ed)&&(ia.prototype[ed]=function(a){return function(){return a.apply(this.doc,arguments)}}(Ia.prototype[ed]));Va(Ia);ia.inputStyles={textarea:sa,contenteditable:aa};ia.defineMode=
function(a){ia.defaults.mode||"null"==a||(ia.defaults.mode=a);Xb.apply(this,arguments)};ia.defineMIME=function(a,c){Yb[a]=c};ia.defineMode("null",function(){return{token:function(a){return a.skipToEnd()}}});ia.defineMIME("text/plain","null");ia.defineExtension=function(a,c){ia.prototype[a]=c};ia.defineDocExtension=function(a,c){Ia.prototype[a]=c};ia.fromTextArea=function(a,c){function b(){a.value=l.getValue()}c=c?g(c):{};c.value=a.value;!c.tabindex&&a.tabIndex&&(c.tabindex=a.tabIndex);!c.placeholder&&
a.placeholder&&(c.placeholder=a.placeholder);if(null==c.autofocus){var e=w();c.autofocus=e==a||null!=a.getAttribute("autofocus")&&e==document.body}if(a.form&&(K(a.form,"submit",b),!c.leaveSubmitMethodAlone)){var d=a.form;var f=d.submit;try{var m=d.submit=function(){b();d.submit=f;d.submit();d.submit=m}}catch(S){}}c.finishInit=function(c){c.save=b;c.getTextArea=function(){return a};c.toTextArea=function(){c.toTextArea=isNaN;b();a.parentNode.removeChild(c.getWrapperElement());a.style.display="";a.form&&
(ca(a.form,"submit",b),"function"==typeof a.form.submit&&(a.form.submit=f))}};a.style.display="none";var l=ia(function(b){return a.parentNode.insertBefore(b,a.nextSibling)},c);return l};(function(b){b.off=ca;b.on=K;b.wheelEventPixels=Ag;b.Doc=Ia;b.splitLines=ye;b.countColumn=a;b.findColumn=f;b.isWordChar=z;b.Pass=Dd;b.signal=T;b.Line=fc;b.changeEnd=Cb;b.scrollbarModel=cf;b.Pos=C;b.cmpPos=J;b.modes=Jd;b.mimeModes=Yb;b.resolveMode=Pa;b.getMode=yb;b.modeExtensions=Zb;b.extendMode=Kd;b.copyState=ib;b.startState=
Gb;b.innerMode=sc;b.commands=Sc;b.keyMap=Rc;b.keyName=Of;b.isModifierKey=Lf;b.lookupKey=lc;b.normalizeKeyMap=Mg;b.StringStream=pa;b.SharedTextMarker=Qc;b.TextMarker=Db;b.LineWidget=Pc;b.e_preventDefault=da;b.e_stopPropagation=pb;b.e_stop=Wa;b.addClass=A;b.contains=n;b.rmClass=Ob;b.keyNames=Eb})(ia);ia.version="5.34.1";return ia});(function(k){"object"==typeof exports&&"object"==typeof module?k(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],k):k(CodeMirror)})(function(k){function t(p){var n={};p=p.split(" ");for(var k=0;k<p.length;++k)n[p[k]]=!0;return n}k.defineMode("glsl",function(p,n){function k(a,c){var d=a.next();if(Q[d]){var g=Q[d](a,c);if(!1!==g)return g}if('"'==d||"'"==d)return c.tokenize=A(d),c.tokenize(a,c);if(/[\[\]{}\(\),;:\.]/.test(d))return z=d,"bracket";
if(/\d/.test(d))return a.eatWhile(/[\w\.]/),"number";if("/"==d){if(a.eat("*"))return c.tokenize=l,l(a,c);if(a.eat("/"))return a.skipToEnd(),"comment"}if("#"==d)return a.eatWhile(/[\S]+/),a.eatWhile(/[\s]+/),a.eatWhile(/[\S]+/),a.eatWhile(/[\s]+/),"comment";if(B.test(d))return a.eatWhile(B),"operator";a.eatWhile(/[\w\$_]/);a=a.current();return f.propertyIsEnumerable(a)?(L.propertyIsEnumerable(a)&&(z="newstatement"),"keyword"):m.propertyIsEnumerable(a)?"builtin":O.propertyIsEnumerable(a)?"atom":"word"}
function A(a){return function(c,d){for(var f=!1,m,g=!1;null!=(m=c.next());){if(m==a&&!f){g=!0;break}f=!f&&"\\"==m}if(g||!f&&!ea)d.tokenize=k;return"string"}}function l(a,c){for(var d=!1,f;f=a.next();){if("/"==f&&d){c.tokenize=k;break}d="*"==f}return"comment"}function G(a,c,d,f,m){this.indented=a;this.column=c;this.type=d;this.align=f;this.prev=m}function g(a,c,d){return a.context=new G(a.indented,c,d,null,a.context)}function a(a){var c=a.context.type;if(")"==c||"]"==c||"}"==c)a.indented=a.context.indented;
return a.context=a.context.prev}var c=p.indentUnit,f=n.keywords||t(y),m=n.builtins||t(r),L=n.blockKeywords||t("case do else for if switch while struct"),O=n.atoms||t("null"),Q=n.hooks||{},ea=n.multiLineStrings,B=/[+\-*&%=<>!?|\/]/,z;return{startState:function(a){return{tokenize:null,context:new G((a||0)-c,0,"top",!1),indented:0,startOfLine:!0}},token:function(c,f){var d=f.context;c.sol()&&(null==d.align&&(d.align=!1),f.indented=c.indentation(),f.startOfLine=!0);if(c.eatSpace())return null;z=null;
var m=(f.tokenize||k)(c,f);if("comment"==m||"meta"==m)return m;null==d.align&&(d.align=!0);if(";"!=z&&":"!=z||"statement"!=d.type)if("{"==z)g(f,c.column(),"}");else if("["==z)g(f,c.column(),"]");else if("("==z)g(f,c.column(),")");else if("}"==z){for(;"statement"==d.type;)d=a(f);for("}"==d.type&&(d=a(f));"statement"==d.type;)d=a(f)}else z==d.type?a(f):("}"==d.type||"top"==d.type||"statement"==d.type&&"newstatement"==z)&&g(f,c.column(),"statement");else a(f);f.startOfLine=!1;return m},indent:function(a,
f){if(a.tokenize!=k&&null!=a.tokenize)return 0;f=f&&f.charAt(0);a=a.context;var d=f==a.type;return"statement"==a.type?a.indented+("{"==f?0:c):a.align?a.column+(d?0:1):a.indented+(d?0:c)},electricChars:"{}"}});var y="attribute const uniform varying break continue do for while if else in out inout float int void bool true false lowp mediump highp precision invariant discard return mat2 mat3 mat4 vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 sampler2D samplerCube struct gl_FragCoord gl_FragColor",
r="radians degrees sin cos tan asin acos atan pow exp log exp2 log2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not dFdx dFdy fwidth texture2D texture2DProj texture2DLod texture2DProjLod textureCube textureCubeLod require export";k.defineMIME("text/x-glsl",{name:"glsl",keywords:t(y),builtins:t(r),blockKeywords:t("case do else for if switch while struct"),
atoms:t("null"),hooks:{"#":function(p,n){if(!n.startOfLine)return!1;p.skipToEnd();return"meta"}}})});(function(k){"object"==typeof exports&&"object"==typeof module?k(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],k):k(CodeMirror)})(function(k){k.defineMode("javascript",function(t,y){function r(a,c,d){zb=a;Hb=d;return c}function p(a,c){var d=a.next();if('"'==d||"'"==d)return c.tokenize=n(d),c.tokenize(a,c);if("."==d&&a.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return r("number","number");if("."==d&&a.match(".."))return r("spread","meta");if(/[\[\]{}\(\),;:\.]/.test(d))return r(d);
if("="==d&&a.eat(">"))return r("=>","operator");if("0"==d&&a.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return r("number","number");if(/\d/.test(d))return a.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),r("number","number");if("/"==d){if(a.eat("*"))return c.tokenize=w,w(a,c);if(a.eat("/"))return a.skipToEnd(),r("comment","comment");if(yc(a,c,1)){a:for(var f=c=!1;null!=(d=a.next());){if(!c){if("/"==d&&!f)break a;"["==d?f=!0:f&&"]"==d&&(f=!1)}c=!c&&"\\"==d}a.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/);
return r("regexp","string-2")}a.eat("=");return r("operator","operator",a.current())}if("`"==d)return c.tokenize=A,A(a,c);if("#"==d)return a.skipToEnd(),r("error","error");if("<"==d&&a.match("!--")||"-"==d&&a.match("->"))return a.skipToEnd(),r("comment","comment");if(kd.test(d))return">"==d&&c.lexical&&">"==c.lexical.type||(a.eat("=")?"!"!=d&&"="!=d||a.eat("="):/[<>*+\-]/.test(d)&&(a.eat(d),">"==d&&a.eat(d))),r("operator","operator",a.current());if(ac.test(d)){a.eatWhile(ac);d=a.current();if("."!=
c.lastType){if(ld.propertyIsEnumerable(d))return a=ld[d],r(a.type,a.style,d);if("async"==d&&a.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return r("async","keyword",d)}return r("variable","variable",d)}}function n(a){return function(c,d){var f=!1,m;if($b&&"@"==c.peek()&&c.match(Md))return d.tokenize=p,r("jsonld-keyword","meta");for(;null!=(m=c.next())&&(m!=a||f);)f=!f&&"\\"==m;f||(d.tokenize=p);return r("string","string")}}function w(a,c){for(var d=!1,f;f=a.next();){if("/"==f&&d){c.tokenize=p;break}d=
"*"==f}return r("comment","comment")}function A(a,c){for(var d=!1,f;null!=(f=a.next());){if(!d&&("`"==f||"$"==f&&a.eat("{"))){c.tokenize=p;break}d=!d&&"\\"==f}return r("quasi","string-2",a.current())}function l(a,c){c.fatArrowAt&&(c.fatArrowAt=null);var d=a.string.indexOf("=>",a.start);if(!(0>d)){if(Y){var f=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(a.string.slice(a.start,d));f&&(d=f.index)}f=0;var m=!1;for(--d;0<=d;--d){var g=a.string.charAt(d),l="([{}])".indexOf(g);if(0<=l&&3>l){if(!f){++d;
break}if(0==--f){"("==g&&(m=!0);break}}else if(3<=l&&6>l)++f;else if(ac.test(g))m=!0;else if(/["'\/`]/.test(g))for(;;--d){if(0==d)return;if(a.string.charAt(d-1)==g&&"\\"!=a.string.charAt(d-2)){d--;break}}else if(m&&!f){++d;break}}m&&!f&&(c.fatArrowAt=d)}}function G(a,c,d,f,m,g){this.indented=a;this.column=c;this.type=d;this.prev=m;this.info=g;null!=f&&(this.align=f)}function g(){for(var a=arguments.length-1;0<=a;a--)D.cc.push(arguments[a])}function a(){g.apply(null,arguments);return!0}function c(a,
c){for(;c;c=c.next)if(c.name==a)return!0;return!1}function f(a){var d=D.state;D.marked="def";if(d.context)if("var"==d.lexical.info&&d.context&&d.context.block){var f=m(a,d.context);if(null!=f){d.context=f;return}}else if(!c(a,d.localVars)){d.localVars=new Q(a,d.localVars);return}y.globalVars&&!c(a,d.globalVars)&&(d.globalVars=new Q(a,d.globalVars))}function m(a,d){return d?d.block?(a=m(a,d.prev))?a==d.prev?d:new O(a,d.vars,!0):null:c(a,d.vars)?d:new O(d.prev,new Q(a,d.vars),!1):null}function L(a){return"public"==
a||"private"==a||"protected"==a||"abstract"==a||"readonly"==a}function O(a,c,d){this.prev=a;this.vars=c;this.block=d}function Q(a,c){this.name=a;this.next=c}function ea(){D.state.context=new O(D.state.context,D.state.localVars,!1);D.state.localVars=ra}function B(){D.state.context=new O(D.state.context,D.state.localVars,!0);D.state.localVars=null}function z(){D.state.localVars=D.state.context.vars;D.state.context=D.state.context.prev}function u(a,c){var d=function(){var d=D.state,f=d.indented;if("stat"==
d.lexical.type)f=d.lexical.indented;else for(var m=d.lexical;m&&")"==m.type&&m.align;m=m.prev)f=m.indented;d.lexical=new G(f,D.stream.column(),a,null,d.lexical,c)};d.lex=!0;return d}function E(){var a=D.state;a.lexical.prev&&(")"==a.lexical.type&&(a.indented=a.lexical.indented),a.lexical=a.lexical.prev)}function d(c){function d(f){return f==c?a():";"==c||"}"==f||")"==f||"]"==f?g():a(d)}return d}function H(c,f){return"var"==c?a(u("vardef",f),bb,d(";"),E):"keyword a"==c?a(u("form"),ya,H,E):"keyword b"==
c?a(u("form"),H,E):"keyword d"==c?D.stream.match(/^\s*$/,!1)?a():a(u("stat"),wa,d(";"),E):"debugger"==c?a(d(";")):"{"==c?a(u("}"),B,hb,E,z):";"==c?a():"if"==c?("else"==D.state.lexical.info&&D.state.cc[D.state.cc.length-1]==E&&D.state.cc.pop()(),a(u("form"),ya,H,E,Z)):"function"==c?a(da):"for"==c?a(u("form"),rc,H,E):"class"==c||Y&&"interface"==f?(D.marked="keyword",a(u("form","class"==c?c:f),hd,E)):"variable"==c?Y&&"declare"==f?(D.marked="keyword",a(H)):Y&&("module"==f||"enum"==f||"type"==f)&&D.stream.match(/^\s*\w/,
!1)?(D.marked="keyword","enum"==f?a(wc):"type"==f?a(Wb,d("operator"),V,d(";")):a(u("form"),ha,d("{"),u("}"),hb,E,E)):Y&&"namespace"==f?(D.marked="keyword",a(u("form"),P,H,E)):Y&&"abstract"==f?(D.marked="keyword",a(H)):a(u("stat"),$a):"switch"==c?a(u("form"),ya,d("{"),u("}","switch"),B,hb,E,E,z):"case"==c?a(P,d(":")):"default"==c?a(d(":")):"catch"==c?a(u("form"),ea,U,H,E,z):"export"==c?a(u("stat"),Kd,E):"import"==c?a(u("stat"),sc,E):"async"==c?a(H):"@"==f?a(P,H):g(u("stat"),P,d(";"),E)}function U(c){if("("==
c)return a(Wa,d(")"))}function P(a,c){return Ea(a,c,!1)}function F(a,c){return Ea(a,c,!0)}function ya(c){return"("!=c?g():a(u(")"),P,d(")"),E)}function Ea(c,f,m){if(D.state.fatArrowAt==D.stream.start){var l=m?J:C;if("("==c)return a(ea,u(")"),ba(Wa,")"),E,d("=>"),l,z);if("variable"==c)return g(ea,ha,d("=>"),l,z)}l=m?ma:N;return bc.hasOwnProperty(c)?a(l):"function"==c?a(da,l):"class"==c||Y&&"interface"==f?(D.marked="keyword",a(u("form"),Fb,E)):"keyword c"==c||"async"==c?a(m?F:P):"("==c?a(u(")"),wa,
d(")"),E,l):"operator"==c||"spread"==c?a(m?F:P):"["==c?a(u("]"),vc,E,l):"{"==c?la(Ka,"}",null,l):"quasi"==c?g(ta,l):"new"==c?a(nb(m)):"import"==c?a(P):a()}function wa(a){return a.match(/[;\}\)\],]/)?g():g(P)}function N(c,d){return","==c?a(P):ma(c,d,!1)}function ma(c,f,m){var l=0==m?N:ma,n=0==m?P:F;if("=>"==c)return a(ea,m?J:C,z);if("operator"==c)return/\+\+|--/.test(f)||Y&&"!"==f?a(l):Y&&"<"==f&&D.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1)?a(u(">"),ba(V,">"),E,l):"?"==f?a(P,d(":"),n):a(n);if("quasi"==
c)return g(ta,l);if(";"!=c){if("("==c)return la(F,")","call",l);if("."==c)return a(M,l);if("["==c)return a(u("]"),wa,d("]"),E,l);if(Y&&"as"==f)return D.marked="keyword",a(V,l);if("regexp"==c)return D.state.lastType=D.marked="operator",D.stream.backUp(D.stream.pos-D.stream.start-1),a(n)}}function ta(c,d){return"quasi"!=c?g():"${"!=d.slice(d.length-2)?a(ta):a(P,Ja)}function Ja(c){if("}"==c)return D.marked="string-2",D.state.tokenize=A,a(ta)}function C(a){l(D.stream,D.state);return g("{"==a?H:P)}function J(a){l(D.stream,
D.state);return g("{"==a?H:F)}function nb(c){return function(d){return"."==d?a(c?Za:ob):"variable"==d&&Y?a(Ta,c?ma:N):g(c?F:P)}}function ob(c,d){if("target"==d)return D.marked="keyword",a(N)}function Za(c,d){if("target"==d)return D.marked="keyword",a(ma)}function $a(c){return":"==c?a(E,H):g(N,d(";"),E)}function M(c){if("variable"==c)return D.marked="property",a()}function Ka(c,f){if("async"==c)return D.marked="property",a(Ka);if("variable"==c||"keyword"==D.style){D.marked="property";if("get"==f||
"set"==f)return a(ka);var m;Y&&D.state.fatArrowAt==D.stream.start&&(m=D.stream.match(/^\s*:\s*/,!1))&&(D.state.fatArrowAt=D.stream.pos+m[0].length);return a(Aa)}if("number"==c||"string"==c)return D.marked=$b?"property":D.style+" property",a(Aa);if("jsonld-keyword"==c)return a(Aa);if(Y&&L(f))return D.marked="keyword",a(Ka);if("["==c)return a(P,La,d("]"),Aa);if("spread"==c)return a(F,Aa);if("*"==f)return D.marked="keyword",a(Ka);if(":"==c)return g(Aa)}function ka(c){if("variable"!=c)return g(Aa);D.marked=
"property";return a(da)}function Aa(c){if(":"==c)return a(F);if("("==c)return g(da)}function ba(c,f,m){function l(n,p){return(m?-1<m.indexOf(n):","==n)?(n=D.state.lexical,"call"==n.info&&(n.pos=(n.pos||0)+1),a(function(a,d){return a==f||d==f?g():g(c)},l)):n==f||p==f?a():m&&-1<m.indexOf(";")?g(c):a(d(f))}return function(d,m){return d==f||m==f?a():g(c,l)}}function la(c,d,f){for(var m=3;m<arguments.length;m++)D.cc.push(arguments[m]);return a(u(d,f),ba(c,d),E)}function hb(c){return"}"==c?a():g(H,hb)}
function La(c,d){if(Y){if(":"==c)return a(V);if("?"==d)return a(La)}}function wb(c,d){if(Y&&(":"==c||"in"==d))return a(V)}function na(c){if(Y&&":"==c)return D.stream.match(/^\s*\w+\s+is\b/,!1)?a(P,Ma,V):a(V)}function Ma(c,d){if("is"==d)return D.marked="keyword",a()}function V(c,d){if("keyof"==d||"typeof"==d||"infer"==d)return D.marked="keyword",a("typeof"==d?F:V);if("variable"==c||"void"==d)return D.marked="type",a(oa);if("|"==d||"&"==d)return a(V);if("string"==c||"number"==c||"atom"==c)return a(oa);
if("["==c)return a(u("]"),ba(V,"]",","),E,oa);if("{"==c)return a(u("}"),ba(Na,"}",",;"),E,oa);if("("==c)return a(ba(Fa,")"),Ba,oa);if("<"==c)return a(ba(V,">"),V)}function Ba(c){if("=>"==c)return a(V)}function Na(c,f){if("variable"==c||"keyword"==D.style)return D.marked="property",a(Na);if("?"==f||"number"==c||"string"==c)return a(Na);if(":"==c)return a(V);if("["==c)return a(d("variable"),wb,d("]"),Na);if("("==c)return g(pb,Na)}function Fa(c,d){return"variable"==c&&D.stream.match(/^\s*[?:]/,!1)||
"?"==d?a(Fa):":"==c?a(V):"spread"==c?a(Fa):g(V)}function oa(c,f){if("<"==f)return a(u(">"),ba(V,">"),E,oa);if("|"==f||"."==c||"&"==f)return a(V);if("["==c)return a(V,d("]"),oa);if("extends"==f||"implements"==f)return D.marked="keyword",a(V);if("?"==f)return a(V,d(":"),V)}function Ta(c,d){if("<"==d)return a(u(">"),ba(V,">"),E,oa)}function qa(){return g(V,Ua)}function Ua(c,d){if("="==d)return a(V)}function bb(c,d){return"enum"==d?(D.marked="keyword",a(wc)):g(ha,La,ca,T)}function ha(c,d){if(Y&&L(d))return D.marked=
"keyword",a(ha);if("variable"==c)return f(d),a();if("spread"==c)return a(ha);if("["==c)return la(Ga,"]");if("{"==c)return la(ab,"}")}function ab(c,m){if("variable"==c&&!D.stream.match(/^\s*:/,!1))return f(m),a(ca);"variable"==c&&(D.marked="property");return"spread"==c?a(ha):"}"==c?g():"["==c?a(P,d("]"),d(":"),ab):a(d(":"),ha,ca)}function Ga(){return g(ha,ca)}function ca(c,d){if("="==d)return a(F)}function T(c){if(","==c)return a(bb)}function Z(c,d){if("keyword b"==c&&"else"==d)return a(u("form","else"),
H,E)}function rc(c,d){if("await"==d)return a(rc);if("("==c)return a(u(")"),Oa,E)}function Oa(c){return"var"==c?a(bb,Va):"variable"==c?a(Va):g(Va)}function Va(c,d){return")"==c?a():";"==c?a(Va):"in"==d||"of"==d?(D.marked="keyword",a(P,Va)):g(P,Va)}function da(c,d){if("*"==d)return D.marked="keyword",a(da);if("variable"==c)return f(d),a(da);if("("==c)return a(ea,u(")"),ba(Wa,")"),E,na,H,z);if(Y&&"<"==d)return a(u(">"),ba(qa,">"),E,da)}function pb(c,d){if("*"==d)return D.marked="keyword",a(pb);if("variable"==
c)return f(d),a(pb);if("("==c)return a(ea,u(")"),ba(Wa,")"),E,na,z);if(Y&&"<"==d)return a(u(">"),ba(qa,">"),E,pb)}function Wb(c,d){if("keyword"==c||"variable"==c)return D.marked="type",a(Wb);if("<"==d)return a(u(">"),ba(qa,">"),E)}function Wa(c,d){"@"==d&&a(P,Wa);return"spread"==c?a(Wa):Y&&L(d)?(D.marked="keyword",a(Wa)):Y&&"this"==c?a(La,ca):g(ha,La,ca)}function Fb(a,c){return"variable"==a?hd(a,c):Xb(a,c)}function hd(c,d){if("variable"==c)return f(d),a(Xb)}function Xb(c,d){if("<"==d)return a(u(">"),
ba(qa,">"),E,Xb);if("extends"==d||"implements"==d||Y&&","==c)return"implements"==d&&(D.marked="keyword"),a(Y?V:P,Xb);if("{"==c)return a(u("}"),Pa,E)}function Pa(c,f){if("async"==c||"variable"==c&&("static"==f||"get"==f||"set"==f||Y&&L(f))&&D.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return D.marked="keyword",a(Pa);if("variable"==c||"keyword"==D.style)return D.marked="property",a(Y?yb:da,Pa);if("number"==c||"string"==c)return a(Y?yb:da,Pa);if("["==c)return a(P,La,d("]"),Y?yb:da,Pa);if("*"==f)return D.marked=
"keyword",a(Pa);if(Y&&"("==c)return g(pb,Pa);if(";"==c||","==c)return a(Pa);if("}"==c)return a();if("@"==f)return a(P,Pa)}function yb(c,d){if("?"==d)return a(yb);if(":"==c)return a(V,ca);if("="==d)return a(F);c=D.state.lexical.prev;return g(c&&"interface"==c.info?pb:da)}function Kd(c,f){return"*"==f?(D.marked="keyword",a(qb,d(";"))):"default"==f?(D.marked="keyword",a(P,d(";"))):"{"==c?a(ba(ib,"}"),qb,d(";")):g(H)}function ib(c,f){if("as"==f)return D.marked="keyword",a(d("variable"));if("variable"==
c)return g(F,ib)}function sc(c){return"string"==c?a():"("==c?g(P):g(Gb,tc,qb)}function Gb(c,d){if("{"==c)return la(Gb,"}");"variable"==c&&f(d);"*"==d&&(D.marked="keyword");return a(id)}function tc(c){if(","==c)return a(Gb,tc)}function id(c,d){if("as"==d)return D.marked="keyword",a(Gb)}function qb(c,d){if("from"==d)return D.marked="keyword",a(P)}function vc(c){return"]"==c?a():g(ba(F,"]"))}function wc(){return g(u("form"),ha,d("{"),u("}"),ba(xc,"}"),E,E)}function xc(){return g(ha,ca)}function yc(a,
c,d){return c.tokenize==p&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(c.lastType)||"quasi"==c.lastType&&/\{\s*$/.test(a.string.slice(0,a.pos-(d||0)))}var rb=t.indentUnit,uc=y.statementIndent,$b=y.jsonld,sb=y.json||$b,Y=y.typescript,ac=y.wordCharacters||/[\w$\xa1-\uffff]/,ld=function(){function a(a){return{type:a,style:"keyword"}}var c=a("keyword a"),d=a("keyword b"),f=a("keyword c"),m=a("keyword d"),g=a("operator"),l={type:"atom",style:"atom"};return{"if":a("if"),
"while":c,"with":c,"else":d,"do":d,"try":d,"finally":d,"return":m,"break":m,"continue":m,"new":a("new"),"delete":f,"void":f,"throw":f,"debugger":a("debugger"),"var":a("var"),"const":a("var"),let:a("var"),"function":a("function"),"catch":a("catch"),"for":a("for"),"switch":a("switch"),"case":a("case"),"default":a("default"),"in":g,"typeof":g,"instanceof":g,"true":l,"false":l,"null":l,undefined:l,NaN:l,Infinity:l,"this":a("this"),"class":a("class"),"super":a("atom"),yield:f,"export":a("export"),"import":a("import"),
"extends":f,await:f}}(),kd=/[+\-*&%=<>!?|~^@]/,Md=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,zb,Hb,bc={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},D={state:null,column:null,marked:null,cc:null},ra=new Q("this",new Q("arguments",null));z.lex=!0;E.lex=!0;return{startState:function(a){a={tokenize:p,lastType:"sof",cc:[],lexical:new G((a||0)-rb,0,"block",!1),localVars:y.localVars,context:y.localVars&&new O(null,null,!1),
indented:a||0};y.globalVars&&"object"==typeof y.globalVars&&(a.globalVars=y.globalVars);return a},token:function(a,c){a.sol()&&(c.lexical.hasOwnProperty("align")||(c.lexical.align=!1),c.indented=a.indentation(),l(a,c));if(c.tokenize!=w&&a.eatSpace())return null;var d=c.tokenize(a,c);if("comment"==zb)return d;c.lastType="operator"!=zb||"++"!=Hb&&"--"!=Hb?zb:"incdec";a:{var f=zb,m=Hb,g=c.cc;D.state=c;D.stream=a;D.marked=null;D.cc=g;D.style=d;c.lexical.hasOwnProperty("align")||(c.lexical.align=!0);for(;;)if((g.length?
g.pop():sb?P:H)(f,m)){for(;g.length&&g[g.length-1].lex;)g.pop()();if(D.marked){d=D.marked;break a}if(a="variable"==f)b:{for(a=c.localVars;a;a=a.next)if(a.name==m){a=!0;break b}for(c=c.context;c;c=c.prev)for(a=c.vars;a;a=a.next)if(a.name==m){a=!0;break b}a=void 0}if(a){d="variable-2";break a}break a}}return d},indent:function(a,c){if(a.tokenize==w)return k.Pass;if(a.tokenize!=p)return 0;var d=c&&c.charAt(0),f=a.lexical,m;if(!/^\s*else\b/.test(c))for(var g=a.cc.length-1;0<=g;--g){var l=a.cc[g];if(l==
E)f=f.prev;else if(l!=Z)break}for(;!("stat"!=f.type&&"form"!=f.type||"}"!=d&&(!(m=a.cc[a.cc.length-1])||m!=N&&m!=ma||/^[,\.=+\-*:?[\(]/.test(c)));)f=f.prev;uc&&")"==f.type&&"stat"==f.prev.type&&(f=f.prev);m=f.type;g=d==m;return"vardef"==m?f.indented+("operator"==a.lastType||","==a.lastType?f.info.length+1:0):"form"==m&&"{"==d?f.indented:"form"==m?f.indented+rb:"stat"==m?(d=f.indented,a="operator"==a.lastType||","==a.lastType||kd.test(c.charAt(0))||/[,.]/.test(c.charAt(0)),d+(a?uc||rb:0)):"switch"!=
f.info||g||0==y.doubleIndentSwitch?f.align?f.column+(g?0:1):f.indented+(g?0:rb):f.indented+(/^(?:case|default)\b/.test(c)?rb:2*rb)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:sb?null:"/*",blockCommentEnd:sb?null:"*/",blockCommentContinue:sb?null:" * ",lineComment:sb?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:sb?"json":"javascript",jsonldMode:$b,jsonMode:sb,expressionAllowed:yc,skipExpression:function(a){var c=a.cc[a.cc.length-1];c!=P&&c!=F||a.cc.pop()}}});
k.registerHelper("wordChars","javascript",/[\w$]/);k.defineMIME("text/javascript","javascript");k.defineMIME("text/ecmascript","javascript");k.defineMIME("application/javascript","javascript");k.defineMIME("application/x-javascript","javascript");k.defineMIME("application/ecmascript","javascript");k.defineMIME("application/json",{name:"javascript",json:!0});k.defineMIME("application/x-json",{name:"javascript",json:!0});k.defineMIME("application/ld+json",{name:"javascript",jsonld:!0});k.defineMIME("text/typescript",
{name:"javascript",typescript:!0});k.defineMIME("application/typescript",{name:"javascript",typescript:!0})});(function(k){"object"==typeof exports&&"object"==typeof module?k(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],k):k(CodeMirror)})(function(k){function t(n){for(var p=0;p<n.state.activeLines.length;p++)n.removeLineClass(n.state.activeLines[p],"wrap","CodeMirror-activeline"),n.removeLineClass(n.state.activeLines[p],"background","CodeMirror-activeline-background"),n.removeLineClass(n.state.activeLines[p],"gutter","CodeMirror-activeline-gutter")}
function y(n,p){if(n.length!=p.length)return!1;for(var k=0;k<n.length;k++)if(n[k]!=p[k])return!1;return!0}function r(n,p){for(var k=[],l=0;l<p.length;l++){var w=p[l],g=n.getOption("styleActiveLine");if("object"==typeof g&&g.nonEmpty?w.anchor.line==w.head.line:w.empty())w=n.getLineHandleVisualStart(w.head.line),k[k.length-1]!=w&&k.push(w)}y(n.state.activeLines,k)||n.operation(function(){t(n);for(var a=0;a<k.length;a++)n.addLineClass(k[a],"wrap","CodeMirror-activeline"),n.addLineClass(k[a],"background",
"CodeMirror-activeline-background"),n.addLineClass(k[a],"gutter","CodeMirror-activeline-gutter");n.state.activeLines=k})}function p(n,p){r(n,p.ranges)}k.defineOption("styleActiveLine",!1,function(n,w,A){A=A==k.Init?!1:A;w!=A&&(A&&(n.off("beforeSelectionChange",p),t(n),delete n.state.activeLines),w&&(n.state.activeLines=[],r(n,n.listSelections()),n.on("beforeSelectionChange",p)))})});(function(k){"object"==typeof exports&&"object"==typeof module?k(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],k):k(CodeMirror)})(function(k){function t(l,n,g){var a=l.getLineHandle(n.line),c=n.ch-1,f=g&&g.afterCursor;null==f&&(f=/(^| )cm-fat-cursor($| )/.test(l.getWrapperElement().className));var m=g&&g.bracketRegex||/[(){}[\]]/;a=!f&&0<=c&&m.test(a.text.charAt(c))&&A[a.text.charAt(c)]||m.test(a.text.charAt(c+1))&&A[a.text.charAt(++c)];if(!a)return null;
f=">"==a.charAt(1)?1:-1;if(g&&g.strict&&0<f!=(c==n.ch))return null;m=l.getTokenTypeAt(w(n.line,c+1));l=y(l,w(n.line,c+(0<f?1:0)),f,m||null,g);return null==l?null:{from:w(n.line,c),to:l&&l.pos,match:l&&l.ch==a.charAt(0),forward:0<f}}function y(l,n,g,a,c){var f=c&&c.maxScanLineLength||1E4,m=c&&c.maxScanLines||1E3,p=[];c=c&&c.bracketRegex||/[(){}[\]]/;m=0<g?Math.min(n.line+m,l.lastLine()+1):Math.max(l.firstLine()-1,n.line-m);for(var k=n.line;k!=m;k+=g){var r=l.getLine(k);if(r){var G=0<g?0:r.length-1,
t=0<g?r.length:-1;if(!(r.length>f))for(k==n.line&&(G=n.ch-(0>g?1:0));G!=t;G+=g){var z=r.charAt(G);if(c.test(z)&&(void 0===a||l.getTokenTypeAt(w(k,G+1))==a)){var u=A[z];if(u&&">"==u.charAt(1)==0<g)p.push(z);else if(p.length)p.pop();else return{pos:w(k,G),ch:z}}}}}return k-g==(0<g?l.lastLine():l.firstLine())?!1:null}function r(l,p,g){for(var a=l.state.matchBrackets.maxHighlightLineLength||1E3,c=[],f=l.listSelections(),m=0;m<f.length;m++){var k=f[m].empty()&&t(l,f[m].head,g);if(k&&l.getLine(k.from.line).length<=
a){var A=k.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";c.push(l.markText(k.from,w(k.from.line,k.from.ch+1),{className:A}));k.to&&l.getLine(k.to.line).length<=a&&c.push(l.markText(k.to,w(k.to.line,k.to.ch+1),{className:A}))}}if(c.length)if(n&&l.state.focused&&l.focus(),g=function(){l.operation(function(){for(var a=0;a<c.length;a++)c[a].clear()})},p)setTimeout(g,800);else return g}function p(l){l.operation(function(){l.state.matchBrackets.currentlyHighlighted&&(l.state.matchBrackets.currentlyHighlighted(),
l.state.matchBrackets.currentlyHighlighted=null);l.state.matchBrackets.currentlyHighlighted=r(l,!1,l.state.matchBrackets)})}var n=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||8>document.documentMode),w=k.Pos,A={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};k.defineOption("matchBrackets",!1,function(l,n,g){g&&g!=k.Init&&(l.off("cursorActivity",p),l.state.matchBrackets&&l.state.matchBrackets.currentlyHighlighted&&(l.state.matchBrackets.currentlyHighlighted(),
l.state.matchBrackets.currentlyHighlighted=null));n&&(l.state.matchBrackets="object"==typeof n?n:{},l.on("cursorActivity",p))});k.defineExtension("matchBrackets",function(){r(this,!0)});k.defineExtension("findMatchingBracket",function(l,n,g){if(g||"boolean"==typeof n)g?(g.strict=n,n=g):n=n?{strict:!0}:null;return t(this,l,n)});k.defineExtension("scanForBracket",function(l,n,g,a){return y(this,l,n,g,a)})});(function(k){"object"==typeof exports&&"object"==typeof module?k(require("../../lib/codemirror"),require("./matchesonscrollbar")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./matchesonscrollbar"],k):k(CodeMirror)})(function(k){function t(g){this.options={};for(var a in G)this.options[a]=(g&&g.hasOwnProperty(a)?g:G)[a];this.matchesonscroll=this.overlay=this.timeout=null;this.active=!1}function y(g){var a=g.state.matchHighlighter;(a.active||g.hasFocus())&&p(g,a)}function r(g){var a=
g.state.matchHighlighter;a.active||(a.active=!0,p(g,a))}function p(g,a){clearTimeout(a.timeout);a.timeout=setTimeout(function(){A(g)},a.options.delay)}function n(g,a,c,f){var m=g.state.matchHighlighter;g.addOverlay(m.overlay=l(a,c,f));m.options.annotateScrollbar&&g.showMatchesOnScrollbar&&(a=c?new RegExp("\\b"+a.replace(/[\\\[.+*?(){|^$]/g,"\\$&")+"\\b"):a,m.matchesonscroll=g.showMatchesOnScrollbar(a,!1,{className:"CodeMirror-selection-highlight-scrollbar"}))}function w(g){var a=g.state.matchHighlighter;
a.overlay&&(g.removeOverlay(a.overlay),a.overlay=null,a.matchesonscroll&&(a.matchesonscroll.clear(),a.matchesonscroll=null))}function A(g){g.operation(function(){var a=g.state.matchHighlighter;w(g);if(!g.somethingSelected()&&a.options.showToken){for(var c=!0===a.options.showToken?/[\w$]/:a.options.showToken,f=g.getCursor(),m=g.getLine(f.line),l=f=f.ch;f&&c.test(m.charAt(f-1));)--f;for(;l<m.length&&c.test(m.charAt(l));)++l;f<l&&n(g,m.slice(f,l),c,a.options.style)}else if(c=g.getCursor("from"),m=g.getCursor("to"),
c.line==m.line){if(f=a.options.wordsOnly){a:if(null!==g.getRange(c,m).match(/^\w+$/)){if(0<c.ch&&(f={line:c.line,ch:c.ch-1},f=g.getRange(f,c),null===f.match(/\W/))){f=!1;break a}if(m.ch<g.getLine(c.line).length&&(f={line:m.line,ch:m.ch+1},f=g.getRange(m,f),null===f.match(/\W/))){f=!1;break a}f=!0}else f=!1;f=!f}f||(c=g.getRange(c,m),a.options.trim&&(c=c.replace(/^\s+|\s+$/g,"")),c.length>=a.options.minChars&&n(g,c,!1,a.options.style))}})}function l(g,a,c){return{token:function(f){var m;if(m=f.match(g))(m=
!a)||(m=(!f.start||!a.test(f.string.charAt(f.start-1)))&&(f.pos==f.string.length||!a.test(f.string.charAt(f.pos))));if(m)return c;f.next();f.skipTo(g.charAt(0))||f.skipToEnd()}}}var G={style:"matchhighlight",minChars:2,delay:100,wordsOnly:!1,annotateScrollbar:!1,showToken:!1,trim:!0};k.defineOption("highlightSelectionMatches",!1,function(g,a,c){c&&c!=k.Init&&(w(g),clearTimeout(g.state.matchHighlighter.timeout),g.state.matchHighlighter=null,g.off("cursorActivity",y),g.off("focus",r));if(a){a=g.state.matchHighlighter=
new t(a);if(g.hasFocus())a.active=!0,A(g);else g.on("focus",r);g.on("cursorActivity",y)}})});(function(k,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports.esprima=t():k.esprima=t()})(this,function(){return function(k){function t(r){if(y[r])return y[r].exports;var p=y[r]={exports:{},id:r,loaded:!1};k[r].call(p.exports,p,p.exports,t);p.loaded=!0;return p.exports}var y={};t.m=k;t.c=y;t.p="";return t(0)}([function(k,t,y){function r(l,k,g){var a=null,c=function(c,f){g&&g(c,f);a&&a.visit(c,
f)},f="function"===typeof g?c:null,m=!1;if(k){m="boolean"===typeof k.comment&&k.comment;var A="boolean"===typeof k.attachComment&&k.attachComment;if(m||A)a=new p.CommentHandler,a.attach=A,k.comment=!0,f=c}c=!1;k&&"string"===typeof k.sourceType&&(c="module"===k.sourceType);l=k&&"boolean"===typeof k.jsx&&k.jsx?new n.JSXParser(l,k,f):new w.Parser(l,k,f);k=c?l.parseModule():l.parseScript();m&&a&&(k.comments=a.comments);l.config.tokens&&(k.tokens=l.tokens);l.config.tolerant&&(k.errors=l.errorHandler.errors);
return k}Object.defineProperty(t,"__esModule",{value:!0});var p=y(1),n=y(3),w=y(8),A=y(15);t.parse=r;t.parseModule=function(l,n,g){n=n||{};n.sourceType="module";return r(l,n,g)};t.parseScript=function(l,n,g){n=n||{};n.sourceType="script";return r(l,n,g)};t.tokenize=function(l,n,g){l=new A.Tokenizer(l,n);n=[];try{for(;;){var a=l.getNextToken();if(!a)break;g&&(a=g(a));n.push(a)}}catch(c){l.errorHandler.tolerate(c)}l.errorHandler.tolerant&&(n.errors=l.errors());return n};k=y(2);t.Syntax=k.Syntax;t.version=
"4.0.1"},function(k,t,y){Object.defineProperty(t,"__esModule",{value:!0});var r=y(2);k=function(){function p(){this.attach=!1;this.comments=[];this.stack=[];this.leading=[];this.trailing=[]}p.prototype.insertInnerComments=function(n,p){if(n.type===r.Syntax.BlockStatement&&0===n.body.length){for(var k=[],l=this.leading.length-1;0<=l;--l){var w=this.leading[l];p.end.offset>=w.start&&(k.unshift(w.comment),this.leading.splice(l,1),this.trailing.splice(l,1))}k.length&&(n.innerComments=k)}};p.prototype.findTrailingComments=
function(n){var p=[];if(0<this.trailing.length){for(var k=this.trailing.length-1;0<=k;--k){var l=this.trailing[k];l.start>=n.end.offset&&p.unshift(l.comment)}this.trailing.length=0;return p}(k=this.stack[this.stack.length-1])&&k.node.trailingComments&&(l=k.node.trailingComments[0])&&l.range[0]>=n.end.offset&&(p=k.node.trailingComments,delete k.node.trailingComments);return p};p.prototype.findLeadingComments=function(n){for(var p=[],k;0<this.stack.length;){var l=this.stack[this.stack.length-1];if(l&&
l.start>=n.start.offset)k=l.node,this.stack.pop();else break}if(k){for(var r=(k.leadingComments?k.leadingComments.length:0)-1;0<=r;--r)l=k.leadingComments[r],l.range[1]<=n.start.offset&&(p.unshift(l),k.leadingComments.splice(r,1));k.leadingComments&&0===k.leadingComments.length&&delete k.leadingComments;return p}for(r=this.leading.length-1;0<=r;--r)l=this.leading[r],l.start<=n.start.offset&&(p.unshift(l.comment),this.leading.splice(r,1));return p};p.prototype.visitNode=function(n,p){if(!(n.type===
r.Syntax.Program&&0<n.body.length)){this.insertInnerComments(n,p);var k=this.findTrailingComments(p),l=this.findLeadingComments(p);0<l.length&&(n.leadingComments=l);0<k.length&&(n.trailingComments=k);this.stack.push({node:n,start:p.start.offset})}};p.prototype.visitComment=function(n,p){var k="L"===n.type[0]?"Line":"Block",l={type:k,value:n.value};n.range&&(l.range=n.range);n.loc&&(l.loc=n.loc);this.comments.push(l);this.attach&&(p={comment:{type:k,value:n.value,range:[p.start.offset,p.end.offset]},
start:p.start.offset},n.loc&&(p.comment.loc=n.loc),n.type=k,this.leading.push(p),this.trailing.push(p))};p.prototype.visit=function(n,p){"LineComment"===n.type?this.visitComment(n,p):"BlockComment"===n.type?this.visitComment(n,p):this.attach&&this.visitNode(n,p)};return p}();t.CommentHandler=k},function(k,t){Object.defineProperty(t,"__esModule",{value:!0});t.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",
ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",
ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",
ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",
SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",
YieldExpression:"YieldExpression"}},function(k,t,y){function r(a){switch(a.type){case A.JSXSyntax.JSXIdentifier:var c=a.name;break;case A.JSXSyntax.JSXNamespacedName:c=r(a.namespace)+":"+r(a.name);break;case A.JSXSyntax.JSXMemberExpression:c=r(a.object)+"."+r(a.property)}return c}var p=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,f){a.__proto__=f}||function(a,f){for(var c in f)f.hasOwnProperty(c)&&(a[c]=f[c])};return function(c,f){function m(){this.constructor=
c}a(c,f);c.prototype=null===f?Object.create(f):(m.prototype=f.prototype,new m)}}();Object.defineProperty(t,"__esModule",{value:!0});var n=y(4),w=y(5),A=y(6),l=y(7);k=y(8);var G=y(13),g=y(14);G.TokenName[100]="JSXIdentifier";G.TokenName[101]="JSXText";y=function(a){function c(c,m,g){return a.call(this,c,m,g)||this}p(c,a);c.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():a.prototype.parsePrimaryExpression.call(this)};c.prototype.startJSX=function(){this.scanner.index=
this.startMarker.index;this.scanner.lineNumber=this.startMarker.line;this.scanner.lineStart=this.startMarker.index-this.startMarker.column};c.prototype.finishJSX=function(){this.nextToken()};c.prototype.reenterJSX=function(){this.startJSX();this.expectJSX("}");this.config.tokens&&this.tokens.pop()};c.prototype.createJSXNode=function(){this.collectComments();return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}};c.prototype.createJSXChildNode=
function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}};c.prototype.scanXHTMLEntity=function(a){for(var c="&",f=!0,l=!1,p=!1,k=!1;!this.scanner.eof()&&f&&!l;){var w=this.scanner.source[this.scanner.index];if(w===a)break;l=";"===w;c+=w;++this.scanner.index;if(!l)switch(c.length){case 2:p="#"===w;break;case 3:p&&(f=(k="x"===w)||n.Character.isDecimalDigit(w.charCodeAt(0)),p=p&&!k);break;default:f=(f=f&&!(p&&!n.Character.isDecimalDigit(w.charCodeAt(0))))&&
!(k&&!n.Character.isHexDigit(w.charCodeAt(0)))}}f&&l&&2<c.length&&(a=c.substr(1,c.length-2),p&&1<a.length?c=String.fromCharCode(parseInt(a.substr(1),10)):k&&2<a.length?c=String.fromCharCode(parseInt("0"+a.substr(1),16)):p||k||!g.XHTMLEntities[a]||(c=g.XHTMLEntities[a]));return c};c.prototype.lexJSX=function(){var a=this.scanner.source.charCodeAt(this.scanner.index);if(60===a||62===a||47===a||58===a||61===a||123===a||125===a){var c=this.scanner.source[this.scanner.index++];return{type:7,value:c,lineNumber:this.scanner.lineNumber,
lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index}}if(34===a||39===a){a=this.scanner.index;c=this.scanner.source[this.scanner.index++];for(var g="";!this.scanner.eof();){var l=this.scanner.source[this.scanner.index++];if(l===c)break;else g="&"===l?g+this.scanXHTMLEntity(c):g+l}return{type:8,value:g,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:a,end:this.scanner.index}}if(46===a)return a=this.scanner.source.charCodeAt(this.scanner.index+
1),c=this.scanner.source.charCodeAt(this.scanner.index+2),c=46===a&&46===c?"...":".",a=this.scanner.index,this.scanner.index+=c.length,{type:7,value:c,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:a,end:this.scanner.index};if(96===a)return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(n.Character.isIdentifierStart(a)&&92!==a){a=this.scanner.index;for(++this.scanner.index;!this.scanner.eof();)if(l=
this.scanner.source.charCodeAt(this.scanner.index),n.Character.isIdentifierPart(l)&&92!==l)++this.scanner.index;else if(45===l)++this.scanner.index;else break;return{type:100,value:this.scanner.source.slice(a,this.scanner.index),lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:a,end:this.scanner.index}}return this.scanner.lex()};c.prototype.nextJSXToken=function(){this.collectComments();this.startMarker.index=this.scanner.index;this.startMarker.line=this.scanner.lineNumber;
this.startMarker.column=this.scanner.index-this.scanner.lineStart;var a=this.lexJSX();this.lastMarker.index=this.scanner.index;this.lastMarker.line=this.scanner.lineNumber;this.lastMarker.column=this.scanner.index-this.scanner.lineStart;this.config.tokens&&this.tokens.push(this.convertToken(a));return a};c.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index;this.startMarker.line=this.scanner.lineNumber;this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var a=
this.scanner.index,c="";!this.scanner.eof();){var g=this.scanner.source[this.scanner.index];if("{"===g||"<"===g)break;++this.scanner.index;c+=g;n.Character.isLineTerminator(g.charCodeAt(0))&&(++this.scanner.lineNumber,"\r"===g&&"\n"===this.scanner.source[this.scanner.index]&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index;this.lastMarker.line=this.scanner.lineNumber;this.lastMarker.column=this.scanner.index-this.scanner.lineStart;a={type:101,
value:c,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:a,end:this.scanner.index};0<c.length&&this.config.tokens&&this.tokens.push(this.convertToken(a));return a};c.prototype.peekJSXToken=function(){var a=this.scanner.saveState();this.scanner.scanComments();var c=this.lexJSX();this.scanner.restoreState(a);return c};c.prototype.expectJSX=function(a){var c=this.nextJSXToken();7===c.type&&c.value===a||this.throwUnexpectedToken(c)};c.prototype.matchJSX=function(a){var c=this.peekJSXToken();
return 7===c.type&&c.value===a};c.prototype.parseJSXIdentifier=function(){var a=this.createJSXNode(),c=this.nextJSXToken();100!==c.type&&this.throwUnexpectedToken(c);return this.finalize(a,new w.JSXIdentifier(c.value))};c.prototype.parseJSXElementName=function(){var a=this.createJSXNode(),c=this.parseJSXIdentifier();if(this.matchJSX(":")){this.expectJSX(":");var g=this.parseJSXIdentifier();c=this.finalize(a,new w.JSXNamespacedName(c,g))}else if(this.matchJSX("."))for(;this.matchJSX(".");)this.expectJSX("."),
g=this.parseJSXIdentifier(),c=this.finalize(a,new w.JSXMemberExpression(c,g));return c};c.prototype.parseJSXAttributeName=function(){var a=this.createJSXNode(),c=this.parseJSXIdentifier();if(this.matchJSX(":")){this.expectJSX(":");var g=this.parseJSXIdentifier();a=this.finalize(a,new w.JSXNamespacedName(c,g))}else a=c;return a};c.prototype.parseJSXStringLiteralAttribute=function(){var a=this.createJSXNode(),c=this.nextJSXToken();8!==c.type&&this.throwUnexpectedToken(c);var g=this.getTokenRaw(c);return this.finalize(a,
new l.Literal(c.value,g))};c.prototype.parseJSXExpressionAttribute=function(){var a=this.createJSXNode();this.expectJSX("{");this.finishJSX();this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var c=this.parseAssignmentExpression();this.reenterJSX();return this.finalize(a,new w.JSXExpressionContainer(c))};c.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():
this.parseJSXStringLiteralAttribute()};c.prototype.parseJSXNameValueAttribute=function(){var a=this.createJSXNode(),c=this.parseJSXAttributeName(),g=null;this.matchJSX("=")&&(this.expectJSX("="),g=this.parseJSXAttributeValue());return this.finalize(a,new w.JSXAttribute(c,g))};c.prototype.parseJSXSpreadAttribute=function(){var a=this.createJSXNode();this.expectJSX("{");this.expectJSX("...");this.finishJSX();var c=this.parseAssignmentExpression();this.reenterJSX();return this.finalize(a,new w.JSXSpreadAttribute(c))};
c.prototype.parseJSXAttributes=function(){for(var a=[];!this.matchJSX("/")&&!this.matchJSX(">");){var c=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();a.push(c)}return a};c.prototype.parseJSXOpeningElement=function(){var a=this.createJSXNode();this.expectJSX("<");var c=this.parseJSXElementName(),g=this.parseJSXAttributes(),l=this.matchJSX("/");l&&this.expectJSX("/");this.expectJSX(">");return this.finalize(a,new w.JSXOpeningElement(c,l,g))};c.prototype.parseJSXBoundaryElement=
function(){var a=this.createJSXNode();this.expectJSX("<");if(this.matchJSX("/")){this.expectJSX("/");var c=this.parseJSXElementName();this.expectJSX(">");return this.finalize(a,new w.JSXClosingElement(c))}c=this.parseJSXElementName();var g=this.parseJSXAttributes(),l=this.matchJSX("/");l&&this.expectJSX("/");this.expectJSX(">");return this.finalize(a,new w.JSXOpeningElement(c,l,g))};c.prototype.parseJSXEmptyExpression=function(){var a=this.createJSXChildNode();this.collectComments();this.lastMarker.index=
this.scanner.index;this.lastMarker.line=this.scanner.lineNumber;this.lastMarker.column=this.scanner.index-this.scanner.lineStart;return this.finalize(a,new w.JSXEmptyExpression)};c.prototype.parseJSXExpressionContainer=function(){var a=this.createJSXNode();this.expectJSX("{");if(this.matchJSX("}")){var c=this.parseJSXEmptyExpression();this.expectJSX("}")}else this.finishJSX(),c=this.parseAssignmentExpression(),this.reenterJSX();return this.finalize(a,new w.JSXExpressionContainer(c))};c.prototype.parseJSXChildren=
function(){for(var a=[];!this.scanner.eof();){var c=this.createJSXChildNode(),g=this.nextJSXText();if(g.start<g.end){var l=this.getTokenRaw(g);c=this.finalize(c,new w.JSXText(g.value,l));a.push(c)}if("{"===this.scanner.source[this.scanner.index])c=this.parseJSXExpressionContainer(),a.push(c);else break}return a};c.prototype.parseComplexJSXElement=function(a){for(var c=[];!this.scanner.eof();){a.children=a.children.concat(this.parseJSXChildren());var f=this.createJSXChildNode(),g=this.parseJSXBoundaryElement();
if(g.type===A.JSXSyntax.JSXOpeningElement){var l=g;l.selfClosing?(f=this.finalize(f,new w.JSXElement(l,[],null)),a.children.push(f)):(c.push(a),a={node:f,opening:l,closing:null,children:[]})}if(g.type===A.JSXSyntax.JSXClosingElement)if(a.closing=g,g=r(a.opening.name),f=r(a.closing.name),g!==f&&this.tolerateError("Expected corresponding JSX closing tag for %0",g),0<c.length)f=this.finalize(a.node,new w.JSXElement(a.opening,a.children,a.closing)),a=c[c.length-1],a.children.push(f),c.pop();else break}return a};
c.prototype.parseJSXElement=function(){var a=this.createJSXNode(),c=this.parseJSXOpeningElement(),g=[],l=null;c.selfClosing||(l=this.parseComplexJSXElement({node:a,opening:c,closing:l,children:g}),g=l.children,l=l.closing);return this.finalize(a,new w.JSXElement(c,g,l))};c.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop();this.startJSX();var a=this.parseJSXElement();this.finishJSX();return a};c.prototype.isStartOfExpression=function(){return a.prototype.isStartOfExpression.call(this)||
this.match("<")};return c}(k.Parser);t.JSXParser=y},function(k,t){Object.defineProperty(t,"__esModule",{value:!0});var y=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,
r=/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/;
t.Character={fromCodePoint:function(p){return 65536>p?String.fromCharCode(p):String.fromCharCode(55296+(p-65536>>10))+String.fromCharCode(56320+(p-65536&1023))},isWhiteSpace:function(p){return 32===p||9===p||11===p||12===p||160===p||5760<=p&&0<=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(p)},isLineTerminator:function(p){return 10===p||13===p||8232===p||8233===p},isIdentifierStart:function(p){return 36===p||95===p||65<=p&&90>=p||97<=p&&122>=p||92===p||
128<=p&&y.test(t.Character.fromCodePoint(p))},isIdentifierPart:function(p){return 36===p||95===p||65<=p&&90>=p||97<=p&&122>=p||48<=p&&57>=p||92===p||128<=p&&r.test(t.Character.fromCodePoint(p))},isDecimalDigit:function(p){return 48<=p&&57>=p},isHexDigit:function(p){return 48<=p&&57>=p||65<=p&&70>=p||97<=p&&102>=p},isOctalDigit:function(p){return 48<=p&&55>=p}}},function(k,t,y){Object.defineProperty(t,"__esModule",{value:!0});var r=y(6);k=function(){return function(p){this.type=r.JSXSyntax.JSXClosingElement;
this.name=p}}();t.JSXClosingElement=k;k=function(){return function(p,n,k){this.type=r.JSXSyntax.JSXElement;this.openingElement=p;this.children=n;this.closingElement=k}}();t.JSXElement=k;k=function(){return function(){this.type=r.JSXSyntax.JSXEmptyExpression}}();t.JSXEmptyExpression=k;k=function(){return function(p){this.type=r.JSXSyntax.JSXExpressionContainer;this.expression=p}}();t.JSXExpressionContainer=k;k=function(){return function(p){this.type=r.JSXSyntax.JSXIdentifier;this.name=p}}();t.JSXIdentifier=
k;k=function(){return function(p,n){this.type=r.JSXSyntax.JSXMemberExpression;this.object=p;this.property=n}}();t.JSXMemberExpression=k;k=function(){return function(p,n){this.type=r.JSXSyntax.JSXAttribute;this.name=p;this.value=n}}();t.JSXAttribute=k;k=function(){return function(p,n){this.type=r.JSXSyntax.JSXNamespacedName;this.namespace=p;this.name=n}}();t.JSXNamespacedName=k;k=function(){return function(p,n,k){this.type=r.JSXSyntax.JSXOpeningElement;this.name=p;this.selfClosing=n;this.attributes=
k}}();t.JSXOpeningElement=k;k=function(){return function(p){this.type=r.JSXSyntax.JSXSpreadAttribute;this.argument=p}}();t.JSXSpreadAttribute=k;k=function(){return function(p,n){this.type=r.JSXSyntax.JSXText;this.value=p;this.raw=n}}();t.JSXText=k},function(k,t){Object.defineProperty(t,"__esModule",{value:!0});t.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",
JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(k,t,y){Object.defineProperty(t,"__esModule",{value:!0});var r=y(2);k=function(){return function(p){this.type=r.Syntax.ArrayExpression;this.elements=p}}();t.ArrayExpression=k;k=function(){return function(p){this.type=r.Syntax.ArrayPattern;this.elements=p}}();t.ArrayPattern=k;k=function(){return function(p,
n,k){this.type=r.Syntax.ArrowFunctionExpression;this.id=null;this.params=p;this.body=n;this.generator=!1;this.expression=k;this.async=!1}}();t.ArrowFunctionExpression=k;k=function(){return function(p,n,k){this.type=r.Syntax.AssignmentExpression;this.operator=p;this.left=n;this.right=k}}();t.AssignmentExpression=k;k=function(){return function(p,n){this.type=r.Syntax.AssignmentPattern;this.left=p;this.right=n}}();t.AssignmentPattern=k;k=function(){return function(p,n,k){this.type=r.Syntax.ArrowFunctionExpression;
this.id=null;this.params=p;this.body=n;this.generator=!1;this.expression=k;this.async=!0}}();t.AsyncArrowFunctionExpression=k;k=function(){return function(p,n,k){this.type=r.Syntax.FunctionDeclaration;this.id=p;this.params=n;this.body=k;this.expression=this.generator=!1;this.async=!0}}();t.AsyncFunctionDeclaration=k;k=function(){return function(p,n,k){this.type=r.Syntax.FunctionExpression;this.id=p;this.params=n;this.body=k;this.expression=this.generator=!1;this.async=!0}}();t.AsyncFunctionExpression=
k;k=function(){return function(p){this.type=r.Syntax.AwaitExpression;this.argument=p}}();t.AwaitExpression=k;k=function(){return function(p,n,k){this.type="||"===p||"&&"===p?r.Syntax.LogicalExpression:r.Syntax.BinaryExpression;this.operator=p;this.left=n;this.right=k}}();t.BinaryExpression=k;k=function(){return function(p){this.type=r.Syntax.BlockStatement;this.body=p}}();t.BlockStatement=k;k=function(){return function(p){this.type=r.Syntax.BreakStatement;this.label=p}}();t.BreakStatement=k;k=function(){return function(p,
n){this.type=r.Syntax.CallExpression;this.callee=p;this.arguments=n}}();t.CallExpression=k;k=function(){return function(p,n){this.type=r.Syntax.CatchClause;this.param=p;this.body=n}}();t.CatchClause=k;k=function(){return function(p){this.type=r.Syntax.ClassBody;this.body=p}}();t.ClassBody=k;k=function(){return function(p,n,k){this.type=r.Syntax.ClassDeclaration;this.id=p;this.superClass=n;this.body=k}}();t.ClassDeclaration=k;k=function(){return function(p,n,k){this.type=r.Syntax.ClassExpression;this.id=
p;this.superClass=n;this.body=k}}();t.ClassExpression=k;k=function(){return function(p,n){this.type=r.Syntax.MemberExpression;this.computed=!0;this.object=p;this.property=n}}();t.ComputedMemberExpression=k;k=function(){return function(p,n,k){this.type=r.Syntax.ConditionalExpression;this.test=p;this.consequent=n;this.alternate=k}}();t.ConditionalExpression=k;k=function(){return function(p){this.type=r.Syntax.ContinueStatement;this.label=p}}();t.ContinueStatement=k;k=function(){return function(){this.type=
r.Syntax.DebuggerStatement}}();t.DebuggerStatement=k;k=function(){return function(p,n){this.type=r.Syntax.ExpressionStatement;this.expression=p;this.directive=n}}();t.Directive=k;k=function(){return function(p,n){this.type=r.Syntax.DoWhileStatement;this.body=p;this.test=n}}();t.DoWhileStatement=k;k=function(){return function(){this.type=r.Syntax.EmptyStatement}}();t.EmptyStatement=k;k=function(){return function(p){this.type=r.Syntax.ExportAllDeclaration;this.source=p}}();t.ExportAllDeclaration=k;
k=function(){return function(p){this.type=r.Syntax.ExportDefaultDeclaration;this.declaration=p}}();t.ExportDefaultDeclaration=k;k=function(){return function(p,n,k){this.type=r.Syntax.ExportNamedDeclaration;this.declaration=p;this.specifiers=n;this.source=k}}();t.ExportNamedDeclaration=k;k=function(){return function(p,n){this.type=r.Syntax.ExportSpecifier;this.exported=n;this.local=p}}();t.ExportSpecifier=k;k=function(){return function(p){this.type=r.Syntax.ExpressionStatement;this.expression=p}}();
t.ExpressionStatement=k;k=function(){return function(p,n,k){this.type=r.Syntax.ForInStatement;this.left=p;this.right=n;this.body=k;this.each=!1}}();t.ForInStatement=k;k=function(){return function(p,n,k){this.type=r.Syntax.ForOfStatement;this.left=p;this.right=n;this.body=k}}();t.ForOfStatement=k;k=function(){return function(p,n,k,A){this.type=r.Syntax.ForStatement;this.init=p;this.test=n;this.update=k;this.body=A}}();t.ForStatement=k;k=function(){return function(p,n,k,A){this.type=r.Syntax.FunctionDeclaration;
this.id=p;this.params=n;this.body=k;this.generator=A;this.async=this.expression=!1}}();t.FunctionDeclaration=k;k=function(){return function(p,n,k,A){this.type=r.Syntax.FunctionExpression;this.id=p;this.params=n;this.body=k;this.generator=A;this.async=this.expression=!1}}();t.FunctionExpression=k;k=function(){return function(p){this.type=r.Syntax.Identifier;this.name=p}}();t.Identifier=k;k=function(){return function(p,n,k){this.type=r.Syntax.IfStatement;this.test=p;this.consequent=n;this.alternate=
k}}();t.IfStatement=k;k=function(){return function(p,n){this.type=r.Syntax.ImportDeclaration;this.specifiers=p;this.source=n}}();t.ImportDeclaration=k;k=function(){return function(p){this.type=r.Syntax.ImportDefaultSpecifier;this.local=p}}();t.ImportDefaultSpecifier=k;k=function(){return function(p){this.type=r.Syntax.ImportNamespaceSpecifier;this.local=p}}();t.ImportNamespaceSpecifier=k;k=function(){return function(p,n){this.type=r.Syntax.ImportSpecifier;this.local=p;this.imported=n}}();t.ImportSpecifier=
k;k=function(){return function(p,n){this.type=r.Syntax.LabeledStatement;this.label=p;this.body=n}}();t.LabeledStatement=k;k=function(){return function(p,n){this.type=r.Syntax.Literal;this.value=p;this.raw=n}}();t.Literal=k;k=function(){return function(p,n){this.type=r.Syntax.MetaProperty;this.meta=p;this.property=n}}();t.MetaProperty=k;k=function(){return function(p,n,k,A,l){this.type=r.Syntax.MethodDefinition;this.key=p;this.computed=n;this.value=k;this.kind=A;this.static=l}}();t.MethodDefinition=
k;k=function(){return function(p){this.type=r.Syntax.Program;this.body=p;this.sourceType="module"}}();t.Module=k;k=function(){return function(p,n){this.type=r.Syntax.NewExpression;this.callee=p;this.arguments=n}}();t.NewExpression=k;k=function(){return function(p){this.type=r.Syntax.ObjectExpression;this.properties=p}}();t.ObjectExpression=k;k=function(){return function(p){this.type=r.Syntax.ObjectPattern;this.properties=p}}();t.ObjectPattern=k;k=function(){return function(p,n,k,A,l,t){this.type=
r.Syntax.Property;this.key=n;this.computed=k;this.value=A;this.kind=p;this.method=l;this.shorthand=t}}();t.Property=k;k=function(){return function(p,n,k,A){this.type=r.Syntax.Literal;this.value=p;this.raw=n;this.regex={pattern:k,flags:A}}}();t.RegexLiteral=k;k=function(){return function(p){this.type=r.Syntax.RestElement;this.argument=p}}();t.RestElement=k;k=function(){return function(p){this.type=r.Syntax.ReturnStatement;this.argument=p}}();t.ReturnStatement=k;k=function(){return function(p){this.type=
r.Syntax.Program;this.body=p;this.sourceType="script"}}();t.Script=k;k=function(){return function(p){this.type=r.Syntax.SequenceExpression;this.expressions=p}}();t.SequenceExpression=k;k=function(){return function(p){this.type=r.Syntax.SpreadElement;this.argument=p}}();t.SpreadElement=k;k=function(){return function(p,n){this.type=r.Syntax.MemberExpression;this.computed=!1;this.object=p;this.property=n}}();t.StaticMemberExpression=k;k=function(){return function(){this.type=r.Syntax.Super}}();t.Super=
k;k=function(){return function(p,n){this.type=r.Syntax.SwitchCase;this.test=p;this.consequent=n}}();t.SwitchCase=k;k=function(){return function(p,n){this.type=r.Syntax.SwitchStatement;this.discriminant=p;this.cases=n}}();t.SwitchStatement=k;k=function(){return function(p,n){this.type=r.Syntax.TaggedTemplateExpression;this.tag=p;this.quasi=n}}();t.TaggedTemplateExpression=k;k=function(){return function(p,n){this.type=r.Syntax.TemplateElement;this.value=p;this.tail=n}}();t.TemplateElement=k;k=function(){return function(p,
n){this.type=r.Syntax.TemplateLiteral;this.quasis=p;this.expressions=n}}();t.TemplateLiteral=k;k=function(){return function(){this.type=r.Syntax.ThisExpression}}();t.ThisExpression=k;k=function(){return function(p){this.type=r.Syntax.ThrowStatement;this.argument=p}}();t.ThrowStatement=k;k=function(){return function(p,n,k){this.type=r.Syntax.TryStatement;this.block=p;this.handler=n;this.finalizer=k}}();t.TryStatement=k;k=function(){return function(p,n){this.type=r.Syntax.UnaryExpression;this.operator=
p;this.argument=n;this.prefix=!0}}();t.UnaryExpression=k;k=function(){return function(p,n,k){this.type=r.Syntax.UpdateExpression;this.operator=p;this.argument=n;this.prefix=k}}();t.UpdateExpression=k;k=function(){return function(p,n){this.type=r.Syntax.VariableDeclaration;this.declarations=p;this.kind=n}}();t.VariableDeclaration=k;k=function(){return function(p,n){this.type=r.Syntax.VariableDeclarator;this.id=p;this.init=n}}();t.VariableDeclarator=k;k=function(){return function(p,n){this.type=r.Syntax.WhileStatement;
this.test=p;this.body=n}}();t.WhileStatement=k;k=function(){return function(p,n){this.type=r.Syntax.WithStatement;this.object=p;this.body=n}}();t.WithStatement=k;k=function(){return function(p,n){this.type=r.Syntax.YieldExpression;this.argument=p;this.delegate=n}}();t.YieldExpression=k},function(k,t,y){Object.defineProperty(t,"__esModule",{value:!0});var r=y(9),p=y(10),n=y(11),w=y(7),A=y(12),l=y(2),G=y(13);k=function(){function g(a,c,f){void 0===c&&(c={});this.config={range:"boolean"===typeof c.range&&
c.range,loc:"boolean"===typeof c.loc&&c.loc,source:null,tokens:"boolean"===typeof c.tokens&&c.tokens,comment:"boolean"===typeof c.comment&&c.comment,tolerant:"boolean"===typeof c.tolerant&&c.tolerant};this.config.loc&&c.source&&null!==c.source&&(this.config.source=String(c.source));this.delegate=f;this.errorHandler=new p.ErrorHandler;this.errorHandler.tolerant=this.config.tolerant;this.scanner=new A.Scanner(a,this.errorHandler);this.scanner.trackComment=this.config.comment;this.operatorPrecedence=
{")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11};this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0};this.hasLineTerminator=!1;this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,
labelSet:{},strict:!1};this.tokens=[];this.startMarker={index:0,line:this.scanner.lineNumber,column:0};this.lastMarker={index:0,line:this.scanner.lineNumber,column:0};this.nextToken();this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}g.prototype.throwError=function(a){for(var c=1;c<arguments.length;c++);var f=Array.prototype.slice.call(arguments,1);c=a.replace(/%(\d)/g,function(a,c){r.assert(c<f.length,"Message reference must be in range");
return f[c]});throw this.errorHandler.createError(this.lastMarker.index,this.lastMarker.line,this.lastMarker.column+1,c);};g.prototype.tolerateError=function(a){for(var c=1;c<arguments.length;c++);var f=Array.prototype.slice.call(arguments,1);c=a.replace(/%(\d)/g,function(a,c){r.assert(c<f.length,"Message reference must be in range");return f[c]});this.errorHandler.tolerateError(this.lastMarker.index,this.scanner.lineNumber,this.lastMarker.column+1,c)};g.prototype.unexpectedTokenError=function(a,
c){var f=c||n.Messages.UnexpectedToken;a?(c||(f=2===a.type?n.Messages.UnexpectedEOS:3===a.type?n.Messages.UnexpectedIdentifier:6===a.type?n.Messages.UnexpectedNumber:8===a.type?n.Messages.UnexpectedString:10===a.type?n.Messages.UnexpectedTemplate:n.Messages.UnexpectedToken,4===a.type&&(this.scanner.isFutureReservedWord(a.value)?f=n.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(a.value)&&(f=n.Messages.StrictReservedWord))),c=a.value):c="ILLEGAL";f=f.replace("%0",
c);if(a&&"number"===typeof a.lineNumber){c=a.start;var m=a.lineNumber;a=a.start-(this.lastMarker.index-this.lastMarker.column)+1}else c=this.lastMarker.index,m=this.lastMarker.line,a=this.lastMarker.column+1;return this.errorHandler.createError(c,m,a,f)};g.prototype.throwUnexpectedToken=function(a,c){throw this.unexpectedTokenError(a,c);};g.prototype.tolerateUnexpectedToken=function(a,c){this.errorHandler.tolerate(this.unexpectedTokenError(a,c))};g.prototype.collectComments=function(){if(this.config.comment){var a=
this.scanner.scanComments();if(0<a.length&&this.delegate)for(var c=0;c<a.length;++c){var f=a[c];var m={type:f.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(f.slice[0],f.slice[1])};this.config.range&&(m.range=f.range);this.config.loc&&(m.loc=f.loc);this.delegate(m,{start:{line:f.loc.start.line,column:f.loc.start.column,offset:f.range[0]},end:{line:f.loc.end.line,column:f.loc.end.column,offset:f.range[1]}})}}else this.scanner.scanComments()};g.prototype.getTokenRaw=function(a){return this.scanner.source.slice(a.start,
a.end)};g.prototype.convertToken=function(a){var c={type:G.TokenName[a.type],value:this.getTokenRaw(a)};this.config.range&&(c.range=[a.start,a.end]);this.config.loc&&(c.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}});9===a.type&&(c.regex={pattern:a.pattern,flags:a.flags});return c};g.prototype.nextToken=function(){var a=this.lookahead;this.lastMarker.index=this.scanner.index;this.lastMarker.line=
this.scanner.lineNumber;this.lastMarker.column=this.scanner.index-this.scanner.lineStart;this.collectComments();this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var c=this.scanner.lex();this.hasLineTerminator=a.lineNumber!==c.lineNumber;c&&this.context.strict&&3===c.type&&this.scanner.isStrictModeReservedWord(c.value)&&(c.type=4);this.lookahead=c;
this.config.tokens&&2!==c.type&&this.tokens.push(this.convertToken(c));return a};g.prototype.nextRegexToken=function(){this.collectComments();var a=this.scanner.scanRegExp();this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(a)));this.lookahead=a;this.nextToken();return a};g.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}};g.prototype.startNode=function(a,c){void 0===c&&(c=0);var f=a.start-a.lineStart,
m=a.lineNumber;0>f&&(f+=c,m--);return{index:a.start,line:m,column:f}};g.prototype.finalize=function(a,c){this.config.range&&(c.range=[a.index,this.lastMarker.index]);this.config.loc&&(c.loc={start:{line:a.line,column:a.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(c.loc.source=this.config.source));this.delegate&&this.delegate(c,{start:{line:a.line,column:a.column,offset:a.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}});
return c};g.prototype.expect=function(a){var c=this.nextToken();7===c.type&&c.value===a||this.throwUnexpectedToken(c)};g.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var a=this.lookahead;7===a.type&&","===a.value?this.nextToken():7===a.type&&";"===a.value?(this.nextToken(),this.tolerateUnexpectedToken(a)):this.tolerateUnexpectedToken(a,n.Messages.UnexpectedToken)}else this.expect(",")};g.prototype.expectKeyword=function(a){var c=this.nextToken();4===c.type&&c.value===a||this.throwUnexpectedToken(c)};
g.prototype.match=function(a){return 7===this.lookahead.type&&this.lookahead.value===a};g.prototype.matchKeyword=function(a){return 4===this.lookahead.type&&this.lookahead.value===a};g.prototype.matchContextualKeyword=function(a){return 3===this.lookahead.type&&this.lookahead.value===a};g.prototype.matchAssign=function(){if(7!==this.lookahead.type)return!1;var a=this.lookahead.value;return"="===a||"*="===a||"**="===a||"/="===a||"%="===a||"+="===a||"-="===a||"<<="===a||">>="===a||">>>="===a||"&="===
a||"^="===a||"|="===a};g.prototype.isolateCoverGrammar=function(a){var c=this.context.isBindingElement,f=this.context.isAssignmentTarget,m=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0;this.context.isAssignmentTarget=!0;this.context.firstCoverInitializedNameError=null;a=a.call(this);null!==this.context.firstCoverInitializedNameError&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError);this.context.isBindingElement=c;this.context.isAssignmentTarget=
f;this.context.firstCoverInitializedNameError=m;return a};g.prototype.inheritCoverGrammar=function(a){var c=this.context.isBindingElement,f=this.context.isAssignmentTarget,m=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0;this.context.isAssignmentTarget=!0;this.context.firstCoverInitializedNameError=null;a=a.call(this);this.context.isBindingElement=this.context.isBindingElement&&c;this.context.isAssignmentTarget=this.context.isAssignmentTarget&&f;this.context.firstCoverInitializedNameError=
m||this.context.firstCoverInitializedNameError;return a};g.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(2===this.lookahead.type||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)};g.prototype.parsePrimaryExpression=function(){var a=this.createNode();switch(this.lookahead.type){case 3:(this.context.isModule||
this.context.await)&&"await"===this.lookahead.value&&this.tolerateUnexpectedToken(this.lookahead);a=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(a,new w.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,n.Messages.StrictOctalLiteral);this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;var c=this.nextToken();var f=this.getTokenRaw(c);a=this.finalize(a,new w.Literal(c.value,
f));break;case 1:this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;c=this.nextToken();f=this.getTokenRaw(c);a=this.finalize(a,new w.Literal("true"===c.value,f));break;case 5:this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;c=this.nextToken();f=this.getTokenRaw(c);a=this.finalize(a,new w.Literal(null,f));break;case 10:a=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case "(":this.context.isBindingElement=!1;a=this.inheritCoverGrammar(this.parseGroupExpression);
break;case "[":a=this.inheritCoverGrammar(this.parseArrayInitializer);break;case "{":a=this.inheritCoverGrammar(this.parseObjectInitializer);break;case "/":case "/=":this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;this.scanner.index=this.startMarker.index;c=this.nextRegexToken();f=this.getTokenRaw(c);a=this.finalize(a,new w.RegexLiteral(c.regex,f,c.pattern,c.flags));break;default:a=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&
this.matchKeyword("yield")?a=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?a=this.finalize(a,new w.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?a=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),a=this.finalize(a,new w.ThisExpression)):a=this.matchKeyword("class")?this.parseClassExpression():this.throwUnexpectedToken(this.nextToken()));break;default:a=this.throwUnexpectedToken(this.nextToken())}return a};
g.prototype.parseSpreadElement=function(){var a=this.createNode();this.expect("...");var c=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(a,new w.SpreadElement(c))};g.prototype.parseArrayInitializer=function(){var a=this.createNode(),c=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),c.push(null);else if(this.match("...")){var f=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,
this.expect(","));c.push(f)}else c.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");this.expect("]");return this.finalize(a,new w.ArrayExpression(c))};g.prototype.parsePropertyMethod=function(a){this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;var c=this.context.strict,f=this.context.allowStrictDirective;this.context.allowStrictDirective=a.simple;var m=this.isolateCoverGrammar(this.parseFunctionSourceElements);this.context.strict&&
a.firstRestricted&&this.tolerateUnexpectedToken(a.firstRestricted,a.message);this.context.strict&&a.stricted&&this.tolerateUnexpectedToken(a.stricted,a.message);this.context.strict=c;this.context.allowStrictDirective=f;return m};g.prototype.parsePropertyMethodFunction=function(){var a=this.createNode(),c=this.context.allowYield;this.context.allowYield=!0;var f=this.parseFormalParameters(),m=this.parsePropertyMethod(f);this.context.allowYield=c;return this.finalize(a,new w.FunctionExpression(null,
f.params,m,!1))};g.prototype.parsePropertyMethodAsyncFunction=function(){var a=this.createNode(),c=this.context.allowYield,f=this.context.await;this.context.allowYield=!1;this.context.await=!0;var m=this.parseFormalParameters(),g=this.parsePropertyMethod(m);this.context.allowYield=c;this.context.await=f;return this.finalize(a,new w.AsyncFunctionExpression(null,m.params,g))};g.prototype.parseObjectPropertyKey=function(){var a=this.createNode(),c=this.nextToken();switch(c.type){case 8:case 6:this.context.strict&&
c.octal&&this.tolerateUnexpectedToken(c,n.Messages.StrictOctalLiteral);var f=this.getTokenRaw(c);a=this.finalize(a,new w.Literal(c.value,f));break;case 3:case 1:case 5:case 4:a=this.finalize(a,new w.Identifier(c.value));break;case 7:"["===c.value?(a=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):a=this.throwUnexpectedToken(c);break;default:a=this.throwUnexpectedToken(c)}return a};g.prototype.isPropertyKey=function(a,c){return a.type===l.Syntax.Identifier&&a.name===c||a.type===
l.Syntax.Literal&&a.value===c};g.prototype.parseObjectProperty=function(a){var c=this.createNode(),f=this.lookahead,m=null,g=null,l=!1,p=!1,k=!1,A=!1;if(3===f.type){var r=f.value;this.nextToken();l=this.match("[");m=(A=!this.hasLineTerminator&&"async"===r&&!this.match(":")&&!this.match("(")&&!this.match("*")&&!this.match(","))?this.parseObjectPropertyKey():this.finalize(c,new w.Identifier(r))}else this.match("*")?this.nextToken():(l=this.match("["),m=this.parseObjectPropertyKey());var u=this.qualifiedPropertyName(this.lookahead);
3===f.type&&!A&&"get"===f.value&&u?(u="get",l=this.match("["),m=this.parseObjectPropertyKey(),this.context.allowYield=!1,g=this.parseGetterMethod()):3===f.type&&!A&&"set"===f.value&&u?(u="set",l=this.match("["),m=this.parseObjectPropertyKey(),g=this.parseSetterMethod()):7===f.type&&"*"===f.value&&u?(u="init",l=this.match("["),m=this.parseObjectPropertyKey(),g=this.parseGeneratorMethod(),p=!0):(m||this.throwUnexpectedToken(this.lookahead),u="init",this.match(":")&&!A?(!l&&this.isPropertyKey(m,"__proto__")&&
(a.value&&this.tolerateError(n.Messages.DuplicateProtoProperty),a.value=!0),this.nextToken(),g=this.inheritCoverGrammar(this.parseAssignmentExpression)):this.match("(")?(g=A?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),p=!0):3===f.type?(r=this.finalize(c,new w.Identifier(f.value)),this.match("=")?(this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),k=!0,a=this.isolateCoverGrammar(this.parseAssignmentExpression),g=this.finalize(c,new w.AssignmentPattern(r,
a))):(k=!0,g=r)):this.throwUnexpectedToken(this.nextToken()));return this.finalize(c,new w.Property(u,m,l,g,p,k))};g.prototype.parseObjectInitializer=function(){var a=this.createNode();this.expect("{");for(var c=[],f={value:!1};!this.match("}");)c.push(this.parseObjectProperty(f)),this.match("}")||this.expectCommaSeparator();this.expect("}");return this.finalize(a,new w.ObjectExpression(c))};g.prototype.parseTemplateHead=function(){r.assert(this.lookahead.head,"Template literal must start with a template head");
var a=this.createNode(),c=this.nextToken();return this.finalize(a,new w.TemplateElement({raw:c.value,cooked:c.cooked},c.tail))};g.prototype.parseTemplateElement=function(){10!==this.lookahead.type&&this.throwUnexpectedToken();var a=this.createNode(),c=this.nextToken();return this.finalize(a,new w.TemplateElement({raw:c.value,cooked:c.cooked},c.tail))};g.prototype.parseTemplateLiteral=function(){var a=this.createNode(),c=[],f=[],m=this.parseTemplateHead();for(f.push(m);!m.tail;)c.push(this.parseExpression()),
m=this.parseTemplateElement(),f.push(m);return this.finalize(a,new w.TemplateLiteral(f,c))};g.prototype.reinterpretExpressionAsPattern=function(a){switch(a.type){case l.Syntax.SpreadElement:a.type=l.Syntax.RestElement;this.reinterpretExpressionAsPattern(a.argument);break;case l.Syntax.ArrayExpression:a.type=l.Syntax.ArrayPattern;for(var c=0;c<a.elements.length;c++)null!==a.elements[c]&&this.reinterpretExpressionAsPattern(a.elements[c]);break;case l.Syntax.ObjectExpression:a.type=l.Syntax.ObjectPattern;
for(c=0;c<a.properties.length;c++)this.reinterpretExpressionAsPattern(a.properties[c].value);break;case l.Syntax.AssignmentExpression:a.type=l.Syntax.AssignmentPattern,delete a.operator,this.reinterpretExpressionAsPattern(a.left)}};g.prototype.parseGroupExpression=function(){this.expect("(");if(this.match(")")){this.nextToken();this.match("=>")||this.expect("=>");var a={type:"ArrowParameterPlaceHolder",params:[],async:!1}}else{var c=this.lookahead,f=[];if(this.match("..."))a=this.parseRestElement(f),
this.expect(")"),this.match("=>")||this.expect("=>"),a={type:"ArrowParameterPlaceHolder",params:[a],async:!1};else{var m=!1;this.context.isBindingElement=!0;a=this.inheritCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var g=[];this.context.isAssignmentTarget=!1;for(g.push(a);2!==this.lookahead.type&&this.match(",");){this.nextToken();if(this.match(")")){this.nextToken();for(m=0;m<g.length;m++)this.reinterpretExpressionAsPattern(g[m]);m=!0;a={type:"ArrowParameterPlaceHolder",params:g,
async:!1}}else if(this.match("...")){this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead);g.push(this.parseRestElement(f));this.expect(")");this.match("=>")||this.expect("=>");this.context.isBindingElement=!1;for(m=0;m<g.length;m++)this.reinterpretExpressionAsPattern(g[m]);m=!0;a={type:"ArrowParameterPlaceHolder",params:g,async:!1}}else g.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(m)break}m||(a=this.finalize(this.startNode(c),new w.SequenceExpression(g)))}if(!m){this.expect(")");
if(this.match("=>")&&(a.type===l.Syntax.Identifier&&"yield"===a.name&&(m=!0,a={type:"ArrowParameterPlaceHolder",params:[a],async:!1}),!m)){this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead);if(a.type===l.Syntax.SequenceExpression)for(m=0;m<a.expressions.length;m++)this.reinterpretExpressionAsPattern(a.expressions[m]);else this.reinterpretExpressionAsPattern(a);a={type:"ArrowParameterPlaceHolder",params:a.type===l.Syntax.SequenceExpression?a.expressions:[a],async:!1}}this.context.isBindingElement=
!1}}}return a};g.prototype.parseArguments=function(){this.expect("(");var a=[];if(!this.match(")"))for(;;){var c=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);a.push(c);if(this.match(")"))break;this.expectCommaSeparator();if(this.match(")"))break}this.expect(")");return a};g.prototype.isIdentifierName=function(a){return 3===a.type||4===a.type||1===a.type||5===a.type};g.prototype.parseIdentifierName=function(){var a=this.createNode(),c=this.nextToken();
this.isIdentifierName(c)||this.throwUnexpectedToken(c);return this.finalize(a,new w.Identifier(c.value))};g.prototype.parseNewExpression=function(){var a=this.createNode(),c=this.parseIdentifierName();r.assert("new"===c.name,"New expression must start with `new`");if(this.match("."))if(this.nextToken(),3===this.lookahead.type&&this.context.inFunctionBody&&"target"===this.lookahead.value){var f=this.parseIdentifierName();f=new w.MetaProperty(c,f)}else this.throwUnexpectedToken(this.lookahead);else c=
this.isolateCoverGrammar(this.parseLeftHandSideExpression),f=this.match("(")?this.parseArguments():[],f=new w.NewExpression(c,f),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;return this.finalize(a,f)};g.prototype.parseAsyncArgument=function(){var a=this.parseAssignmentExpression();this.context.firstCoverInitializedNameError=null;return a};g.prototype.parseAsyncArguments=function(){this.expect("(");var a=[];if(!this.match(")"))for(;;){var c=this.match("...")?this.parseSpreadElement():
this.isolateCoverGrammar(this.parseAsyncArgument);a.push(c);if(this.match(")"))break;this.expectCommaSeparator();if(this.match(")"))break}this.expect(")");return a};g.prototype.parseLeftHandSideExpressionAllowCall=function(){var a=this.lookahead,c=this.matchContextualKeyword("async"),f=this.context.allowIn;this.context.allowIn=!0;if(this.matchKeyword("super")&&this.context.inFunctionBody){var m=this.createNode();this.nextToken();m=this.finalize(m,new w.Super);this.match("(")||this.match(".")||this.match("[")||
this.throwUnexpectedToken(this.lookahead)}else m=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);for(;;)if(this.match(".")){this.context.isBindingElement=!1;this.context.isAssignmentTarget=!0;this.expect(".");var g=this.parseIdentifierName();m=this.finalize(this.startNode(a),new w.StaticMemberExpression(m,g))}else if(this.match("(")){var l=c&&a.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1;this.context.isAssignmentTarget=
!1;g=l?this.parseAsyncArguments():this.parseArguments();m=this.finalize(this.startNode(a),new w.CallExpression(m,g));if(l&&this.match("=>")){for(m=0;m<g.length;++m)this.reinterpretExpressionAsPattern(g[m]);m={type:"ArrowParameterPlaceHolder",params:g,async:!0}}}else if(this.match("["))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("["),g=this.isolateCoverGrammar(this.parseExpression),this.expect("]"),m=this.finalize(this.startNode(a),new w.ComputedMemberExpression(m,
g));else if(10===this.lookahead.type&&this.lookahead.head)g=this.parseTemplateLiteral(),m=this.finalize(this.startNode(a),new w.TaggedTemplateExpression(m,g));else break;this.context.allowIn=f;return m};g.prototype.parseSuper=function(){var a=this.createNode();this.expectKeyword("super");this.match("[")||this.match(".")||this.throwUnexpectedToken(this.lookahead);return this.finalize(a,new w.Super)};g.prototype.parseLeftHandSideExpression=function(){r.assert(this.context.allowIn,"callee of new expression always allow in keyword.");
for(var a=this.startNode(this.lookahead),c=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1;this.context.isAssignmentTarget=!0;this.expect("[");var f=this.isolateCoverGrammar(this.parseExpression);this.expect("]");c=this.finalize(a,new w.ComputedMemberExpression(c,f))}else if(this.match("."))this.context.isBindingElement=
!1,this.context.isAssignmentTarget=!0,this.expect("."),f=this.parseIdentifierName(),c=this.finalize(a,new w.StaticMemberExpression(c,f));else if(10===this.lookahead.type&&this.lookahead.head)f=this.parseTemplateLiteral(),c=this.finalize(a,new w.TaggedTemplateExpression(c,f));else break;return c};g.prototype.parseUpdateExpression=function(){var a=this.lookahead;if(this.match("++")||this.match("--")){a=this.startNode(a);var c=this.nextToken();var f=this.inheritCoverGrammar(this.parseUnaryExpression);
this.context.strict&&f.type===l.Syntax.Identifier&&this.scanner.isRestrictedWord(f.name)&&this.tolerateError(n.Messages.StrictLHSPrefix);this.context.isAssignmentTarget||this.tolerateError(n.Messages.InvalidLHSInAssignment);f=this.finalize(a,new w.UpdateExpression(c.value,f,!0));this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1}else f=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),this.hasLineTerminator||7!==this.lookahead.type||!this.match("++")&&!this.match("--")||
(this.context.strict&&f.type===l.Syntax.Identifier&&this.scanner.isRestrictedWord(f.name)&&this.tolerateError(n.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(n.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,c=this.nextToken().value,f=this.finalize(this.startNode(a),new w.UpdateExpression(c,f,!1)));return f};g.prototype.parseAwaitExpression=function(){var a=this.createNode();this.nextToken();var c=this.parseUnaryExpression();
return this.finalize(a,new w.AwaitExpression(c))};g.prototype.parseUnaryExpression=function(){if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var a=this.startNode(this.lookahead),c=this.nextToken();var f=this.inheritCoverGrammar(this.parseUnaryExpression);f=this.finalize(a,new w.UnaryExpression(c.value,f));this.context.strict&&"delete"===f.operator&&f.argument.type===l.Syntax.Identifier&&this.tolerateError(n.Messages.StrictDelete);
this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1}else f=this.context.await&&this.matchContextualKeyword("await")?this.parseAwaitExpression():this.parseUpdateExpression();return f};g.prototype.parseExponentiationExpression=function(){var a=this.lookahead,c=this.inheritCoverGrammar(this.parseUnaryExpression);if(c.type!==l.Syntax.UnaryExpression&&this.match("**")){this.nextToken();this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;var f=this.isolateCoverGrammar(this.parseExponentiationExpression);
c=this.finalize(this.startNode(a),new w.BinaryExpression("**",c,f))}return c};g.prototype.binaryPrecedence=function(a){var c=a.value;return 7===a.type?this.operatorPrecedence[c]||0:4===a.type?"instanceof"===c||this.context.allowIn&&"in"===c?7:0:0};g.prototype.parseBinaryExpression=function(){var a=this.lookahead,c=this.inheritCoverGrammar(this.parseExponentiationExpression),f=this.lookahead,g=this.binaryPrecedence(f);if(0<g){this.nextToken();this.context.isAssignmentTarget=!1;this.context.isBindingElement=
!1;a=[a,this.lookahead];var l=this.isolateCoverGrammar(this.parseExponentiationExpression);f=[c,f.value,l];for(var n=[g];;){g=this.binaryPrecedence(this.lookahead);if(0>=g)break;for(;2<f.length&&g<=n[n.length-1];){l=f.pop();var p=f.pop();n.pop();c=f.pop();a.pop();var k=this.startNode(a[a.length-1]);f.push(this.finalize(k,new w.BinaryExpression(p,c,l)))}f.push(this.nextToken().value);n.push(g);a.push(this.lookahead);f.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}g=f.length-1;
c=f[g];for(p=a.pop();1<g;)l=a.pop(),k=this.startNode(l,p&&p.lineStart),p=f[g-1],c=this.finalize(k,new w.BinaryExpression(p,f[g-2],c)),g-=2,p=l}return c};g.prototype.parseConditionalExpression=function(){var a=this.lookahead,c=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var f=this.context.allowIn;this.context.allowIn=!0;var g=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=f;this.expect(":");f=this.isolateCoverGrammar(this.parseAssignmentExpression);
c=this.finalize(this.startNode(a),new w.ConditionalExpression(c,g,f));this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1}return c};g.prototype.checkPatternParam=function(a,c){switch(c.type){case l.Syntax.Identifier:this.validateParam(a,c,c.name);break;case l.Syntax.RestElement:this.checkPatternParam(a,c.argument);break;case l.Syntax.AssignmentPattern:this.checkPatternParam(a,c.left);break;case l.Syntax.ArrayPattern:for(var f=0;f<c.elements.length;f++)null!==c.elements[f]&&this.checkPatternParam(a,
c.elements[f]);break;case l.Syntax.ObjectPattern:for(f=0;f<c.properties.length;f++)this.checkPatternParam(a,c.properties[f].value)}a.simple=a.simple&&c instanceof w.Identifier};g.prototype.reinterpretAsCoverFormalsList=function(a){var c=[a],f=!1;switch(a.type){case l.Syntax.Identifier:break;case "ArrowParameterPlaceHolder":c=a.params;f=a.async;break;default:return null}a={simple:!0,paramSet:{}};for(var g=0;g<c.length;++g){var p=c[g];p.type===l.Syntax.AssignmentPattern?p.right.type===l.Syntax.YieldExpression&&
(p.right.argument&&this.throwUnexpectedToken(this.lookahead),p.right.type=l.Syntax.Identifier,p.right.name="yield",delete p.right.argument,delete p.right.delegate):f&&p.type===l.Syntax.Identifier&&"await"===p.name&&this.throwUnexpectedToken(this.lookahead);this.checkPatternParam(a,p);c[g]=p}if(this.context.strict||!this.context.allowYield)for(g=0;g<c.length;++g)p=c[g],p.type===l.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead);a.message===n.Messages.StrictParamDupe&&this.throwUnexpectedToken(this.context.strict?
a.stricted:a.firstRestricted,a.message);return{simple:a.simple,params:c,stricted:a.stricted,firstRestricted:a.firstRestricted,message:a.message}};g.prototype.parseAssignmentExpression=function(){if(!this.context.allowYield&&this.matchKeyword("yield"))var a=this.parseYieldExpression();else{var c=this.lookahead,f=c;a=this.parseConditionalExpression();3!==f.type||f.lineNumber!==this.lookahead.lineNumber||"async"!==f.value||3!==this.lookahead.type&&!this.matchKeyword("yield")||(a=this.parsePrimaryExpression(),
this.reinterpretExpressionAsPattern(a),a={type:"ArrowParameterPlaceHolder",params:[a],async:!0});if("ArrowParameterPlaceHolder"===a.type||this.match("=>")){this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;f=a.async;var g=this.reinterpretAsCoverFormalsList(a);if(g){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead);this.context.firstCoverInitializedNameError=null;var p=this.context.strict,k=this.context.allowStrictDirective;this.context.allowStrictDirective=g.simple;
var A=this.context.allowYield,r=this.context.await;this.context.allowYield=!0;this.context.await=f;c=this.startNode(c);this.expect("=>");if(this.match("{")){var t=this.context.allowIn;this.context.allowIn=!0;a=this.parseFunctionSourceElements();this.context.allowIn=t}else a=this.isolateCoverGrammar(this.parseAssignmentExpression);t=a.type!==l.Syntax.BlockStatement;this.context.strict&&g.firstRestricted&&this.throwUnexpectedToken(g.firstRestricted,g.message);this.context.strict&&g.stricted&&this.tolerateUnexpectedToken(g.stricted,
g.message);a=f?this.finalize(c,new w.AsyncArrowFunctionExpression(g.params,a,t)):this.finalize(c,new w.ArrowFunctionExpression(g.params,a,t));this.context.strict=p;this.context.allowStrictDirective=k;this.context.allowYield=A;this.context.await=r}}else this.matchAssign()&&(this.context.isAssignmentTarget||this.tolerateError(n.Messages.InvalidLHSInAssignment),this.context.strict&&a.type===l.Syntax.Identifier&&(g=a,this.scanner.isRestrictedWord(g.name)&&this.tolerateUnexpectedToken(f,n.Messages.StrictLHSAssignment),
this.scanner.isStrictModeReservedWord(g.name)&&this.tolerateUnexpectedToken(f,n.Messages.StrictReservedWord)),this.match("=")?this.reinterpretExpressionAsPattern(a):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1),f=this.nextToken(),f=f.value,g=this.isolateCoverGrammar(this.parseAssignmentExpression),a=this.finalize(this.startNode(c),new w.AssignmentExpression(f,a,g)),this.context.firstCoverInitializedNameError=null)}return a};g.prototype.parseExpression=function(){var a=this.lookahead,
c=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var f=[];for(f.push(c);2!==this.lookahead.type&&this.match(",");)this.nextToken(),f.push(this.isolateCoverGrammar(this.parseAssignmentExpression));c=this.finalize(this.startNode(a),new w.SequenceExpression(f))}return c};g.prototype.parseStatementListItem=function(){this.context.isAssignmentTarget=!0;this.context.isBindingElement=!0;if(4===this.lookahead.type)switch(this.lookahead.value){case "export":this.context.isModule||
this.tolerateUnexpectedToken(this.lookahead,n.Messages.IllegalExportDeclaration);var a=this.parseExportDeclaration();break;case "import":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,n.Messages.IllegalImportDeclaration);a=this.parseImportDeclaration();break;case "const":a=this.parseLexicalDeclaration({inFor:!1});break;case "function":a=this.parseFunctionDeclaration();break;case "class":a=this.parseClassDeclaration();break;case "let":a=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):
this.parseStatement();break;default:a=this.parseStatement()}else a=this.parseStatement();return a};g.prototype.parseBlock=function(){var a=this.createNode();this.expect("{");for(var c=[];!this.match("}");)c.push(this.parseStatementListItem());this.expect("}");return this.finalize(a,new w.BlockStatement(c))};g.prototype.parseLexicalBinding=function(a,c){var f=this.createNode(),g=this.parsePattern([],a);this.context.strict&&g.type===l.Syntax.Identifier&&this.scanner.isRestrictedWord(g.name)&&this.tolerateError(n.Messages.StrictVarName);
var p=null;if("const"===a)this.matchKeyword("in")||this.matchContextualKeyword("of")||(this.match("=")?(this.nextToken(),p=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(n.Messages.DeclarationMissingInitializer,"const"));else if(!c.inFor&&g.type!==l.Syntax.Identifier||this.match("="))this.expect("="),p=this.isolateCoverGrammar(this.parseAssignmentExpression);return this.finalize(f,new w.VariableDeclarator(g,p))};g.prototype.parseBindingList=function(a,c){for(var f=[this.parseLexicalBinding(a,
c)];this.match(",");)this.nextToken(),f.push(this.parseLexicalBinding(a,c));return f};g.prototype.isLexicalDeclaration=function(){var a=this.scanner.saveState();this.scanner.scanComments();var c=this.scanner.lex();this.scanner.restoreState(a);return 3===c.type||7===c.type&&"["===c.value||7===c.type&&"{"===c.value||4===c.type&&"let"===c.value||4===c.type&&"yield"===c.value};g.prototype.parseLexicalDeclaration=function(a){var c=this.createNode(),f=this.nextToken().value;r.assert("let"===f||"const"===
f,"Lexical declaration must be either let or const");a=this.parseBindingList(f,a);this.consumeSemicolon();return this.finalize(c,new w.VariableDeclaration(a,f))};g.prototype.parseBindingRestElement=function(a,c){var f=this.createNode();this.expect("...");a=this.parsePattern(a,c);return this.finalize(f,new w.RestElement(a))};g.prototype.parseArrayPattern=function(a,c){var f=this.createNode();this.expect("[");for(var g=[];!this.match("]");)if(this.match(","))this.nextToken(),g.push(null);else{if(this.match("...")){g.push(this.parseBindingRestElement(a,
c));break}else g.push(this.parsePatternWithDefault(a,c));this.match("]")||this.expect(",")}this.expect("]");return this.finalize(f,new w.ArrayPattern(g))};g.prototype.parsePropertyPattern=function(a,c){var f=this.createNode(),g=!1,l=!1;if(3===this.lookahead.type){var n=this.lookahead;var p=this.parseVariableIdentifier();var k=this.finalize(f,new w.Identifier(n.value));this.match("=")?(a.push(n),l=!0,this.nextToken(),a=this.parseAssignmentExpression(),n=this.finalize(this.startNode(n),new w.AssignmentPattern(k,
a))):this.match(":")?(this.expect(":"),n=this.parsePatternWithDefault(a,c)):(a.push(n),l=!0,n=k)}else g=this.match("["),p=this.parseObjectPropertyKey(),this.expect(":"),n=this.parsePatternWithDefault(a,c);return this.finalize(f,new w.Property("init",p,g,n,!1,l))};g.prototype.parseObjectPattern=function(a,c){var f=this.createNode(),g=[];for(this.expect("{");!this.match("}");)g.push(this.parsePropertyPattern(a,c)),this.match("}")||this.expect(",");this.expect("}");return this.finalize(f,new w.ObjectPattern(g))};
g.prototype.parsePattern=function(a,c){this.match("[")?a=this.parseArrayPattern(a,c):this.match("{")?a=this.parseObjectPattern(a,c):(!this.matchKeyword("let")||"const"!==c&&"let"!==c||this.tolerateUnexpectedToken(this.lookahead,n.Messages.LetInLexicalBinding),a.push(this.lookahead),a=this.parseVariableIdentifier(c));return a};g.prototype.parsePatternWithDefault=function(a,c){var f=this.lookahead;a=this.parsePattern(a,c);if(this.match("=")){this.nextToken();c=this.context.allowYield;this.context.allowYield=
!0;var g=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=c;a=this.finalize(this.startNode(f),new w.AssignmentPattern(a,g))}return a};g.prototype.parseVariableIdentifier=function(a){var c=this.createNode(),f=this.nextToken();4===f.type&&"yield"===f.value?this.context.strict?this.tolerateUnexpectedToken(f,n.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(f):3!==f.type?this.context.strict&&4===f.type&&this.scanner.isStrictModeReservedWord(f.value)?
this.tolerateUnexpectedToken(f,n.Messages.StrictReservedWord):(this.context.strict||"let"!==f.value||"var"!==a)&&this.throwUnexpectedToken(f):(this.context.isModule||this.context.await)&&3===f.type&&"await"===f.value&&this.tolerateUnexpectedToken(f);return this.finalize(c,new w.Identifier(f.value))};g.prototype.parseVariableDeclaration=function(a){var c=this.createNode(),f=this.parsePattern([],"var");this.context.strict&&f.type===l.Syntax.Identifier&&this.scanner.isRestrictedWord(f.name)&&this.tolerateError(n.Messages.StrictVarName);
var g=null;this.match("=")?(this.nextToken(),g=this.isolateCoverGrammar(this.parseAssignmentExpression)):f.type===l.Syntax.Identifier||a.inFor||this.expect("=");return this.finalize(c,new w.VariableDeclarator(f,g))};g.prototype.parseVariableDeclarationList=function(a){a={inFor:a.inFor};var c=[];for(c.push(this.parseVariableDeclaration(a));this.match(",");)this.nextToken(),c.push(this.parseVariableDeclaration(a));return c};g.prototype.parseVariableStatement=function(){var a=this.createNode();this.expectKeyword("var");
var c=this.parseVariableDeclarationList({inFor:!1});this.consumeSemicolon();return this.finalize(a,new w.VariableDeclaration(c,"var"))};g.prototype.parseEmptyStatement=function(){var a=this.createNode();this.expect(";");return this.finalize(a,new w.EmptyStatement)};g.prototype.parseExpressionStatement=function(){var a=this.createNode(),c=this.parseExpression();this.consumeSemicolon();return this.finalize(a,new w.ExpressionStatement(c))};g.prototype.parseIfClause=function(){this.context.strict&&this.matchKeyword("function")&&
this.tolerateError(n.Messages.StrictFunction);return this.parseStatement()};g.prototype.parseIfStatement=function(){var a=this.createNode(),c=null;this.expectKeyword("if");this.expect("(");var f=this.parseExpression();if(!this.match(")")&&this.config.tolerant){this.tolerateUnexpectedToken(this.nextToken());var g=this.finalize(this.createNode(),new w.EmptyStatement)}else this.expect(")"),g=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),c=this.parseIfClause());return this.finalize(a,
new w.IfStatement(f,g,c))};g.prototype.parseDoWhileStatement=function(){var a=this.createNode();this.expectKeyword("do");var c=this.context.inIteration;this.context.inIteration=!0;var f=this.parseStatement();this.context.inIteration=c;this.expectKeyword("while");this.expect("(");c=this.parseExpression();!this.match(")")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(")"),this.match(";")&&this.nextToken());return this.finalize(a,new w.DoWhileStatement(f,c))};g.prototype.parseWhileStatement=
function(){var a=this.createNode();this.expectKeyword("while");this.expect("(");var c=this.parseExpression();if(!this.match(")")&&this.config.tolerant){this.tolerateUnexpectedToken(this.nextToken());var f=this.finalize(this.createNode(),new w.EmptyStatement)}else{this.expect(")");var g=this.context.inIteration;this.context.inIteration=!0;f=this.parseStatement();this.context.inIteration=g}return this.finalize(a,new w.WhileStatement(c,f))};g.prototype.parseForStatement=function(){var a=null,c=null,
f=null,g=!0,p=this.createNode();this.expectKeyword("for");this.expect("(");if(this.match(";"))this.nextToken();else if(this.matchKeyword("var")){a=this.createNode();this.nextToken();var k=this.context.allowIn;this.context.allowIn=!1;var A=this.parseVariableDeclarationList({inFor:!0});this.context.allowIn=k;if(1===A.length&&this.matchKeyword("in")){var r=A[0];r.init&&(r.id.type===l.Syntax.ArrayPattern||r.id.type===l.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(n.Messages.ForInOfLoopInitializer,
"for-in");a=this.finalize(a,new w.VariableDeclaration(A,"var"));this.nextToken();r=a;var t=this.parseExpression();a=null}else 1===A.length&&null===A[0].init&&this.matchContextualKeyword("of")?(a=this.finalize(a,new w.VariableDeclaration(A,"var")),this.nextToken(),r=a,t=this.parseAssignmentExpression(),a=null,g=!1):(a=this.finalize(a,new w.VariableDeclaration(A,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){a=this.createNode();var G=this.nextToken().value;this.context.strict||
"in"!==this.lookahead.value?(k=this.context.allowIn,this.context.allowIn=!1,A=this.parseBindingList(G,{inFor:!0}),this.context.allowIn=k,1===A.length&&null===A[0].init&&this.matchKeyword("in")?(a=this.finalize(a,new w.VariableDeclaration(A,G)),this.nextToken(),r=a,t=this.parseExpression(),a=null):1===A.length&&null===A[0].init&&this.matchContextualKeyword("of")?(a=this.finalize(a,new w.VariableDeclaration(A,G)),this.nextToken(),r=a,t=this.parseAssignmentExpression(),a=null,g=!1):(this.consumeSemicolon(),
a=this.finalize(a,new w.VariableDeclaration(A,G)))):(a=this.finalize(a,new w.Identifier(G)),this.nextToken(),r=a,t=this.parseExpression(),a=null)}else if(A=this.lookahead,k=this.context.allowIn,this.context.allowIn=!1,a=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=k,this.matchKeyword("in"))this.context.isAssignmentTarget&&a.type!==l.Syntax.AssignmentExpression||this.tolerateError(n.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(a),
r=a,t=this.parseExpression(),a=null;else if(this.matchContextualKeyword("of"))this.context.isAssignmentTarget&&a.type!==l.Syntax.AssignmentExpression||this.tolerateError(n.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(a),r=a,t=this.parseAssignmentExpression(),a=null,g=!1;else{if(this.match(",")){for(a=[a];this.match(",");)this.nextToken(),a.push(this.isolateCoverGrammar(this.parseAssignmentExpression));a=this.finalize(this.startNode(A),new w.SequenceExpression(a))}this.expect(";")}"undefined"===
typeof r&&(this.match(";")||(c=this.parseExpression()),this.expect(";"),this.match(")")||(f=this.parseExpression()));!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),k=this.finalize(this.createNode(),new w.EmptyStatement)):(this.expect(")"),A=this.context.inIteration,this.context.inIteration=!0,k=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=A);return"undefined"===typeof r?this.finalize(p,new w.ForStatement(a,c,f,k)):g?this.finalize(p,
new w.ForInStatement(r,t,k)):this.finalize(p,new w.ForOfStatement(r,t,k))};g.prototype.parseContinueStatement=function(){var a=this.createNode();this.expectKeyword("continue");var c=null;if(3===this.lookahead.type&&!this.hasLineTerminator){var f=this.parseVariableIdentifier();c=f;Object.prototype.hasOwnProperty.call(this.context.labelSet,"$"+f.name)||this.throwError(n.Messages.UnknownLabel,f.name)}this.consumeSemicolon();null!==c||this.context.inIteration||this.throwError(n.Messages.IllegalContinue);
return this.finalize(a,new w.ContinueStatement(c))};g.prototype.parseBreakStatement=function(){var a=this.createNode();this.expectKeyword("break");var c=null;3!==this.lookahead.type||this.hasLineTerminator||(c=this.parseVariableIdentifier(),Object.prototype.hasOwnProperty.call(this.context.labelSet,"$"+c.name)||this.throwError(n.Messages.UnknownLabel,c.name));this.consumeSemicolon();null!==c||this.context.inIteration||this.context.inSwitch||this.throwError(n.Messages.IllegalBreak);return this.finalize(a,
new w.BreakStatement(c))};g.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(n.Messages.IllegalReturn);var a=this.createNode();this.expectKeyword("return");var c=(this.match(";")||this.match("}")||this.hasLineTerminator||2===this.lookahead.type)&&8!==this.lookahead.type&&10!==this.lookahead.type?null:this.parseExpression();this.consumeSemicolon();return this.finalize(a,new w.ReturnStatement(c))};g.prototype.parseWithStatement=function(){this.context.strict&&
this.tolerateError(n.Messages.StrictModeWith);var a=this.createNode();this.expectKeyword("with");this.expect("(");var c=this.parseExpression();if(!this.match(")")&&this.config.tolerant){this.tolerateUnexpectedToken(this.nextToken());var f=this.finalize(this.createNode(),new w.EmptyStatement)}else this.expect(")"),f=this.parseStatement();return this.finalize(a,new w.WithStatement(c,f))};g.prototype.parseSwitchCase=function(){var a=this.createNode();if(this.matchKeyword("default")){this.nextToken();
var c=null}else this.expectKeyword("case"),c=this.parseExpression();this.expect(":");for(var f=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)f.push(this.parseStatementListItem());return this.finalize(a,new w.SwitchCase(c,f))};g.prototype.parseSwitchStatement=function(){var a=this.createNode();this.expectKeyword("switch");this.expect("(");var c=this.parseExpression();this.expect(")");var f=this.context.inSwitch;this.context.inSwitch=!0;var g=[],l=!1;for(this.expect("{");!this.match("}");){var p=
this.parseSwitchCase();null===p.test&&(l&&this.throwError(n.Messages.MultipleDefaultsInSwitch),l=!0);g.push(p)}this.expect("}");this.context.inSwitch=f;return this.finalize(a,new w.SwitchStatement(c,g))};g.prototype.parseLabelledStatement=function(){var a=this.createNode(),c=this.parseExpression();if(c.type===l.Syntax.Identifier&&this.match(":")){this.nextToken();var f="$"+c.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,f)&&this.throwError(n.Messages.Redeclaration,"Label",c.name);
this.context.labelSet[f]=!0;if(this.matchKeyword("class")){this.tolerateUnexpectedToken(this.lookahead);var g=this.parseClassDeclaration()}else if(this.matchKeyword("function")){g=this.lookahead;var p=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(g,n.Messages.StrictFunction):p.generator&&this.tolerateUnexpectedToken(g,n.Messages.GeneratorInLegacyContext);g=p}else g=this.parseStatement();delete this.context.labelSet[f];c=new w.LabeledStatement(c,g)}else this.consumeSemicolon(),
c=new w.ExpressionStatement(c);return this.finalize(a,c)};g.prototype.parseThrowStatement=function(){var a=this.createNode();this.expectKeyword("throw");this.hasLineTerminator&&this.throwError(n.Messages.NewlineAfterThrow);var c=this.parseExpression();this.consumeSemicolon();return this.finalize(a,new w.ThrowStatement(c))};g.prototype.parseCatchClause=function(){var a=this.createNode();this.expectKeyword("catch");this.expect("(");this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var c=
[],f=this.parsePattern(c),g={},p=0;p<c.length;p++){var k="$"+c[p].value;Object.prototype.hasOwnProperty.call(g,k)&&this.tolerateError(n.Messages.DuplicateBinding,c[p].value);g[k]=!0}this.context.strict&&f.type===l.Syntax.Identifier&&this.scanner.isRestrictedWord(f.name)&&this.tolerateError(n.Messages.StrictCatchVariable);this.expect(")");c=this.parseBlock();return this.finalize(a,new w.CatchClause(f,c))};g.prototype.parseFinallyClause=function(){this.expectKeyword("finally");return this.parseBlock()};
g.prototype.parseTryStatement=function(){var a=this.createNode();this.expectKeyword("try");var c=this.parseBlock(),f=this.matchKeyword("catch")?this.parseCatchClause():null,g=this.matchKeyword("finally")?this.parseFinallyClause():null;f||g||this.throwError(n.Messages.NoCatchOrFinally);return this.finalize(a,new w.TryStatement(c,f,g))};g.prototype.parseDebuggerStatement=function(){var a=this.createNode();this.expectKeyword("debugger");this.consumeSemicolon();return this.finalize(a,new w.DebuggerStatement)};
g.prototype.parseStatement=function(){switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:var a=this.parseExpressionStatement();break;case 7:a=this.lookahead.value;a="{"===a?this.parseBlock():"("===a?this.parseExpressionStatement():";"===a?this.parseEmptyStatement():this.parseExpressionStatement();break;case 3:a=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case "break":a=this.parseBreakStatement();
break;case "continue":a=this.parseContinueStatement();break;case "debugger":a=this.parseDebuggerStatement();break;case "do":a=this.parseDoWhileStatement();break;case "for":a=this.parseForStatement();break;case "function":a=this.parseFunctionDeclaration();break;case "if":a=this.parseIfStatement();break;case "return":a=this.parseReturnStatement();break;case "switch":a=this.parseSwitchStatement();break;case "throw":a=this.parseThrowStatement();break;case "try":a=this.parseTryStatement();break;case "var":a=
this.parseVariableStatement();break;case "while":a=this.parseWhileStatement();break;case "with":a=this.parseWithStatement();break;default:a=this.parseExpressionStatement()}break;default:a=this.throwUnexpectedToken(this.lookahead)}return a};g.prototype.parseFunctionSourceElements=function(){var a=this.createNode();this.expect("{");var c=this.parseDirectivePrologues(),f=this.context.labelSet,g=this.context.inIteration,l=this.context.inSwitch,n=this.context.inFunctionBody;this.context.labelSet={};this.context.inIteration=
!1;this.context.inSwitch=!1;for(this.context.inFunctionBody=!0;2!==this.lookahead.type&&!this.match("}");)c.push(this.parseStatementListItem());this.expect("}");this.context.labelSet=f;this.context.inIteration=g;this.context.inSwitch=l;this.context.inFunctionBody=n;return this.finalize(a,new w.BlockStatement(c))};g.prototype.validateParam=function(a,c,f){var g="$"+f;this.context.strict?(this.scanner.isRestrictedWord(f)&&(a.stricted=c,a.message=n.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(a.paramSet,
g)&&(a.stricted=c,a.message=n.Messages.StrictParamDupe)):a.firstRestricted||(this.scanner.isRestrictedWord(f)?(a.firstRestricted=c,a.message=n.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(f)?(a.firstRestricted=c,a.message=n.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(a.paramSet,g)&&(a.stricted=c,a.message=n.Messages.StrictParamDupe));"function"===typeof Object.defineProperty?Object.defineProperty(a.paramSet,g,{value:!0,enumerable:!0,writable:!0,configurable:!0}):
a.paramSet[g]=!0};g.prototype.parseRestElement=function(a){var c=this.createNode();this.expect("...");a=this.parsePattern(a);this.match("=")&&this.throwError(n.Messages.DefaultRestParameter);this.match(")")||this.throwError(n.Messages.ParameterAfterRestParameter);return this.finalize(c,new w.RestElement(a))};g.prototype.parseFormalParameter=function(a){for(var c=[],f=this.match("...")?this.parseRestElement(c):this.parsePatternWithDefault(c),g=0;g<c.length;g++)this.validateParam(a,c[g],c[g].value);
a.simple=a.simple&&f instanceof w.Identifier;a.params.push(f)};g.prototype.parseFormalParameters=function(a){a={simple:!0,params:[],firstRestricted:a};this.expect("(");if(!this.match(")"))for(a.paramSet={};2!==this.lookahead.type;){this.parseFormalParameter(a);if(this.match(")"))break;this.expect(",");if(this.match(")"))break}this.expect(")");return{simple:a.simple,params:a.params,stricted:a.stricted,firstRestricted:a.firstRestricted,message:a.message}};g.prototype.matchAsyncFunction=function(){var a=
this.matchContextualKeyword("async");if(a){a=this.scanner.saveState();this.scanner.scanComments();var c=this.scanner.lex();this.scanner.restoreState(a);a=a.lineNumber===c.lineNumber&&4===c.type&&"function"===c.value}return a};g.prototype.parseFunctionDeclaration=function(a){var c=this.createNode(),f=this.matchContextualKeyword("async");f&&this.nextToken();this.expectKeyword("function");var g=f?!1:this.match("*");g&&this.nextToken();var l=null,p=null;if(!a||!this.match("("))if(a=this.lookahead,l=this.parseVariableIdentifier(),
this.context.strict)this.scanner.isRestrictedWord(a.value)&&this.tolerateUnexpectedToken(a,n.Messages.StrictFunctionName);else if(this.scanner.isRestrictedWord(a.value)){p=a;var k=n.Messages.StrictFunctionName}else this.scanner.isStrictModeReservedWord(a.value)&&(p=a,k=n.Messages.StrictReservedWord);a=this.context.await;var A=this.context.allowYield;this.context.await=f;this.context.allowYield=!g;var r=this.parseFormalParameters(p),t=r.params,u=r.stricted;p=r.firstRestricted;r.message&&(k=r.message);
var G=this.context.strict,d=this.context.allowStrictDirective;this.context.allowStrictDirective=r.simple;r=this.parseFunctionSourceElements();this.context.strict&&p&&this.throwUnexpectedToken(p,k);this.context.strict&&u&&this.tolerateUnexpectedToken(u,k);this.context.strict=G;this.context.allowStrictDirective=d;this.context.await=a;this.context.allowYield=A;return f?this.finalize(c,new w.AsyncFunctionDeclaration(l,t,r)):this.finalize(c,new w.FunctionDeclaration(l,t,r,g))};g.prototype.parseFunctionExpression=
function(){var a=this.createNode(),c=this.matchContextualKeyword("async");c&&this.nextToken();this.expectKeyword("function");var f=c?!1:this.match("*");f&&this.nextToken();var g=null,l=this.context.await,p=this.context.allowYield;this.context.await=c;this.context.allowYield=!f;if(!this.match("(")){var k=this.lookahead;g=this.context.strict||f||!this.matchKeyword("yield")?this.parseVariableIdentifier():this.parseIdentifierName();if(this.context.strict)this.scanner.isRestrictedWord(k.value)&&this.tolerateUnexpectedToken(k,
n.Messages.StrictFunctionName);else if(this.scanner.isRestrictedWord(k.value)){var A=k;var r=n.Messages.StrictFunctionName}else this.scanner.isStrictModeReservedWord(k.value)&&(A=k,r=n.Messages.StrictReservedWord)}var t=this.parseFormalParameters(A);k=t.params;var u=t.stricted;A=t.firstRestricted;t.message&&(r=t.message);var G=this.context.strict,d=this.context.allowStrictDirective;this.context.allowStrictDirective=t.simple;t=this.parseFunctionSourceElements();this.context.strict&&A&&this.throwUnexpectedToken(A,
r);this.context.strict&&u&&this.tolerateUnexpectedToken(u,r);this.context.strict=G;this.context.allowStrictDirective=d;this.context.await=l;this.context.allowYield=p;return c?this.finalize(a,new w.AsyncFunctionExpression(g,k,t)):this.finalize(a,new w.FunctionExpression(g,k,t,f))};g.prototype.parseDirective=function(){var a=this.lookahead,c=this.createNode(),f=this.parseExpression();a=f.type===l.Syntax.Literal?this.getTokenRaw(a).slice(1,-1):null;this.consumeSemicolon();return this.finalize(c,a?new w.Directive(f,
a):new w.ExpressionStatement(f))};g.prototype.parseDirectivePrologues=function(){for(var a=null,c=[];;){var f=this.lookahead;if(8!==f.type)break;var g=this.parseDirective();c.push(g);g=g.directive;if("string"!==typeof g)break;"use strict"===g?(this.context.strict=!0,a&&this.tolerateUnexpectedToken(a,n.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(f,n.Messages.IllegalLanguageModeDirective)):!a&&f.octal&&(a=f)}return c};g.prototype.qualifiedPropertyName=
function(a){switch(a.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return"["===a.value}return!1};g.prototype.parseGetterMethod=function(){var a=this.createNode(),c=this.context.allowYield;this.context.allowYield=!0;var f=this.parseFormalParameters();0<f.params.length&&this.tolerateError(n.Messages.BadGetterArity);var g=this.parsePropertyMethod(f);this.context.allowYield=c;return this.finalize(a,new w.FunctionExpression(null,f.params,g,!1))};g.prototype.parseSetterMethod=function(){var a=
this.createNode(),c=this.context.allowYield;this.context.allowYield=!0;var f=this.parseFormalParameters();1!==f.params.length?this.tolerateError(n.Messages.BadSetterArity):f.params[0]instanceof w.RestElement&&this.tolerateError(n.Messages.BadSetterRestParameter);var g=this.parsePropertyMethod(f);this.context.allowYield=c;return this.finalize(a,new w.FunctionExpression(null,f.params,g,!1))};g.prototype.parseGeneratorMethod=function(){var a=this.createNode(),c=this.context.allowYield;this.context.allowYield=
!0;var f=this.parseFormalParameters();this.context.allowYield=!1;var g=this.parsePropertyMethod(f);this.context.allowYield=c;return this.finalize(a,new w.FunctionExpression(null,f.params,g,!0))};g.prototype.isStartOfExpression=function(){var a=!0,c=this.lookahead.value;switch(this.lookahead.type){case 7:a="["===c||"("===c||"{"===c||"+"===c||"-"===c||"!"===c||"~"===c||"++"===c||"--"===c||"/"===c||"/="===c;break;case 4:a="class"===c||"delete"===c||"function"===c||"let"===c||"new"===c||"super"===c||
"this"===c||"typeof"===c||"void"===c||"yield"===c}return a};g.prototype.parseYieldExpression=function(){var a=this.createNode();this.expectKeyword("yield");var c=null,f=!1;if(!this.hasLineTerminator){var g=this.context.allowYield;this.context.allowYield=!1;(f=this.match("*"))?(this.nextToken(),c=this.parseAssignmentExpression()):this.isStartOfExpression()&&(c=this.parseAssignmentExpression());this.context.allowYield=g}return this.finalize(a,new w.YieldExpression(c,f))};g.prototype.parseClassElement=
function(a){var c=this.lookahead,f=this.createNode(),g="",l=null,p=null,k=!1,A=!1,r=!1,t=!1;if(this.match("*"))this.nextToken();else if(k=this.match("["),l=this.parseObjectPropertyKey(),"static"===l.name&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(c=this.lookahead,r=!0,k=this.match("["),this.match("*")?this.nextToken():l=this.parseObjectPropertyKey()),3===c.type&&!this.hasLineTerminator&&"async"===c.value){var u=this.lookahead.value;":"!==u&&"("!==u&&"*"!==u&&(t=!0,c=this.lookahead,
l=this.parseObjectPropertyKey(),3===c.type&&"constructor"===c.value&&this.tolerateUnexpectedToken(c,n.Messages.ConstructorIsAsync))}u=this.qualifiedPropertyName(this.lookahead);3===c.type?"get"===c.value&&u?(g="get",k=this.match("["),l=this.parseObjectPropertyKey(),this.context.allowYield=!1,p=this.parseGetterMethod()):"set"===c.value&&u&&(g="set",k=this.match("["),l=this.parseObjectPropertyKey(),p=this.parseSetterMethod()):7===c.type&&"*"===c.value&&u&&(g="init",k=this.match("["),l=this.parseObjectPropertyKey(),
p=this.parseGeneratorMethod(),A=!0);!g&&l&&this.match("(")&&(g="init",p=t?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),A=!0);g||this.throwUnexpectedToken(this.lookahead);"init"===g&&(g="method");k||(r&&this.isPropertyKey(l,"prototype")&&this.throwUnexpectedToken(c,n.Messages.StaticPrototype),!r&&this.isPropertyKey(l,"constructor")&&(("method"!==g||!A||p&&p.generator)&&this.throwUnexpectedToken(c,n.Messages.ConstructorSpecialMethod),a.value?this.throwUnexpectedToken(c,
n.Messages.DuplicateConstructor):a.value=!0,g="constructor"));return this.finalize(f,new w.MethodDefinition(l,k,p,g,r))};g.prototype.parseClassElementList=function(){var a=[],c={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():a.push(this.parseClassElement(c));this.expect("}");return a};g.prototype.parseClassBody=function(){var a=this.createNode(),c=this.parseClassElementList();return this.finalize(a,new w.ClassBody(c))};g.prototype.parseClassDeclaration=function(a){var c=
this.createNode(),f=this.context.strict;this.context.strict=!0;this.expectKeyword("class");a=a&&3!==this.lookahead.type?null:this.parseVariableIdentifier();var g=null;this.matchKeyword("extends")&&(this.nextToken(),g=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var l=this.parseClassBody();this.context.strict=f;return this.finalize(c,new w.ClassDeclaration(a,g,l))};g.prototype.parseClassExpression=function(){var a=this.createNode(),c=this.context.strict;this.context.strict=
!0;this.expectKeyword("class");var f=3===this.lookahead.type?this.parseVariableIdentifier():null,g=null;this.matchKeyword("extends")&&(this.nextToken(),g=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var l=this.parseClassBody();this.context.strict=c;return this.finalize(a,new w.ClassExpression(f,g,l))};g.prototype.parseModule=function(){this.context.strict=!0;this.context.isModule=!0;this.scanner.isModule=!0;for(var a=this.createNode(),c=this.parseDirectivePrologues();2!==this.lookahead.type;)c.push(this.parseStatementListItem());
return this.finalize(a,new w.Module(c))};g.prototype.parseScript=function(){for(var a=this.createNode(),c=this.parseDirectivePrologues();2!==this.lookahead.type;)c.push(this.parseStatementListItem());return this.finalize(a,new w.Script(c))};g.prototype.parseModuleSpecifier=function(){var a=this.createNode();8!==this.lookahead.type&&this.throwError(n.Messages.InvalidModuleSpecifier);var c=this.nextToken(),f=this.getTokenRaw(c);return this.finalize(a,new w.Literal(c.value,f))};g.prototype.parseImportSpecifier=
function(){var a=this.createNode(),c;if(3===this.lookahead.type){var f=c=this.parseVariableIdentifier();this.matchContextualKeyword("as")&&(this.nextToken(),f=this.parseVariableIdentifier())}else f=c=this.parseIdentifierName(),this.matchContextualKeyword("as")?(this.nextToken(),f=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken());return this.finalize(a,new w.ImportSpecifier(f,c))};g.prototype.parseNamedImports=function(){this.expect("{");for(var a=[];!this.match("}");)a.push(this.parseImportSpecifier()),
this.match("}")||this.expect(",");this.expect("}");return a};g.prototype.parseImportDefaultSpecifier=function(){var a=this.createNode(),c=this.parseIdentifierName();return this.finalize(a,new w.ImportDefaultSpecifier(c))};g.prototype.parseImportNamespaceSpecifier=function(){var a=this.createNode();this.expect("*");this.matchContextualKeyword("as")||this.throwError(n.Messages.NoAsAfterImportNamespace);this.nextToken();var c=this.parseIdentifierName();return this.finalize(a,new w.ImportNamespaceSpecifier(c))};
g.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(n.Messages.IllegalImportDeclaration);var a=this.createNode();this.expectKeyword("import");var c=[];8!==this.lookahead.type&&(this.match("{")?c=c.concat(this.parseNamedImports()):this.match("*")?c.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(c.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?c.push(this.parseImportNamespaceSpecifier()):
this.match("{")?c=c.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),this.matchContextualKeyword("from")||this.throwError(this.lookahead.value?n.Messages.UnexpectedToken:n.Messages.MissingFromClause,this.lookahead.value),this.nextToken());var f=this.parseModuleSpecifier();this.consumeSemicolon();return this.finalize(a,new w.ImportDeclaration(c,f))};g.prototype.parseExportSpecifier=function(){var a=this.createNode(),c=this.parseIdentifierName(),
f=c;this.matchContextualKeyword("as")&&(this.nextToken(),f=this.parseIdentifierName());return this.finalize(a,new w.ExportSpecifier(c,f))};g.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(n.Messages.IllegalExportDeclaration);var a=this.createNode();this.expectKeyword("export");if(this.matchKeyword("default")){this.nextToken();if(this.matchKeyword("function"))var c=this.parseFunctionDeclaration(!0);else this.matchKeyword("class")?c=this.parseClassDeclaration(!0):
this.matchContextualKeyword("async")?c=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression():(this.matchContextualKeyword("from")&&this.throwError(n.Messages.UnexpectedToken,this.lookahead.value),c=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression(),this.consumeSemicolon());a=this.finalize(a,new w.ExportDefaultDeclaration(c))}else if(this.match("*")){this.nextToken();if(!this.matchContextualKeyword("from")){var f=
this.lookahead.value?n.Messages.UnexpectedToken:n.Messages.MissingFromClause;this.throwError(f,this.lookahead.value)}this.nextToken();c=this.parseModuleSpecifier();this.consumeSemicolon();a=this.finalize(a,new w.ExportAllDeclaration(c))}else if(4===this.lookahead.type){c=void 0;switch(this.lookahead.value){case "let":case "const":c=this.parseLexicalDeclaration({inFor:!1});break;case "var":case "class":case "function":c=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}a=
this.finalize(a,new w.ExportNamedDeclaration(c,[],null))}else if(this.matchAsyncFunction())c=this.parseFunctionDeclaration(),a=this.finalize(a,new w.ExportNamedDeclaration(c,[],null));else{c=[];var g=null;f=!1;for(this.expect("{");!this.match("}");)f=f||this.matchKeyword("default"),c.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");this.expect("}");this.matchContextualKeyword("from")?(this.nextToken(),g=this.parseModuleSpecifier(),this.consumeSemicolon()):f?(f=this.lookahead.value?
n.Messages.UnexpectedToken:n.Messages.MissingFromClause,this.throwError(f,this.lookahead.value)):this.consumeSemicolon();a=this.finalize(a,new w.ExportNamedDeclaration(null,c,g))}return a};return g}();t.Parser=k},function(k,t){Object.defineProperty(t,"__esModule",{value:!0});t.assert=function(k,r){if(!k)throw Error("ASSERT: "+r);}},function(k,t){Object.defineProperty(t,"__esModule",{value:!0});k=function(){function k(){this.errors=[];this.tolerant=!1}k.prototype.recordError=function(k){this.errors.push(k)};
k.prototype.tolerate=function(k){if(this.tolerant)this.recordError(k);else throw k;};k.prototype.constructError=function(k,p){k=Error(k);try{throw k;}catch(n){Object.create&&Object.defineProperty&&(k=Object.create(n),Object.defineProperty(k,"column",{value:p}))}return k};k.prototype.createError=function(k,p,n,w){n=this.constructError("Line "+p+": "+w,n);n.index=k;n.lineNumber=p;n.description=w;return n};k.prototype.throwError=function(k,p,n,w){throw this.createError(k,p,n,w);};k.prototype.tolerateError=
function(k,p,n,w){k=this.createError(k,p,n,w);if(this.tolerant)this.recordError(k);else throw k;};return k}();t.ErrorHandler=k},function(k,t){Object.defineProperty(t,"__esModule",{value:!0});t.Messages={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",
DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",
IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",
InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",
Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",
StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",
StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",
UnterminatedRegExp:"Invalid regular expression: missing /"}},function(k,t,y){Object.defineProperty(t,"__esModule",{value:!0});var r=y(9),p=y(4),n=y(11);k=function(){function k(k,l){this.source=k;this.errorHandler=l;this.isModule=this.trackComment=!1;this.length=k.length;this.index=0;this.lineNumber=0<k.length?1:0;this.lineStart=0;this.curlyStack=[]}k.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}};k.prototype.restoreState=function(k){this.index=
k.index;this.lineNumber=k.lineNumber;this.lineStart=k.lineStart};k.prototype.eof=function(){return this.index>=this.length};k.prototype.throwUnexpectedToken=function(k){void 0===k&&(k=n.Messages.UnexpectedTokenIllegal);return this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,k)};k.prototype.tolerateUnexpectedToken=function(k){void 0===k&&(k=n.Messages.UnexpectedTokenIllegal);this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,k)};
k.prototype.skipSingleLineComment=function(k){var l=[];if(this.trackComment){l=[];var n=this.index-k;var g={start:{line:this.lineNumber,column:this.index-this.lineStart-k},end:{}}}for(;!this.eof();){var a=this.source.charCodeAt(this.index);++this.index;if(p.Character.isLineTerminator(a))return this.trackComment&&(g.end={line:this.lineNumber,column:this.index-this.lineStart-1},k={multiLine:!1,slice:[n+k,this.index-1],range:[n,this.index-1],loc:g},l.push(k)),13===a&&10===this.source.charCodeAt(this.index)&&
++this.index,++this.lineNumber,this.lineStart=this.index,l}this.trackComment&&(g.end={line:this.lineNumber,column:this.index-this.lineStart},k={multiLine:!1,slice:[n+k,this.index],range:[n,this.index],loc:g},l.push(k));return l};k.prototype.skipMultiLineComment=function(){var k=[];if(this.trackComment){k=[];var l=this.index-2;var n={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}}}for(;!this.eof();){var g=this.source.charCodeAt(this.index);if(p.Character.isLineTerminator(g))13===
g&&10===this.source.charCodeAt(this.index+1)&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else{if(42===g&&47===this.source.charCodeAt(this.index+1))return this.index+=2,this.trackComment&&(n.end={line:this.lineNumber,column:this.index-this.lineStart},l={multiLine:!0,slice:[l+2,this.index-2],range:[l,this.index],loc:n},k.push(l)),k;++this.index}}this.trackComment&&(n.end={line:this.lineNumber,column:this.index-this.lineStart},l={multiLine:!0,slice:[l+2,this.index],range:[l,
this.index],loc:n},k.push(l));this.tolerateUnexpectedToken();return k};k.prototype.scanComments=function(){var k;this.trackComment&&(k=[]);for(var l=0===this.index;!this.eof();){var n=this.source.charCodeAt(this.index);if(p.Character.isWhiteSpace(n))++this.index;else if(p.Character.isLineTerminator(n))++this.index,13===n&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,l=!0;else if(47===n)if(n=this.source.charCodeAt(this.index+1),47===n)this.index+=
2,n=this.skipSingleLineComment(2),this.trackComment&&(k=k.concat(n)),l=!0;else if(42===n)this.index+=2,n=this.skipMultiLineComment(),this.trackComment&&(k=k.concat(n));else break;else if(l&&45===n)if(45===this.source.charCodeAt(this.index+1)&&62===this.source.charCodeAt(this.index+2))this.index+=3,n=this.skipSingleLineComment(3),this.trackComment&&(k=k.concat(n));else break;else if(60!==n||this.isModule)break;else if("!--"===this.source.slice(this.index+1,this.index+4))this.index+=4,n=this.skipSingleLineComment(4),
this.trackComment&&(k=k.concat(n));else break}return k};k.prototype.isFutureReservedWord=function(k){switch(k){case "enum":case "export":case "import":case "super":return!0;default:return!1}};k.prototype.isStrictModeReservedWord=function(k){switch(k){case "implements":case "interface":case "package":case "private":case "protected":case "public":case "static":case "yield":case "let":return!0;default:return!1}};k.prototype.isRestrictedWord=function(k){return"eval"===k||"arguments"===k};k.prototype.isKeyword=
function(k){switch(k.length){case 2:return"if"===k||"in"===k||"do"===k;case 3:return"var"===k||"for"===k||"new"===k||"try"===k||"let"===k;case 4:return"this"===k||"else"===k||"case"===k||"void"===k||"with"===k||"enum"===k;case 5:return"while"===k||"break"===k||"catch"===k||"throw"===k||"const"===k||"yield"===k||"class"===k||"super"===k;case 6:return"return"===k||"typeof"===k||"delete"===k||"switch"===k||"export"===k||"import"===k;case 7:return"default"===k||"finally"===k||"extends"===k;case 8:return"function"===
k||"continue"===k||"debugger"===k;case 10:return"instanceof"===k;default:return!1}};k.prototype.codePointAt=function(k){var l=this.source.charCodeAt(k);55296<=l&&56319>=l&&(k=this.source.charCodeAt(k+1),56320<=k&&57343>=k&&(l=1024*(l-55296)+k-56320+65536));return l};k.prototype.scanHexEscape=function(k){k="u"===k?4:2;for(var l=0,n=0;n<k;++n)if(!this.eof()&&p.Character.isHexDigit(this.source.charCodeAt(this.index)))l=16*l+"0123456789abcdef".indexOf(this.source[this.index++].toLowerCase());else return null;
return String.fromCharCode(l)};k.prototype.scanUnicodeCodePointEscape=function(){var k=this.source[this.index],l=0;for("}"===k&&this.throwUnexpectedToken();!this.eof();){k=this.source[this.index++];if(!p.Character.isHexDigit(k.charCodeAt(0)))break;l=16*l+"0123456789abcdef".indexOf(k.toLowerCase())}(1114111<l||"}"!==k)&&this.throwUnexpectedToken();return p.Character.fromCodePoint(l)};k.prototype.getIdentifier=function(){for(var k=this.index++;!this.eof();){var l=this.source.charCodeAt(this.index);
if(92===l||55296<=l&&57343>l)return this.index=k,this.getComplexIdentifier();if(p.Character.isIdentifierPart(l))++this.index;else break}return this.source.slice(k,this.index)};k.prototype.getComplexIdentifier=function(){var k=this.codePointAt(this.index),l=p.Character.fromCodePoint(k);this.index+=l.length;if(92===k){117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken();++this.index;if("{"===this.source[this.index]){++this.index;var n=this.scanUnicodeCodePointEscape()}else n=this.scanHexEscape("u"),
null!==n&&"\\"!==n&&p.Character.isIdentifierStart(n.charCodeAt(0))||this.throwUnexpectedToken();l=n}for(;!this.eof();){k=this.codePointAt(this.index);if(!p.Character.isIdentifierPart(k))break;n=p.Character.fromCodePoint(k);l+=n;this.index+=n.length;92===k&&(l=l.substr(0,l.length-1),117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,n=this.scanUnicodeCodePointEscape()):(n=this.scanHexEscape("u"),null!==n&&"\\"!==n&&p.Character.isIdentifierPart(n.charCodeAt(0))||
this.throwUnexpectedToken()),l+=n)}return l};k.prototype.octalToDecimal=function(k){var l="0"!==k,n="01234567".indexOf(k);!this.eof()&&p.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(l=!0,n=8*n+"01234567".indexOf(this.source[this.index++]),0<="0123".indexOf(k)&&!this.eof()&&p.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(n=8*n+"01234567".indexOf(this.source[this.index++])));return{code:n,octal:l}};k.prototype.scanIdentifier=function(){var k=this.index,l=92===this.source.charCodeAt(k)?
this.getComplexIdentifier():this.getIdentifier();var p=1===l.length?3:this.isKeyword(l)?4:"null"===l?5:"true"===l||"false"===l?1:3;if(3!==p&&k+l.length!==this.index){var g=this.index;this.index=k;this.tolerateUnexpectedToken(n.Messages.InvalidEscapedReservedWord);this.index=g}return{type:p,value:l,lineNumber:this.lineNumber,lineStart:this.lineStart,start:k,end:this.index}};k.prototype.scanPunctuator=function(){var k=this.index,l=this.source[this.index];switch(l){case "(":case "{":"{"===l&&this.curlyStack.push("{");
++this.index;break;case ".":++this.index;"."===this.source[this.index]&&"."===this.source[this.index+1]&&(this.index+=2,l="...");break;case "}":++this.index;this.curlyStack.pop();break;case ")":case ";":case ",":case "[":case "]":case ":":case "?":case "~":++this.index;break;default:l=this.source.substr(this.index,4),">>>="===l?this.index+=4:(l=l.substr(0,3),"==="===l||"!=="===l||">>>"===l||"<<="===l||">>="===l||"**="===l?this.index+=3:(l=l.substr(0,2),"&&"===l||"||"===l||"=="===l||"!="===l||"+="===
l||"-="===l||"*="===l||"/="===l||"++"===l||"--"===l||"<<"===l||">>"===l||"&="===l||"|="===l||"^="===l||"%="===l||"<="===l||">="===l||"=>"===l||"**"===l?this.index+=2:(l=this.source[this.index],0<="<>=!+-*%&|^/".indexOf(l)&&++this.index)))}this.index===k&&this.throwUnexpectedToken();return{type:7,value:l,lineNumber:this.lineNumber,lineStart:this.lineStart,start:k,end:this.index}};k.prototype.scanHexLiteral=function(k){for(var l="";!this.eof()&&p.Character.isHexDigit(this.source.charCodeAt(this.index));)l+=
this.source[this.index++];0===l.length&&this.throwUnexpectedToken();p.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken();return{type:6,value:parseInt("0x"+l,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:k,end:this.index}};k.prototype.scanBinaryLiteral=function(k){for(var l="",n;!this.eof();){n=this.source[this.index];if("0"!==n&&"1"!==n)break;l+=this.source[this.index++]}0===l.length&&this.throwUnexpectedToken();this.eof()||(n=this.source.charCodeAt(this.index),
(p.Character.isIdentifierStart(n)||p.Character.isDecimalDigit(n))&&this.throwUnexpectedToken());return{type:6,value:parseInt(l,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:k,end:this.index}};k.prototype.scanOctalLiteral=function(k,l){var n="",g=!1;p.Character.isOctalDigit(k.charCodeAt(0))?(g=!0,n="0"+this.source[this.index++]):++this.index;for(;!this.eof()&&p.Character.isOctalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];g||0!==n.length||this.throwUnexpectedToken();
(p.Character.isIdentifierStart(this.source.charCodeAt(this.index))||p.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken();return{type:6,value:parseInt(n,8),octal:g,lineNumber:this.lineNumber,lineStart:this.lineStart,start:l,end:this.index}};k.prototype.isImplicitOctalLiteral=function(){for(var k=this.index+1;k<this.length;++k){var l=this.source[k];if("8"===l||"9"===l)return!1;if(!p.Character.isOctalDigit(l.charCodeAt(0)))break}return!0};k.prototype.scanNumericLiteral=
function(){var k=this.index,l=this.source[k];r.assert(p.Character.isDecimalDigit(l.charCodeAt(0))||"."===l,"Numeric literal must start with a decimal digit or a decimal point");var n="";if("."!==l){n=this.source[this.index++];l=this.source[this.index];if("0"===n){if("x"===l||"X"===l)return++this.index,this.scanHexLiteral(k);if("b"===l||"B"===l)return++this.index,this.scanBinaryLiteral(k);if("o"===l||"O"===l||l&&p.Character.isOctalDigit(l.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(l,
k)}for(;p.Character.isDecimalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];l=this.source[this.index]}if("."===l){for(n+=this.source[this.index++];p.Character.isDecimalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];l=this.source[this.index]}if("e"===l||"E"===l){n+=this.source[this.index++];l=this.source[this.index];if("+"===l||"-"===l)n+=this.source[this.index++];if(p.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;p.Character.isDecimalDigit(this.source.charCodeAt(this.index));)n+=
this.source[this.index++];else this.throwUnexpectedToken()}p.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken();return{type:6,value:parseFloat(n),lineNumber:this.lineNumber,lineStart:this.lineStart,start:k,end:this.index}};k.prototype.scanStringLiteral=function(){var k=this.index,l=this.source[k];r.assert("'"===l||'"'===l,"String literal must starts with a quote");++this.index;for(var t=!1,g="";!this.eof();){var a=this.source[this.index++];if(a===l){l="";
break}else if("\\"===a)if((a=this.source[this.index++])&&p.Character.isLineTerminator(a.charCodeAt(0)))++this.lineNumber,"\r"===a&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(a){case "u":"{"===this.source[this.index]?(++this.index,g+=this.scanUnicodeCodePointEscape()):(a=this.scanHexEscape(a),null===a&&this.throwUnexpectedToken(),g+=a);break;case "x":a=this.scanHexEscape(a);null===a&&this.throwUnexpectedToken(n.Messages.InvalidHexEscapeSequence);g+=a;break;case "n":g+=
"\n";break;case "r":g+="\r";break;case "t":g+="\t";break;case "b":g+="\b";break;case "f":g+="\f";break;case "v":g+="\x0B";break;case "8":case "9":g+=a;this.tolerateUnexpectedToken();break;default:a&&p.Character.isOctalDigit(a.charCodeAt(0))?(a=this.octalToDecimal(a),t=a.octal||t,g+=String.fromCharCode(a.code)):g+=a}else if(p.Character.isLineTerminator(a.charCodeAt(0)))break;else g+=a}""!==l&&(this.index=k,this.throwUnexpectedToken());return{type:8,value:g,octal:t,lineNumber:this.lineNumber,lineStart:this.lineStart,
start:k,end:this.index}};k.prototype.scanTemplate=function(){var k="",l=!1,r=this.index,g="`"===this.source[r],a=!1,c=2;for(++this.index;!this.eof();){var f=this.source[this.index++];if("`"===f){c=1;l=a=!0;break}else if("$"===f){if("{"===this.source[this.index]){this.curlyStack.push("${");++this.index;l=!0;break}k+=f}else if("\\"===f)if(f=this.source[this.index++],p.Character.isLineTerminator(f.charCodeAt(0)))++this.lineNumber,"\r"===f&&"\n"===this.source[this.index]&&++this.index,this.lineStart=
this.index;else switch(f){case "n":k+="\n";break;case "r":k+="\r";break;case "t":k+="\t";break;case "u":if("{"===this.source[this.index])++this.index,k+=this.scanUnicodeCodePointEscape();else{var m=this.index,t=this.scanHexEscape(f);null!==t?k+=t:(this.index=m,k+=f)}break;case "x":f=this.scanHexEscape(f);null===f&&this.throwUnexpectedToken(n.Messages.InvalidHexEscapeSequence);k+=f;break;case "b":k+="\b";break;case "f":k+="\f";break;case "v":k+="\v";break;default:"0"===f?(p.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&
this.throwUnexpectedToken(n.Messages.TemplateOctalLiteral),k+="\x00"):p.Character.isOctalDigit(f.charCodeAt(0))?this.throwUnexpectedToken(n.Messages.TemplateOctalLiteral):k+=f}else p.Character.isLineTerminator(f.charCodeAt(0))?(++this.lineNumber,"\r"===f&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index,k+="\n"):k+=f}l||this.throwUnexpectedToken();g||this.curlyStack.pop();return{type:10,value:this.source.slice(r+1,this.index-c),cooked:k,head:g,tail:a,lineNumber:this.lineNumber,
lineStart:this.lineStart,start:r,end:this.index}};k.prototype.testRegExp=function(k,l){var p=k,g=this;0<=l.indexOf("u")&&(p=p.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function(a,c,f){a=parseInt(c||f,16);1114111<a&&g.throwUnexpectedToken(n.Messages.InvalidRegExp);return 65535>=a?String.fromCharCode(a):"\uffff"}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"\uffff"));try{return new RegExp(k,l)}catch(a){return null}};k.prototype.scanRegExpBody=function(){var k=this.source[this.index];r.assert("/"===
k,"Regular expression literal must start with a slash");for(var l=this.source[this.index++],t=!1,g=!1;!this.eof();)if(k=this.source[this.index++],l+=k,"\\"===k)k=this.source[this.index++],p.Character.isLineTerminator(k.charCodeAt(0))&&this.throwUnexpectedToken(n.Messages.UnterminatedRegExp),l+=k;else if(p.Character.isLineTerminator(k.charCodeAt(0)))this.throwUnexpectedToken(n.Messages.UnterminatedRegExp);else if(t)"]"===k&&(t=!1);else if("/"===k){g=!0;break}else"["===k&&(t=!0);g||this.throwUnexpectedToken(n.Messages.UnterminatedRegExp);
return l.substr(1,l.length-2)};k.prototype.scanRegExpFlags=function(){for(var k="";!this.eof();){var l=this.source[this.index];if(!p.Character.isIdentifierPart(l.charCodeAt(0)))break;++this.index;if("\\"!==l||this.eof())k+=l;else{l=this.source[this.index];if("u"===l){++this.index;l=this.index;var n=this.scanHexEscape("u");if(null!==n)for(k+=n;l<this.index;++l);else this.index=l,k+="u"}this.tolerateUnexpectedToken()}}return k};k.prototype.scanRegExp=function(){var k=this.index,l=this.scanRegExpBody(),
n=this.scanRegExpFlags(),g=this.testRegExp(l,n);return{type:9,value:"",pattern:l,flags:n,regex:g,lineNumber:this.lineNumber,lineStart:this.lineStart,start:k,end:this.index}};k.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var k=this.source.charCodeAt(this.index);return p.Character.isIdentifierStart(k)?this.scanIdentifier():40===k||41===k||59===k?this.scanPunctuator():39===k||34===k?this.scanStringLiteral():
46===k?p.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():p.Character.isDecimalDigit(k)?this.scanNumericLiteral():96===k||125===k&&"${"===this.curlyStack[this.curlyStack.length-1]?this.scanTemplate():55296<=k&&57343>k&&p.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()};return k}();t.Scanner=k},function(k,t){Object.defineProperty(t,"__esModule",{value:!0});t.TokenName={};t.TokenName[1]=
"Boolean";t.TokenName[2]="<end>";t.TokenName[3]="Identifier";t.TokenName[4]="Keyword";t.TokenName[5]="Null";t.TokenName[6]="Numeric";t.TokenName[7]="Punctuator";t.TokenName[8]="String";t.TokenName[9]="RegularExpression";t.TokenName[10]="Template"},function(k,t){Object.defineProperty(t,"__esModule",{value:!0});t.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:"\u00a0",iexcl:"\u00a1",cent:"\u00a2",pound:"\u00a3",curren:"\u00a4",yen:"\u00a5",brvbar:"\u00a6",sect:"\u00a7",uml:"\u00a8",copy:"\u00a9",
ordf:"\u00aa",laquo:"\u00ab",not:"\u00ac",shy:"\u00ad",reg:"\u00ae",macr:"\u00af",deg:"\u00b0",plusmn:"\u00b1",sup2:"\u00b2",sup3:"\u00b3",acute:"\u00b4",micro:"\u00b5",para:"\u00b6",middot:"\u00b7",cedil:"\u00b8",sup1:"\u00b9",ordm:"\u00ba",raquo:"\u00bb",frac14:"\u00bc",frac12:"\u00bd",frac34:"\u00be",iquest:"\u00bf",Agrave:"\u00c0",Aacute:"\u00c1",Acirc:"\u00c2",Atilde:"\u00c3",Auml:"\u00c4",Aring:"\u00c5",AElig:"\u00c6",Ccedil:"\u00c7",Egrave:"\u00c8",Eacute:"\u00c9",Ecirc:"\u00ca",Euml:"\u00cb",
Igrave:"\u00cc",Iacute:"\u00cd",Icirc:"\u00ce",Iuml:"\u00cf",ETH:"\u00d0",Ntilde:"\u00d1",Ograve:"\u00d2",Oacute:"\u00d3",Ocirc:"\u00d4",Otilde:"\u00d5",Ouml:"\u00d6",times:"\u00d7",Oslash:"\u00d8",Ugrave:"\u00d9",Uacute:"\u00da",Ucirc:"\u00db",Uuml:"\u00dc",Yacute:"\u00dd",THORN:"\u00de",szlig:"\u00df",agrave:"\u00e0",aacute:"\u00e1",acirc:"\u00e2",atilde:"\u00e3",auml:"\u00e4",aring:"\u00e5",aelig:"\u00e6",ccedil:"\u00e7",egrave:"\u00e8",eacute:"\u00e9",ecirc:"\u00ea",euml:"\u00eb",igrave:"\u00ec",
iacute:"\u00ed",icirc:"\u00ee",iuml:"\u00ef",eth:"\u00f0",ntilde:"\u00f1",ograve:"\u00f2",oacute:"\u00f3",ocirc:"\u00f4",otilde:"\u00f5",ouml:"\u00f6",divide:"\u00f7",oslash:"\u00f8",ugrave:"\u00f9",uacute:"\u00fa",ucirc:"\u00fb",uuml:"\u00fc",yacute:"\u00fd",thorn:"\u00fe",yuml:"\u00ff",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02c6",tilde:"\u02dc",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",
Theta:"\u0398",Iota:"\u0399",Kappa:"\u039a",Lambda:"\u039b",Mu:"\u039c",Nu:"\u039d",Xi:"\u039e",Omicron:"\u039f",Pi:"\u03a0",Rho:"\u03a1",Sigma:"\u03a3",Tau:"\u03a4",Upsilon:"\u03a5",Phi:"\u03a6",Chi:"\u03a7",Psi:"\u03a8",Omega:"\u03a9",alpha:"\u03b1",beta:"\u03b2",gamma:"\u03b3",delta:"\u03b4",epsilon:"\u03b5",zeta:"\u03b6",eta:"\u03b7",theta:"\u03b8",iota:"\u03b9",kappa:"\u03ba",lambda:"\u03bb",mu:"\u03bc",nu:"\u03bd",xi:"\u03be",omicron:"\u03bf",pi:"\u03c0",rho:"\u03c1",sigmaf:"\u03c2",sigma:"\u03c3",
tau:"\u03c4",upsilon:"\u03c5",phi:"\u03c6",chi:"\u03c7",psi:"\u03c8",omega:"\u03c9",thetasym:"\u03d1",upsih:"\u03d2",piv:"\u03d6",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200c",zwj:"\u200d",lrm:"\u200e",rlm:"\u200f",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201a",ldquo:"\u201c",rdquo:"\u201d",bdquo:"\u201e",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203a",oline:"\u203e",
frasl:"\u2044",euro:"\u20ac",image:"\u2111",weierp:"\u2118",real:"\u211c",trade:"\u2122",alefsym:"\u2135",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21b5",lArr:"\u21d0",uArr:"\u21d1",rArr:"\u21d2",dArr:"\u21d3",hArr:"\u21d4",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220b",prod:"\u220f",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221a",prop:"\u221d",infin:"\u221e",ang:"\u2220",and:"\u2227",
or:"\u2228",cap:"\u2229",cup:"\u222a",int:"\u222b",there4:"\u2234",sim:"\u223c",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22a5",sdot:"\u22c5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230a",rfloor:"\u230b",loz:"\u25ca",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666",lang:"\u27e8",rang:"\u27e9"}},function(k,t,y){Object.defineProperty(t,"__esModule",
{value:!0});var r=y(10),p=y(12),n=y(13),w=function(){function k(){this.values=[];this.curly=this.paren=-1}k.prototype.beforeFunctionExpression=function(k){return 0<="( { [ in typeof instanceof new return case delete throw void = += -= *= **= /= %= <<= >>= >>>= &= |= ^= , + - * ** / % ++ -- << >> >>> & | ^ ! ~ && || ? : === == >= <= < > != !==".split(" ").indexOf(k)};k.prototype.isRegexStart=function(){var k=this.values[this.values.length-1],n=null!==k;switch(k){case "this":case "]":n=!1;break;case ")":k=
this.values[this.paren-1];n="if"===k||"while"===k||"for"===k||"with"===k;break;case "}":n=!1,"function"===this.values[this.curly-3]?n=(k=this.values[this.curly-4])?!this.beforeFunctionExpression(k):!1:"function"===this.values[this.curly-4]&&(n=(k=this.values[this.curly-5])?!this.beforeFunctionExpression(k):!0)}return n};k.prototype.push=function(k){7===k.type||4===k.type?("{"===k.value?this.curly=this.values.length:"("===k.value&&(this.paren=this.values.length),this.values.push(k.value)):this.values.push(null)};
return k}();k=function(){function k(k,n){this.errorHandler=new r.ErrorHandler;this.errorHandler.tolerant=n?"boolean"===typeof n.tolerant&&n.tolerant:!1;this.scanner=new p.Scanner(k,this.errorHandler);this.scanner.trackComment=n?"boolean"===typeof n.comment&&n.comment:!1;this.trackRange=n?"boolean"===typeof n.range&&n.range:!1;this.trackLoc=n?"boolean"===typeof n.loc&&n.loc:!1;this.buffer=[];this.reader=new w}k.prototype.errors=function(){return this.errorHandler.errors};k.prototype.getNextToken=function(){if(0===
this.buffer.length){var k=this.scanner.scanComments();if(this.scanner.trackComment)for(var p=0;p<k.length;++p){var g=k[p],a=this.scanner.source.slice(g.slice[0],g.slice[1]);a={type:g.multiLine?"BlockComment":"LineComment",value:a};this.trackRange&&(a.range=g.range);this.trackLoc&&(a.loc=g.loc);this.buffer.push(a)}this.scanner.eof()||(k=void 0,this.trackLoc&&(k={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}}),p="/"===this.scanner.source[this.scanner.index]&&
this.reader.isRegexStart()?this.scanner.scanRegExp():this.scanner.lex(),this.reader.push(p),g={type:n.TokenName[p.type],value:this.scanner.source.slice(p.start,p.end)},this.trackRange&&(g.range=[p.start,p.end]),this.trackLoc&&(k.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},g.loc=k),9===p.type&&(g.regex={pattern:p.pattern,flags:p.flags}),this.buffer.push(g))}return this.buffer.shift()};return k}();t.Tokenizer=k}])});/*
 @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */
var saveAs=saveAs||function(k){if(!("undefined"===typeof k||"undefined"!==typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=k.document.createElementNS("http://www.w3.org/1999/xhtml","a"),y="download"in t,r=/constructor/i.test(k.HTMLElement)||k.safari,p=/CriOS\/[\d]+/.test(navigator.userAgent),n=function(g){(k.setImmediate||k.setTimeout)(function(){throw g;},0)},w=function(g){setTimeout(function(){"string"===typeof g?(k.URL||k.webkitURL||k).revokeObjectURL(g):g.remove()},4E4)},A=function(g){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(g.type)?
new Blob([String.fromCharCode(65279),g],{type:g.type}):g},l=function(g,a,c){c||(g=A(g));var f=this,l="application/octet-stream"===g.type,G=function(){var a=["writestart","progress","write","writeend"];a=[].concat(a);for(var c=a.length;c--;){var g=f["on"+a[c]];if("function"===typeof g)try{g.call(f,f)}catch(z){n(z)}}};f.readyState=f.INIT;if(y){var O=(k.URL||k.webkitURL||k).createObjectURL(g);setTimeout(function(){t.href=O;t.download=a;var c=new MouseEvent("click");t.dispatchEvent(c);G();w(O);f.readyState=
f.DONE})}else(function(){if((p||l&&r)&&k.FileReader){var a=new FileReader;a.onloadend=function(){var c=p?a.result:a.result.replace(/^data:[^;]*;/,"data:attachment/file;");k.open(c,"_blank")||(k.location.href=c);f.readyState=f.DONE;G()};a.readAsDataURL(g);f.readyState=f.INIT}else O||(O=(k.URL||k.webkitURL||k).createObjectURL(g)),l?k.location.href=O:k.open(O,"_blank")||(k.location.href=O),f.readyState=f.DONE,G(),w(O)})()},G=l.prototype;if("undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob)return function(g,
a,c){a=a||g.name||"download";c||(g=A(g));return navigator.msSaveOrOpenBlob(g,a)};G.abort=function(){};G.readyState=G.INIT=0;G.WRITING=1;G.DONE=2;G.error=G.onwritestart=G.onprogress=G.onwrite=G.onabort=G.onerror=G.onwriteend=null;return function(g,a,c){return new l(g,a||g.name||"download",c)}}}("undefined"!==typeof self&&self||"undefined"!==typeof window&&window||this.content);var gui=function(){var k=null;return gui={init:function(t,y){k=new UIL.Gui({parent:t,css:"left:0px; right: auto; ",size:240,color:"no",h:22,close:!1});y.withFps&&k.add("fps",{height:30}).show();this.add(y)},add:function(t){var y=t.base,r=t.function,p;for(p in y)if(t[p])k.add(y,p,t[p]).onChange(r)},dispose:function(){k.dispose()},resize:function(t){k.setWidth(t-10)}}}();var editor=function(){var k,t,y,r,p,n,w,A,l,G="javascript",g={},a,c,f,m,L,O,Q,ea,B,z=[],u,E,d,H,U,P,F,ya,Ea,wa,N,ma,ta,Ja,C=function(){},J=function(){},nb=!1,ob=!1,Za=[],$a=[],M=null,Ka=null,ka=0,Aa=0,ba=!1,la=0,hb=0,La=!1,wb=null,na="#DE5825",Ma=!1,V=!1,Ba=!1,Na=!1,Fa=!1,oa=!1,Ta=!1,qa=!1,Ua="",bb="",ha="",ab="",Ga,ca,T;return editor={isFullScreen:!1,extraMode:"",init:function(d,g,u,z){d&&(C=d);document.body.style.cssText="font-family: Consolas,monaco,monospace; padding:0; margin:0; font-size: 13px; height:100%; background:#222322; color:#dedede; overflow:hidden;";
na=u||"#DE5825";B="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAQAAABKxSfDAAAAI0lEQVR42kXCsQ0AIAzAsKgDAwM/8P+R6RjZSHCCJ3iDL/izpHclY0Bn72IAAAAASUVORK5CYII=)";k="-o-user-select:none; -ms-user-select:none; -khtml-user-select:none; -webkit-user-select:none; -moz-user-select: none;position:absolute; background:none; pointer-events:none; top:0;  height:100%;";t="box-sizing:border-box; -moz-box-sizing:border-box; -webkit-box-sizing:border-box;position:absolute; background:none; pointer-events:auto; display:block; border-left:1px solid #3f3f3f; border-right:1px solid #3f3f3f; top:0px; width:10px; height:100%; color: rgba(255, 255, 255, 0.2); cursor: e-resize;";
y="padding:0 0; width:70px; height:30px; font-size: 16px; font-weight: 900; letter-spacing: 1px; text-align: center; pointer-events:auto; cursor:pointer; display: inline-block; margin-left:10px; border-radius:6px;line-height: 30px; text-shadow: 1px 1px #000000;";r="font-size: 13px; pointer-events:auto; cursor: pointer; text-align: left; display: inline-block; width:120px; padding:2px 3px; text-shadow: 1px 1px #000000;";p="vertical-align: top; pointer-events:none; font-size: 12px; height: 12px; padding: 2px 0px; margin : 2px 0px; width:calc(100% - 40px); display: block; text-align: left; border-bottom: 1px dashed #626262; color:#626262;";
n="position:absolute; background:none; pointer-events:none; display:block; left:0px; top:45px; width:100%; background:none; height:calc(100% - 45px);";w="position:absolute; top:0px; left:0px; width:100%; height:40px; background:none; border-bottom:1px solid #3f3f3f; box-sizing:border-box;";A="pointer-events:auto; cursor:pointer; border-top-left-radius:6px; border-top-right-radius:6px; height: 35px; font-size: 14px; font-weight: 500; text-align: center; padding:10px 10px; margin-left:5px; margin-top:5px; border:1px solid #3f3f3f; border-bottom:none; display:inline-block; box-sizing:border-box;";
l="position:absolute; width:30px; height:30px; right:5px; top:5px; border-radius:6px; pointer-events:auto; cursor:pointer; ";V=g||!1;ea=document.createElement("div");ea.style.cssText="box-sizing:border-box; -moz-box-sizing:border-box; -webkit-box-sizing:border-box;-o-user-select:none; -ms-user-select:none; -khtml-user-select:none; -webkit-user-select:none; -moz-user-select: none;position: absolute; padding-top:10px; border-bottom:none; overflow:hidden;";document.body.appendChild(ea);editor.resizeMenu();
editor.makeBigMenu();Q=document.createElement("div");Q.style.cssText="padding: 10px 20px; width:100%; display: block; background-position: bottom; background-repeat: repeat-x;";ea.appendChild(Q);N=document.createElement("div");N.style.cssText="-o-user-select:none; -ms-user-select:none; -khtml-user-select:none; -webkit-user-select:none; -moz-user-select: none;position:absolute; right:0; bottom:0;";document.body.appendChild(N);ma=document.createElement("div");ma.style.cssText="-o-user-select:none; -ms-user-select:none; -khtml-user-select:none; -webkit-user-select:none; -moz-user-select: none;position:absolute; left:0; bottom:0;";
document.body.appendChild(ma);f=document.createElement("div");f.style.cssText="-o-user-select:none; -ms-user-select:none; -khtml-user-select:none; -webkit-user-select:none; -moz-user-select: none;width:150px; font-size: 10px; position:absolute;  bottom:9px; color:#000000; text-align:left; left:21px";ma.appendChild(f);c=document.createElement("div");c.style.cssText="-o-user-select:none; -ms-user-select:none; -khtml-user-select:none; -webkit-user-select:none; -moz-user-select: none;width:150px; font-size: 10px; position:absolute; bottom:10px; color:"+
na+"; text-align:left; left:70px";ma.appendChild(c);O=document.createElement("div");O.style.cssText="-o-user-select:none; -ms-user-select:none; -khtml-user-select:none; -webkit-user-select:none; -moz-user-select: none;position:absolute; font-size: 14px;  bottom: 24px; color:#888988; text-shadow: 1px 1px #000000; text-align:right; right:50px";N.appendChild(O);L=document.createElement("div");L.style.cssText="-o-user-select:none; -ms-user-select:none; -khtml-user-select:none; -webkit-user-select:none; -moz-user-select: none;width:150px; font-size: 10px; position:absolute;  bottom:9px; color:#000000; text-align:right; right:49px";
N.appendChild(L);m=document.createElement("div");m.style.cssText="-o-user-select:none; -ms-user-select:none; -khtml-user-select:none; -webkit-user-select:none; -moz-user-select: none;width:150px; font-size: 10px; position:absolute; bottom:10px; color:#787978; text-align:right; right:50px";N.appendChild(m);a=document.createElement("div");a.style.cssText="position:absolute; width:30px; height:30px; right:10px; bottom:10px; pointer-events:auto; cursor:pointer; ";a.innerHTML=editor.icon("scrIn","#787978",
30,30);N.appendChild(a);a.addEventListener("click",editor.toggleFullScreen,!1);a.addEventListener("mouseover",function(){this.innerHTML=editor.icon(editor.isFullScreen?"scrOut":"scrIn",na,30,30)},!1);a.addEventListener("mouseout",function(){this.innerHTML=editor.icon(editor.isFullScreen?"scrOut":"scrIn","#787978",30,30)},!1);Ea=document.createElement("a");Ea.href="https://github.com/lo-th";Ea.target="_blank";Ea.style.cssText="position:absolute; width:60px; height:30px; left:6px; bottom:13px; pointer-events:auto; cursor:pointer;";
Ea.innerHTML=editor.icon("3TH","#787978");ma.appendChild(Ea);wa=document.getElementById("3TH");Ea.addEventListener("mouseover",function(){wa.setAttributeNS(null,"fill",na)},!1);Ea.addEventListener("mouseout",function(){wa.setAttributeNS(null,"fill","#787978")},!1);document.addEventListener("fullscreenchange",editor.screenChange,!1);document.addEventListener("webkitfullscreenchange",editor.screenChange,!1);document.addEventListener("mozfullscreenchange",editor.screenChange,!1);document.addEventListener("MSFullscreenChange",
editor.screenChange,!1);document.addEventListener("contextmenu",editor.noMenu,!1);void 0!==z&&this.setLink(z);V&&this.show()},noMenu:function(a){a.clientX<ka-10&&40<a.clientY||a.preventDefault()},addExtraOption:function(a){J=a;ta=document.createElement("div");ta.style.cssText="position:absolute; width:30px; height:30px; right:10px; bottom:50px; pointer-events:auto; cursor:pointer; ";ta.innerHTML=editor.icon("shoot","#383938",30,30);N.appendChild(ta);Ja=document.createElement("div");Ja.style.cssText=
"position:absolute; width:30px; height:30px; right:10px; bottom:90px; pointer-events:auto; cursor:pointer; ";Ja.innerHTML=editor.icon("picker","#383938",30,30);N.appendChild(Ja);ta.addEventListener("click",function(){editor.toggleExtraMode("shoot")},!1);ta.addEventListener("mouseover",function(){this.innerHTML=editor.icon("shoot",na,30,30)},!1);ta.addEventListener("mouseout",function(){this.innerHTML=editor.icon("shoot","shoot"===editor.extraMode?"#787978":"#383938",30,30)},!1);Ja.addEventListener("click",
function(){editor.toggleExtraMode("picker")},!1);Ja.addEventListener("mouseover",function(){this.innerHTML=editor.icon("picker",na,30,30)},!1);Ja.addEventListener("mouseout",function(){this.innerHTML=editor.icon("picker","picker"===editor.extraMode?"#787978":"#383938",30,30)},!1)},toggleExtraMode:function(a){editor.extraMode=a!==editor.extraMode?a:"";ta.innerHTML=editor.icon("shoot","shoot"===editor.extraMode?"#787978":"#383938",30,30);Ja.innerHTML=editor.icon("picker","picker"===editor.extraMode?
"#787978":"#383938",30,30);J(editor.extraMode)},icon:function(a,c,d,f){var g=d=d||40;f=f||40;c=c||"#DEDEDE";f="0 0 "+f+" "+f;var k="";"3TH"===a&&(f="0 0 100 50",d=60,g=30,k="<filter id='f1' x='0' y='0' width='200%' height='200%'><feOffset result='offOut' in='SourceAlpha' dx='1' dy='1' /><feGaussianBlur result='blurOut' in='offOut' stdDeviation='1' /><feBlend in='SourceGraphic' in2='blurOut' mode='normal' /></filter>");d=["<svg xmlns='http://www.w3.org/2000/svg' version='1.1' xmlns:xlink='http://www.w3.org/1999/xlink' style='pointer-events:none;' preserveAspectRatio='xMinYMax meet' x='0px' y='0px' width='"+
d+"px' height='"+g+"px' viewBox='"+f+"'>"+k+"<g>"];switch(a){case "save":d[1]="<path stroke='"+c+"' stroke-width='4' stroke-linejoin='round' stroke-linecap='round' fill='none' d='M 26.125 17 L 20 22.95 14.05 17 M 20 9.95 L 20 22.95'/>";d[1]+="<path stroke='"+c+"' stroke-width='2.5' stroke-linejoin='round' stroke-linecap='round' fill='none' d='M 32.6 23 L 32.6 25.5 Q 32.6 28.5 29.6 28.5 L 10.6 28.5 Q 7.6 28.5 7.6 25.5 L 7.6 23'/>";break;case "scrIn":d[1]="<path fill='rgba(0,0,0,0.5)' stroke='none' d='M 3 20 L 1 20 1 30 11 30 11 28 3 28 3 20 M 11 3 L 11 1 1 1 1 11 3 11 3 3 11 3 M 30 11 L 30 1 20 1 20 3 28 3 28 11 30 11 M 30 20 L 28 20 28 28 20 28 20 30 30 30 30 20 M 24 22 L 24 9 7 9 7 22 24 22 M 22 11 L 22 20 9 20 9 11 22 11 Z'/>";
d[1]+="<path fill='"+c+"' stroke='none' d='M 23 21 L 23 8 6 8 6 21 23 21 M 21 10 L 21 19 8 19 8 10 21 10 M 2 19 L 0 19 0 29 10 29 10 27 2 27 2 19 M 10 2 L 10 0 0 0 0 10 2 10 2 2 10 2 M 29 19 L 27 19 27 27 19 27 19 29 29 29 29 19 M 27 10 L 29 10 29 0 19 0 19 2 27 2 27 10 Z'/>";break;case "scrOut":d[1]="<path fill='rgba(0,0,0,0.5)' stroke='none' d='M 30 1 L 1 1 1 30 30 30 30 1 M 3 3 L 28 3 28 28 3 28 3 3 M 9 17 L 7 17 7 22 12 22 12 20 9 20 9 17 M 12 11 L 12 9 7 9 7 14 9 14 9 11 12 11 M 22 14 L 24 14 24 9 19 9 19 11 22 11 22 14 M 24 17 L 22 17 22 20 19 20 19 22 24 22 24 17 Z'/>";
d[1]+="<path fill='"+c+"' stroke='none' d='M 29 0 L 0 0 0 29 29 29 29 0 M 27 27 L 2 27 2 2 27 2 27 27 M 8 16 L 6 16 6 21 11 21 11 19 8 19 8 16 M 11 10 L 11 8 6 8 6 13 8 13 8 10 11 10 M 21 16 L 21 19 18 19 18 21 23 21 23 16 21 16 M 21 10 L 21 13 23 13 23 8 18 8 18 10 21 10 Z'/>";break;case "shoot":d[1]="<path fill='rgba(0,0,0,0.5)' stroke='none' d='M 12.1 11.1 Q 11.9 11.55 10.7 11.9 9.5 12.2 10.4 13.15 12.45 14.3 12 14.8 11.55 15 11.15 15.4 10.15 16.4 10.15 17.85 10.15 19.3 11.15 20.3 12.15 21.3 13.6 21.3 L 17.3 21.3 Q 21.1 21.1 21.45 16.25 21.85 14.05 19.7 14.65 17.35 15.5 16.5 14.35 16.6 14.3 16.65 14.2 17.5 13.4 17.5 12.25 17.5 11.05 16.65 10.25 15.85 9.45 14.7 9.45 13.5 9.45 12.7 10.25 12.35 10.6 12.15 11.1 L 12.1 11.1 M 3 18 L 3 24 7 28 13 28 13 26 8 26 5 23 5 18 3 18 M 13 5 L 13 3 7 3 3 7 3 13 5 13 5 8 8 5 13 5 M 28 18 L 26 18 26 23 23 26 18 26 18 28 24 28 28 24 28 18 M 23 5 L 26 8 26 13 28 13 28 7 24 3 18 3 18 5 23 5 M 14.5 25 L 14.5 30 16.5 30 16.5 25 14.5 25 M 1 14.5 L 1 16.5 6 16.5 6 14.5 1 14.5 M 16.5 6 L 16.5 1 14.5 1 14.5 6 16.5 6 M 30 14.5 L 25 14.5 25 16.5 30 16.5 30 14.5 Z'/>";
d[1]+="<path fill='"+c+"' stroke='none' d='M 11.1 10.05 L 11.1 10.1 Q 10.9 10.57 9.7 10.85 8.5 11.2 9.4 12.15 11.48 13.3 10.95 13.75 10.53 14 10.15 14.4 9.15 15.4 9.15 16.85 9.15 18.3 10.15 19.3 11.15 20.3 12.6 20.3 L 16.3 20.3 Q 20.1 20.1 20.45 15.25 20.8625 13 18.7 13.65 16.36 14.5 15.5 13.35 15.57 13.27 15.65 13.2 16.5 12.4 16.5 11.25 16.5 10.05 15.65 9.25 14.85 8.45 13.7 8.45 12.5 8.45 11.7 9.25 11.33 9.61 11.1 10.05 M 2 17 L 2 23 6 27 12 27 12 25 7 25 4 22 4 17 2 17 M 12 4 L 12 2 6 2 2 6 2 12 4 12 4 7 7 4 12 4 M 27 17 L 25 17 25 22 22 25 17 25 17 27 23 27 27 23 27 17 M 22 4 L 25 7 25 12 27 12 27 6 23 2 17 2 17 4 22 4 M 5 15.5 L 5 13.5 0 13.5 0 15.5 5 15.5 M 15.5 24 L 13.5 24 13.5 29 15.5 29 15.5 24 M 15.5 5 L 15.5 0 13.5 0 13.5 5 15.5 5 M 24 13.5 L 24 15.5 29 15.5 29 13.5 24 13.5 Z'/>";
break;case "picker":d[1]="<path fill='rgba(0,0,0,0.5)' stroke='none' d='M 7.15 14.25 L 5.75 12.85 2.95 15.65 4.35 17.05 7.15 14.25 M 5 9 L 1 9 1 11 5 11 5 9 M 4.35 2.95 L 2.95 4.35 5.75 7.15 7.15 5.75 4.35 2.95 M 14.25 7.15 L 17.05 4.35 15.65 2.95 12.85 5.75 14.25 7.15 M 11 5 L 11 1 9 1 9 5 11 5 M 22.9 19.9 L 28 17 10 10 17 28 19.9 22.9 26 29 29 26 22.9 19.9 M 19 20 L 17 24 13 13 24 17 20 19 27 26 26 27 19 20 Z'/>";d[1]+="<path fill='"+c+"' stroke='none' d='M 3.35 16.05 L 6.15 13.25 4.75 11.85 1.95 14.65 3.35 16.05 M 4 10 L 4 8 0 8 0 10 4 10 M 3.35 1.95 L 1.95 3.35 4.75 6.15 6.15 4.75 3.35 1.95 M 8 4 L 10 4 10 0 8 0 8 4 M 16.05 3.35 L 14.65 1.95 11.85 4.75 13.25 6.15 16.05 3.35 M 21.9 18.9 L 27 16 9 9 16 27 18.9 21.9 25 28 28 25 21.9 18.9 M 18 19 L 16 23 12 12 23 16 19 18 26 25 25 26 18 19 Z'/>";
break;case "3TH":d[1]="<path id='3TH' filter='url(#f1)' fill='"+c+"' stroke='none' stroke-width='0' d='M 83.7 48.3 L 94 48.3 94 32.95 Q 94 26.65 89.5 22.1 85.05 17.7 78.65 17.7 L 78.55 17.7 Q 78.35 17.7 78.15 17.7 L 73.6 17.7 73.6 8 63.4 8 63.4 17.7 49.7 17.7 49.7 8 39.5 8 39.5 17.7 34.05 17.7",d[1]+="Q 34.35 16.35 34.35 14.8 L 34.35 14.7 Q 34.35 12.45 33.65 10.45 32.7 7.7 30.55 5.55 30.15 5.1 29.6 4.7 26.1 1.7 21.25 1.7 18.3 1.7 15.8 2.85 13.75 3.75 12 5.55 8.3 9.35 8.2 14.6 8.2 14.7 8.2 14.8 L 18.4 14.8 18.4 14.7",
d[1]+="Q 18.4 13.55 19.2 12.75 20.05 11.9 21.15 11.9 L 21.35 11.9 Q 22.5 11.9 23.35 12.75 24.05 13.55 24.15 14.7 L 24.15 14.8 Q 24.15 15.95 23.35 16.85 22.5 17.6 21.35 17.7",d[1]+="L 18.4 17.7 18.4 27.9 21.6 27.9 Q 23.45 28 24.9 29.35 25.5 30.05 25.9 30.85 26.3 31.8 26.3 32.95 26.3 35.1 24.9 36.55 23.45 38 21.35 38.1 L 21.25 38.1 Q 19.1 38.1 17.65 36.55 16.1 35.1 16.1 32.95 16.1 32.85 16.1 32.75 L 6 32.75",d[1]+="Q 6 32.85 6 32.95 6 39.3 10.45 43.75 12.8 46.15 15.8 47.25 18.3 48.3 21.25 48.3 L 21.35 48.3 Q 26 48.2 29.6 45.8 30.95 44.9 32.1 43.75 36.5 39.3 36.5 32.95 36.5 31.9 36.4 30.85 36.2 29.35 35.8 27.9 L 39.5 27.9 39.5 32.75 Q 39.5 32.85 39.5 32.95 39.5 39.3 44.05 43.75 48.45 48.3 54.85 48.3 L 60.45 48.3 60.45 38.1 54.75 38.1",
d[1]+="Q 52.7 38.1 51.15 36.55 49.7 35.1 49.7 32.95 L 49.7 27.9 54.75 27.9 Q 54.85 27.9 54.95 27.9 L 63.4 27.9 63.4 48.3 73.6 48.3 73.6 32.95 Q 73.6 30.85 75.05 29.35 76.3 28.2 77.85 27.9 78.15 27.9 78.55 27.9 L 78.65 27.9 Q 80.85 27.9 82.25 29.35 83.7 30.85 83.7 32.95 L 83.7 48.3 Z'/>"}d[2]="</g></svg>";return d.join("\n")},addUI:function(){E=document.createElement("div");E.style.cssText=k;E.style.right="0";P=document.createElement("div");P.style.cssText=t;P.name="right";P.addEventListener("mouseover",
editor.mid_over,!1);P.addEventListener("mouseout",editor.mid_out,!1);P.addEventListener("mousedown",editor.mid_down,!1);document.body.appendChild(E);document.body.appendChild(P);gui.init(E,wb);Na=Ta=!0},removeUI:function(){Ta&&(gui.dispose(),P.removeEventListener("mouseover",editor.mid_over),P.removeEventListener("mouseout",editor.mid_out),P.removeEventListener("mousedown",editor.mid_down),document.body.removeChild(P),document.body.removeChild(E),Na=Ta=!1)},addCodeEditor:function(){u=document.createElement("div");
u.style.cssText=k;u.style.left="0";document.body.appendChild(u);U=document.createElement("div");U.style.cssText=t;document.body.appendChild(U);U.name="left";U.addEventListener("mouseover",editor.mid_over,!1);U.addEventListener("mouseout",editor.mid_out,!1);U.addEventListener("mousedown",editor.mid_down,!1);d=document.createElement("div");d.style.cssText=n;u.appendChild(d);F=document.createElement("div");F.style.cssText=w;u.appendChild(F);T=document.createElement("div");T.style.cssText=l;T.innerHTML=
editor.icon("save",na,30);u.appendChild(T);T.addEventListener("mouseover",editor.save_over,!1);T.addEventListener("mouseout",editor.save_out,!1);T.addEventListener("click",editor.save,!1);editor.addCode(ha,!0);H=CodeMirror(d,{value:Ua,mode:"text/"+G,theme:"monokai",lineNumbers:!0,matchBrackets:!0,indentWithTabs:!1,styleActiveLine:!1,tabSize:4,indentUnit:4});H.on("change",function(){editor.onChange()});H.on("focus",function(){ob=!0;view&&view.needFocus()});H.on("blur",function(){ob=!1});H.on("drop",
function(){nb?nb=!1:H.setValue("")});H.on("dragstart",function(){nb=!0});Fa=!0},setMode:function(a){G=a;Fa&&H.setOption("mode","glsl"===G?"text/x-"+G:"text/"+G)},removeCodeEditor:function(){d.removeChild(H.getWrapperElement());H=null;U.removeEventListener("mouseover",editor.mid_over);U.removeEventListener("mouseout",editor.mid_out);U.removeEventListener("mousedown",editor.mid_down);T.removeEventListener("mouseover",editor.save_over);T.removeEventListener("mouseout",editor.save_out);T.removeEventListener("click",
editor.save);u.removeChild(F);u.removeChild(d);u.removeChild(T);document.body.removeChild(U);document.body.removeChild(u);Fa=!1},uiReset:function(){var a=Ta?!0:!1;editor.hideUI();qa&&(Na=a);editor.Bdesative(z[2]);qa=!1;wb=null},setOption:function(a){wb=a;qa=!0;this.Bdefault(z[2]);Na&&this.showUI()},hideUI:function(){Ta&&this.removeUI();Ba=!1;hb=la;la=0;this.Bdefault(z[2]);this.resize()},showUI:function(){qa&&(Ta||this.addUI(),Ba=!0,la=hb?hb:310,this.Bactive(z[2]),this.resize())},hide:function(){Fa&&
this.removeCodeEditor();V=!1;Aa=ka;ka=0;this.Bdefault(z[1]);this.resize()},show:function(){Fa||this.addCodeEditor();V=!0;ka=Aa?Aa:Math.floor(window.innerWidth-window.innerWidth/1.618);this.resize();H.refresh()},resizeMenu:function(a){ea.style.width=(a||window.innerWidth-ka-la)+"px"},resize:function(a){a&&(ba&&(ka=a.clientX+10,ka=100>ka?100:ka),La&&(la=window.innerWidth-a.clientX+10,la=100>la?100:la));view&&view.setLeft(ka,la);null!==Ka&&(Ka.s[0].left=ka+70+"px",Ka.needZone());ma.style.left=ka+"px";
N.style.right=la+"px";ea.style.left=ka+"px";ya.style.right=la+"px";Ta&&(P.style.right=la-10+"px",E.style.width=la-10+"px",gui.resize(la));Fa&&(U.style.left=ka-10+"px",u.style.width=ka-10+"px")},log:function(a){c.textContent=a;f.textContent=a},tell:function(a){m.textContent=a;L.textContent=a},makeBigMenu:function(){for(var a=["DEMO","CODE","UI","PAUSE"],c,d,f=0;f<a.length;f++)d=a[f],c=document.createElement("div"),c.style.cssText=y,c.addEventListener("click",editor["click"+d],!1),c.style.color=na,
c.name=d,"PAUSE"===d&&(d="&#10074;&#10074;",c.style.width="30px"),"UI"===d&&(c.style.width="30px"),c.innerHTML=d,ea.appendChild(c),z.push(c);for(f=z.length;f--;)z[f].addEventListener("mouseover",editor.Bover,!1),z[f].addEventListener("mouseout",editor.Bout,!1)},clickDEMO:function(a){a.preventDefault();Ma?editor.hideBigMenu():editor.showBigMenu()},clickCODE:function(a){a.preventDefault();V?editor.hide():editor.show()},clickPAUSE:function(a){a.preventDefault();oa?(this.innerHTML="&#10074;&#10074;",
oa=!1):(this.innerHTML="&#9654;",oa=!0);view&&(view.pause=oa)},clickUI:function(a){a.preventDefault();Ba?editor.hideUI():editor.showUI()},showBigMenu:function(){var a=Array.isArray(demos);ea.style.background="rgba(21,21,21,0.75)";Q.style.backgroundImage=B;Ma=!0;if(a){demos.sort();var c=demos.length;for(a=0;a<c;a++)editor.addButtonMenu(demos[a],demos[a]===ha)}else for(var d in demos)for(editor.addRubric(d),demos[d].sort(),c=demos[d].length,a=0;a<c;a++)editor.addButtonMenu(demos[d][a],demos[d][a]===
ha)},hideBigMenu:function(){ea.style.background="none";ea.style.borderBottom="none";Q.style.backgroundImage="none";Ma=!1;for(var a=Q.childNodes.length,c;a--;)c=Q.childNodes[a],c.isButton&&(c.removeEventListener("click",editor.demoSelect),c.removeEventListener("mouseover",editor.MBover),c.removeEventListener("mouseout",editor.MBout)),Q.removeChild(c);editor.Bdefault(z[0])},addRubric:function(a){var c=document.createElement("div");c.style.cssText=p;c.innerHTML=a;Q.appendChild(c)},addButtonMenu:function(a,
c){var d=document.createElement("div");d.style.cssText=r;d.innerHTML="&bull; "+a.charAt(0).toUpperCase()+a.substring(1).toLowerCase();d.name=a;c?(d.style.color="#3f3f3f",d.style.pointerEvents="none"):(d.isButton=!0,d.addEventListener("click",editor.demoSelect,!1),d.addEventListener("mouseover",editor.MBover,!1),d.addEventListener("mouseout",editor.MBout,!1));Q.appendChild(d)},demoSelect:function(a){a.preventDefault();editor.hideBigMenu();editor.load("demos/"+a.target.name+".js")},MBover:function(a){a.preventDefault();
a.target.style.color=na},MBout:function(a){a.preventDefault();a.target.style.color="#dedede"},Bover:function(a){a.preventDefault();a.target.style.background=na;a.target.style.color="#000000";a.target.style.textShadow="1px 1px "+na},Bout:function(a){a.preventDefault();var c=0;"CODE"===a.target.name&&V&&(c=1);"DEMO"===a.target.name&&Ma&&(c=1);"UI"===a.target.name&&Ba&&(c=1);c?editor.Bactive(a.target):editor.Bdefault(a.target)},Bdefault:function(a){a.style.background="none";a.style.color=na;a.style.textShadow=
"1px 1px #000000";a.style.pointerEvents="auto"},Bactive:function(a){a.style.background="#3f3f3f";a.style.color="#999999";a.style.textShadow="1px 1px #333333"},Bdesative:function(a){a.style.background="none";a.style.color="#3f3f3f";a.style.pointerEvents="none"},mid_over:function(a){a.preventDefault();this.style.background=na},mid_out:function(a){a.preventDefault();a=a.target.name;"left"!==a||ba||(this.style.background="none");"right"!==a||La||(this.style.background="none")},mid_down:function(a){a.preventDefault();
a=a.target.name;"left"===a&&(ba=!0);"right"===a&&(La=!0);document.addEventListener("mouseup",editor.mid_up,!1);document.addEventListener("mousemove",editor.resize,!1)},mid_up:function(a){La=ba=!1;document.removeEventListener("mouseup",editor.mid_up,!1);document.removeEventListener("mousemove",editor.resize,!1)},clearMenuCode:function(){for(var a=F.childNodes.length,c;a--;)c=F.childNodes[a],c.removeEventListener("mousedown",editor.codeDown),F.removeChild(c)},selectMenuCode:function(){for(var a=F.childNodes.length,
c;a--;)c=F.childNodes[a],c.style.borderBottom=c.name===bb?"1px solid #222322":"none"},addCode:function(a,c){var d=document.createElement("div");d.style.cssText=A;d.name=a;d.innerHTML=a;d.addEventListener("mousedown",editor.codeDown);c&&(d.style.borderBottom="1px solid #222322");F.appendChild(d)},codeDown:function(a){a=a.target.name;a!==bb&&(bb=a,editor.selectMenuCode(),H.setValue(g[a]))},save_over:function(a){a.preventDefault();T.innerHTML=editor.icon("save","#000",30);T.style.background=na},save_out:function(a){a.preventDefault();
T.innerHTML=editor.icon("save",na,30);T.style.background="none"},save:function(a){a.preventDefault();a=new Blob([Ua],{type:"text/plain"});saveAs(a,ha+".js")},clearTmpCode:function(a){g={}},getChannelNumber:function(a){var c=0;a=a.substring(a.length-1);"A"===a&&(c=1);"B"===a&&(c=2);"C"===a&&(c=3);"D"===a&&(c=4);"V"===a&&(c=5);"E"===a&&(c=6);return c},load:function(a){var c=a.substring(a.lastIndexOf("/")+1,a.lastIndexOf("."));a.substring(a.lastIndexOf(".")+1);editor.getChannelNumber(c);var d=new XMLHttpRequest;
d.overrideMimeType("text/plain; charset=x-user-defined");d.open("GET",a,!0);d.onload=function(){g[c]=d.responseText;editor.uiReset();Fa?(editor.clearMenuCode(),editor.addCode(c,!0),ha=c,H.setValue(g[c])):(ha=c,Ua=g[c],editor.inject())};d.send()},unFocus:function(){Fa&&H.getInputField().blur();view&&view.haveFocus()},getFocus:function(){return ob},onChange:function(){clearTimeout(M);Ua=H.getValue();this.validate()&&(M=setTimeout(function(){editor.inject()},300))},inject:function(a){a=a||0;if(0===a){var c=
!0;location.hash.substr(1)===ha&&(c=!1);location.hash=ha;O.innerHTML=ha.charAt(0).toUpperCase()+ha.substring(1).toLowerCase()}var d=document.createElement("script");d.language="javascript";d.type="text/javascript";d.text=Ua;document.getElementsByTagName("BODY").item(a).appendChild(d);0===a&&C(ha,c)},validate:function(a){return H.operation(function(){for(;0<Za.length;)H.removeLineClass(Za.shift(),"background","errorLine");for(var a=$a.length;a--;)H.removeLineWidget($a[a]);$a.length=0;var c=Ua;try{var d=
esprima.parse(c,{tolerant:!0}).errors;for(a=d.length;a--;){var f=d[a],g=document.createElement("div");g.className="esprima-error";g.textContent=f.message.replace(/Line [0-9]+: /,"");var k=f.lineNumber-1;Za.push(k);H.addLineClass(k,"background","errorLine");var l=H.addLineWidget(k,g);$a.push(l)}}catch(Fb){g=document.createElement("div"),g.className="esprima-error",g.textContent=Fb.message.replace(/Line [0-9]+: /,""),k=Fb.lineNumber-1,Za.push(k),H.addLineClass(k,"background","errorLine"),l=H.addLineWidget(k,
g),$a.push(l)}return 0===Za.length})},setLink:function(a){ab=a;this.addGithubLink()},addGithubLink:function(){ya=document.createElement("div");ya.style.cssText="-o-user-select:none; -ms-user-select:none; -khtml-user-select:none; -webkit-user-select:none; -moz-user-select: none;position:absolute; right:0; top:0; width:1px; height:1px; pointer-events:none;";ya.innerHTML="<svg width='60' height='60' viewBox='0 0 250 250' style='fill:rgba(255,255,255,0.05); color:rgba(0,0,0,0.3); position: absolute; top: 0; border: 0; right: 0;'>\n<path d='M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z' id='octo' onmouseover='editor.Gover();' onmouseout='editor.Gout();' onmousedown='editor.Gdown();' style='cursor:pointer; pointer-events:auto;'></path>\n<path d='M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2' fill='currentColor' style='transform-origin: 130px 106px; pointer-events:none;' id='octo-arm'></path>\n<path d='M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z' fill='currentColor' id='octo-body' style='pointer-events:none;'></path></svg>";
document.body.appendChild(ya);Ga=document.getElementById("octo");ca=document.getElementById("octo-arm")},Gover:function(){Ga.setAttribute("fill",na);ca.style.webkitAnimationName="octocat-wave";ca.style.webkitAnimationDuration="560ms"},Gout:function(){Ga.setAttribute("fill","rgba(255,255,255,0.05)");ca.style.webkitAnimationName="none"},Gdown:function(){ab&&window.location.assign("https://github.com/lo-th/"+ab)},joyMove:function(a){user.key[0]=a[0];user.key[1]=a[1]},addJoystick:function(a){a=a||{};
user.setSameAxis(void 0!==a.sameAxis?a.sameAxis:!1);Ka=UIL.add(user,"axeL",{type:"joystick",target:document.body,pos:{left:ka+70+"px",top:"auto",bottom:"10px"},name:"MOVE",w:150,multiplicator:1,precision:2,fontColor:"#308AFF",mode:1}).onChange(editor.joyMove).listen()},removeJoystick:function(){Ka.clear();Ka=null},screenChange:function(){editor.isFullScreen=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?!0:!1;a.innerHTML=editor.icon(editor.isFullScreen?
"scrOut":"scrIn","#787978",30,30)},toggleFullScreen:function(){if(editor.isFullScreen)"exitFullscreen"in document?document.exitFullscreen():"webkitExitFullscreen"in document?document.webkitExitFullscreen():"mozCancelFullScreen"in document?document.mozCancelFullScreen():"msExitFullscreen"in document&&document.msExitFullscreen();else if("fullscreenEnabled"in document||"webkitFullscreenEnabled"in document||"mozFullScreenEnabled"in document||"msFullscreenEnabled"in document)if(document.fullscreenEnabled||
document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled){var a=document.body;"requestFullscreen"in a?a.requestFullscreen():"webkitRequestFullscreen"in a?a.webkitRequestFullscreen():"mozRequestFullScreen"in a?a.mozRequestFullScreen():"msRequestFullscreen"in a&&a.msRequestFullscreen()}}}}();
